//================================================================
// RS_ScreenManager.js
// ---------------------------------------------------------------
// The MIT License
// Copyright (c) 2016 biud436
// ---------------------------------------------------------------
// Free for commercial and non commercial use.
//================================================================

/*:
 * @plugindesc (v1.0.21) <RS_ScreenManager>
 * @author biud436
 *
 * @param Test Options
 * @text Options
 *
 * @param options.resize
 * @text options.resize
 * @type boolean
 * @parent Test Options
 * @desc This is the parameter for resizing the graphics renderer
 * @default false
 * @on true
 * @off false
 *
 * @param options.autoScaling
 * @text options.autoScaling
 * @type boolean
 * @parent Test Options
 * @desc This is the parameter for scaling the graphics objects.
 * @default false
 * @on true
 * @off false
 *
 * @param options.minWidth
 * @text options.minWidth
 * @parent Test Options
 * @type boolean
 * @desc Set whether it can not set the width is less than minimum width
 * @default true
 * @on true
 * @off false
 *
 * @param options.minHeight
 * @text options.minHeight
 * @parent Test Options
 * @type boolean
 * @desc Set whether it can not set the width is less than minimum height
 * @default true
 * @on true
 * @off false
 *
 * @param Scene Options
 * @text Scene Options
 *
 * @param Recreate Scene
 * @text Recreate Scene
 * @parent Scene Options
 * @type boolean
 * @desc To set as true, the current scene will recreate after changing screen size
 * @default true
 *
 * @param Use All Resolutions
 * @text Use All Resolutions
 * @parent Scene Options
 * @type boolean
 * @desc Sets whether resolution gets even if the resolution of your device is not supported.
 * @default false
 *
 * @param Enable Custom Aspect Ratio
 * @text Enable Custom Aspect Ratio
 * @parent Scene Options
 * @type boolean
 * @desc In case of true, the screen size will convert to fit a custom aspect ratio.
 * @default true
 *
 * @param Custom Aspect Ratio
 * @text Custom Aspect Ratio
 * @parent Scene Options
 * @type select
 * @desc Specify the aspect ratio as you want.
 * @default 16:9
 * @option 16:9 (Wide Screen)
 * @value 16:9
 * @option 4:3
 * @value 4:3
 * 
 * @param Auto Sync Manifest file
 * @text Auto Sync Manifest file
 * @parent Scene Options
 * @type boolean
 * @desc if true, it can be changed the manifest file when resizing the window in RPG Maker MV v1.6.1 with NwJs
 * @default false
 * @on true
 * @off false
 *
 * @param Screen Size
 * @text Screen Size
 *
 * @param Default Screen Size
 * @text Default Screen Size
 * @parent Screen Size
 * @type select
 * @desc This parameter allows you to change your default game screen size
 * Note that the screen size limited on you available screen size
 * @default 1280 x 720
 * @option 320 x 240 (4:3)
 * @value 320 x 240
 * @option 544 x 416 (17:13)
 * @value 544 x 416
 * @option 640 x 480 (4:3)
 * @value 640 x 480
 * @option 800 x 600 (4:3)
 * @value 800 x 600
 * @option 816 x 624 (17:13)
 * @value 816 x 624
 * @option 1024 x 768 (4:3)
 * @value 1024 x 768
 * @option 1152 x 864 (4:3)
 * @value 1152 x 864
 * @option 1280 x 720 (16:9)
 * @value 1280 x 720
 * @option 1280 x 800 (8:5)
 * @value 1280 x 800
 * @option 1280 x 960 (4:3)
 * @value 1280 x 960
 * @option 1360 x 768 (85:48)
 * @value 1360 x 768
 * @option 1366 x 768 (683:384)
 * @value 1366 x 768
 * @option 1400 x 1050 (4:3)
 * @value 1400 x 1050
 * @option 1440 x 900 (8:5)
 * @value 1440 x 900
 * @option 1600 x 900 (16:9)
 * @value 1600 x 900
 * @option 1600 x 1200 (4:3)
 * @value 1600 x 1200
 * @option 1680 x 1050 (8:5)
 * @value 1680 x 1050
 * @option 1920 x 1080 (16:9)
 * @value 1920 x 1080
 * @option 1920 x 1200 (8:5)
 * @value 1920 x 1200
 * @option 2048 x 1152 (16:9)
 * @value 2048 x 1152
 * @option 2560 x 1440 (16:9)
 * @value 2560 x 1440
 * @option 2560 x 1600 (8:5)
 * @value 2560 x 1600
 *
 * @param Default Graphics Size
 * @text Default Graphics Size
 * @parent Screen Size
 * @type select
 * @desc This parameter allows you to change your default graphics size
 * @default 1280 x 720
 * @option 320 x 240 (4:3)
 * @value 320 x 240
 * @option 544 x 416 (17:13)
 * @value 544 x 416
 * @option 640 x 480 (4:3)
 * @value 640 x 480
 * @option 800 x 600 (4:3)
 * @value 800 x 600
 * @option 816 x 624 (17:13)
 * @value 816 x 624
 * @option 1024 x 768 (4:3)
 * @value 1024 x 768
 * @option 1152 x 864 (4:3)
 * @value 1152 x 864
 * @option 1280 x 720 (16:9)
 * @value 1280 x 720
 * @option 1280 x 800 (8:5)
 * @value 1280 x 800
 * @option 1280 x 960 (4:3)
 * @value 1280 x 960
 * @option 1360 x 768 (85:48)
 * @value 1360 x 768
 * @option 1366 x 768 (683:384)
 * @value 1366 x 768
 * @option 1400 x 1050 (4:3)
 * @value 1400 x 1050
 * @option 1440 x 900 (8:5)
 * @value 1440 x 900
 * @option 1600 x 900 (16:9)
 * @value 1600 x 900
 * @option 1600 x 1200 (4:3)
 * @value 1600 x 1200
 * @option 1680 x 1050 (8:5)
 * @value 1680 x 1050
 * @option 1920 x 1080 (16:9)
 * @value 1920 x 1080
 * @option 1920 x 1200 (8:5)
 * @value 1920 x 1200
 * @option 2048 x 1152 (16:9)
 * @value 2048 x 1152
 * @option 2560 x 1440 (16:9)
 * @value 2560 x 1440
 * @option 2560 x 1600 (8:5)
 * @value 2560 x 1600
 * 
 * @param Temp
 * 
 * @param PC
 * @parent Temp
 * @type struct<ScreenSize>[]
 * @desc it is using pre-written resolutions when it failed to bind node extension.
 * @default ["{\"width\":\"640\",\"height\":\"480\"}","{\"width\":\"800\",\"height\":\"600\"}","{\"width\":\"1024\",\"height\":\"768\"}","{\"width\":\"1152\",\"height\":\"864\"}","{\"width\":\"1280\",\"height\":\"720\"}","{\"width\":\"1280\",\"height\":\"800\"}","{\"width\":\"1280\",\"height\":\"960\"}","{\"width\":\"1360\",\"height\":\"768\"}","{\"width\":\"1360\",\"height\":\"768\"}","{\"width\":\"1366\",\"height\":\"768\"}","{\"width\":\"1400\",\"height\":\"1050\"}","{\"width\":\"1440\",\"height\":\"900\"}","{\"width\":\"1600\",\"height\":\"900\"}","{\"width\":\"1600\",\"height\":\"1200\"}","{\"width\":\"1680\",\"height\":\"1050\"}","{\"width\":\"1920\",\"height\":\"1080\"}","{\"width\":\"1920\",\"height\":\"1200\"}","{\"width\":\"2048\",\"height\":\"1152\"}","{\"width\":\"2560\",\"height\":\"1440\"}","{\"width\":\"2560\",\"height\":\"1600\"}"]
 * 
 * @param Mobile
 * @parent Temp
 * @type struct<ScreenSize>[]
 * @desc Set as the resolution list automatically in the mobile device.
 * @default ["{\"width\":\"120\",\"height\":\"160\"}","{\"width\":\"160\",\"height\":\"240\"}","{\"width\":\"240\",\"height\":\"320\"}","{\"width\":\"240\",\"height\":\"400\"}","{\"width\":\"320\",\"height\":\"480\"}","{\"width\":\"480\",\"height\":\"800\"}","{\"width\":\"640\",\"height\":\"960\"}","{\"width\":\"640\",\"height\":\"1136\"}","{\"width\":\"720\",\"height\":\"1280\"}","{\"width\":\"750\",\"height\":\"1334\"}","{\"width\":\"768\",\"height\":\"1024\"}","{\"width\":\"768\",\"height\":\"1280\"}","{\"width\":\"800\",\"height\":\"1280\"}","{\"width\":\"1080\",\"height\":\"1920\"}","{\"width\":\"1200\",\"height\":\"1920\"}","{\"width\":\"1242\",\"height\":\"2208\"}","{\"width\":\"1440\",\"height\":\"2560\"}","{\"width\":\"1536\",\"height\":\"2048\"}","{\"width\":\"1600\",\"height\":\"2560\"}","{\"width\":\"2048\",\"height\":\"2732\"}"]
 * 
 * @param Mobile Simple
 * @parent Temp
 * @type struct<ScreenSize>[]
 * @desc Set the list for display resolution.
 * @default ["{\"width\":\"320\",\"height\":\"480\"}","{\"width\":\"480\",\"height\":\"800\"}","{\"width\":\"720\",\"height\":\"1280\"}","{\"width\":\"1080\",\"height\":\"1920\"}"]
 * 
 * @param Localization
 * @type struct<Localization>
 * @desc Set texts that required a localization.
 * @default {"Language":"navigator.language.slice(0, 2)","Localization":"[\"{\\\"lang\\\":\\\"en\\\",\\\"Resolutions\\\":\\\"Resolutions\\\",\\\"Aspect Ratio\\\":\\\"Aspect Ratio\\\",\\\"Display Resolutions\\\":\\\"Display Resolutions\\\",\\\"Full Screen\\\":\\\"Full Screen\\\",\\\"NotFoundError\\\":\\\"Couldn't find the node library needed to set the resolution\\\",\\\"NotFoundNwExe\\\":\\\"Please you must change the name of the executable file to nw.exe\\\",\\\"MobileResolutions\\\":\\\"[\\\\\\\"Low\\\\\\\", \\\\\\\"Medium\\\\\\\", \\\\\\\"High\\\\\\\", \\\\\\\"Very High\\\\\\\"]\\\",\\\"Windowed Mode\\\":\\\"Windowed Mode\\\"}\",\"{\\\"lang\\\":\\\"ko\\\",\\\"Resolutions\\\":\\\"해상도\\\",\\\"Aspect Ratio\\\":\\\"종횡비\\\",\\\"Display Resolutions\\\":\\\"해상도 목록\\\",\\\"Full Screen\\\":\\\"전체 화면\\\",\\\"NotFoundError\\\":\\\"해상도 설정에 필요한 라이브러리를 찾지 못했습니다\\\",\\\"NotFoundNwExe\\\":\\\"실행 파일명을 nw.exe로 변경하시기 바랍니다.\\\",\\\"MobileResolutions\\\":\\\"[\\\\\\\"낮음\\\\\\\",\\\\\\\"보통\\\\\\\",\\\\\\\"높음\\\\\\\",\\\\\\\"매우 높음\\\\\\\"]\\\",\\\"Windowed Mode\\\":\\\"창 모드\\\"}\"]"}
 * 
 * @param Module
 * 
 * @param Bind Node Library
 * @parent Module
 * @type boolean
 * @desc it obtains resolutions from the node extension on Windows. if not, it gets pre-written resolutions in plugin parameters.
 * @default false
 * @on true
 * @off false
 * 
 * @param Pictures
 * 
 * @param Scaled Picture
 * @parent Pictures
 * @type boolean
 * @desc Resize the picture to fit the actual resolution ratio.
 * @default false
 * @on true
 * @off false
 * 
 * @param Picture Position Type
 * @parent Pictures
 * @type combo
 * @desc Please select picture positioning method when resizing.
 * @default Virtual Coordinates
 * @option Actual Coordinates
 * @option Virtual Coordinates
 * 
 * @param Ignore Auto Scale
 * @parent Pictures
 * @type number[]
 * @desc Sometimes it must ignore auto-scale.
 * @min 1
 * @default []
 * 
 * @param Original View Size
 * @parent Pictures
 * @type struct<ScreenSize>
 * @desc Specify the original screen size.
 * @default {"width":"816","height":"624"}
 * 
 * @param BattleField
 * 
 * @param Scaled Battleback
 * @parent BattleField
 * @type boolean
 * @desc it can rescale battle background images to fit with Graphics' area.
 * @default false
 * 
 * @param ActorFunc.moveToStartPosition
 * @parent BattleField
 * @type note
 * @desc it can change certain code blocks.
 * @default "        // This value is the same as 300 in the vanilla mode.\n        var dx = Math.floor(Graphics.boxWidth * 0.36764705882352944);\n        this.startMove(dx, 0, 0);"
 * 
 * @param ActorFunc.setActorHome
 * @parent BattleField
 * @type note
 * @desc it can change certain code blocks.
 * @default "        var dx = Math.floor(Graphics.boxWidth * 0.7352941176470589);\n        var dy = Math.floor(Graphics.boxHeight * 0.44871794871794873);\n        var tileWidth = Math.floor(Graphics.boxWidth * 0.0392156862745098);\n        var tileHeight = Math.floor(Graphics.boxHeight * 0.07692307692307693);\n        this.setHome(dx + index * tileWidth, dy + index * tileHeight);"
 * 
 * @param ActorFunc.stepForward
 * @parent BattleField
 * @type note
 * @desc it can change certain code blocks.
 * @default "        var dx = Math.floor(Graphics.boxWidth * 0.058823529411764705);\n        this.startMove(-dx, 0, 12);"
 * 
 * @param ActorFunc.stepBack
 * @parent BattleField
 * @type note
 * @desc it can change certain code blocks.
 * @default "       this.startMove(0, 0, 12);"
 * 
 * @param ActorFunc.retreat
 * @parent BattleField
 * @type note
 * @desc it can change certain code blocks.
 * @default "        var dx = Math.floor(Graphics.boxWidth * 0.36764705882352944);\n        this.startMove(dx, 0, 30);"
 * 
 * @help
 * =============================================================================
 * Introduction
 * =============================================================================
 * The ScreenManager plugin provides for more resolutions using a native addon written in C++.
 * However, In case of the native addon, it is only available yet in Windows OS x64 or ia32.
 * 
 * =============================================================================
 * Execution Environment
 * =============================================================================
 * In these execution environments, The native addons written in C++ have to need.
 * Native addon files must place it in your js/libs folder. (the file name ends with *.node)
 * 
 * RPG Maker MV v1.6.1 (nwjs : 0.29.4, Windows 10 x64)
 * RPG Maker MV v1.6.1 (nwjs : 0.33.4, Windows 10 x64)
 * RPG Maker MV v1.5.2 (nwjs : 0.12.3, Windows 10 x64)
 * 
 * However, Mac, iOS, Android, linux platforms don't need it.
 * Currently, They get the resolution from pre-written array, which includes width and height values.
 * it can be modified using plugin parameters if you want.
 * 
 * =============================================================================
 * Plugin Commands
 * =============================================================================
 * The ScreenManager scene already included in the game option.
 * But you can call its scene by using the plugin command if you want.
 * 
 * ScreenManager Start
 *
 * =============================================================================
 * Change Log
 * =============================================================================
 * 2016.10.04 (v1.0.0) - First Release.
 * 2016.10.24 (v1.0.1) - Added Resolution Button in Option.
 * 2016.11.26 (v1.0.2) - Added the function that recreates the scene.
 * 2017.05.28 (v1.0.3) - Added a new feature that the game screen size changes
 * automatically depending on an aspect ratio of the screen on mobile device.
 * 2017.05.29 (v1.0.4) - Added a new feature that can apply a custom aspect ratio.
 * 2017.05.30 (v1.0.5) :
 * - Added a new feature that is resized the game screen when starting the game.
 * - Fixed the problem that is not fitted a size of the background image
 * to a new screen size after resizing the screen.
 * 2017.05.30 (v1.0.6) :
 * - Fixed the function to get the width or the height of the screen on mobile.
 * - Added a new feature that relatively changes the area of the UI.
 * 2017.06.12 (v1.0.7) :
 * - Fixed the parameter about default screen width and height.
 * - Fixed an issue to incorrect scale the background (Scene_Title, Scene_MenuBase, Scene_Gameover)
 * - Fixed the default value of the 'Resize All Windows' parameter is to false.
 * 2017.11.24 (v1.0.8) :
 * - Fixed some issues that are not working in RMMV 1.6.0 (Beta)
 * - Now this plugin doesn't use the node webkit extension.
 * 2018.06.05 (v1.0.9) :
 * - Updated and Fixed the library correctly for getting the all resolutions.
 * - Added plugin parameters for setting the size of the screen (RPG Maker MV 1.5.0 Features)
 * 2018.08.01 (v1.0.10) - Added the try-catch statement.
 * 2018.09.02 (v1.0.11) - Fixed the method name called 'rescaleSprite' is to 'requestStretch' due to a crash.
 * 2018.10.11 (v1.0.12) :
 * - In RPG Maker MV 1.6.1, Fixed a nw-version of the node module is to 9.11.1
 * - Fixed the bug that the screen does not align properly to center.
 * 2018.10.23 (v1.0.13) :
 * - Added the feature that would save the option to a manifest file when closing the window in RPG Maker MV v1.6.1.
 * - Added the localization text for 'Windowed Mode'.
 * 2018.11.08 (v1.0.14) :
 * - Fixed the issue that is not set the size of the Graphics object with an aspect ratio when initializing.
 * 2019.03.22 (v1.0.16) :
 * - Fixed an issue that initial resolution was set incorrectly.
 * - The Resolution Option is no longer displayed on the mobile (because it's unstable)
 * - Added JSON Beautifier option in the package.json file.
 * - In the Test-Play mode, Now the alert window is not shown. (1.5.2 or less)
 * 2019.05.27 (v1.0.17) :
 * - Fixed the error that is always indicated the NaN when it couldn't load the addon.
 * 2019.12.16 (v1.0.18) :
 * - Picture rescaling added.
 * 2020.01.09 (v1.0.21) :
 * - Fixed the bug that couldn't change the scale of picture properly.
 * - Added the scaled battle background and then reposition actors (vanilla mode only)
 */
/*~struct~ScreenSize:
 *
 * @param width
 * @type number
 * @min 0
 * @desc Specify the desired width
 * @default 320
 *
 * @param height
 * @type number
 * @min 0
 * @desc Specify the desired height
 * @default 240
 * 
 */
/*~struct~Localization:
 * @param Language
 * @desc Extract the language code.
 * @default navigator.language.slice(0, 2)
 * 
 * @param Localization
 * @type struct<PrivateLocalization>[]
 * @desc Set the struct about the localization.
 * @default ["{\"lang\":\"en\",\"Resolutions\":\"Resolutions\",\"Aspect Ratio\":\"Aspect Ratio\",\"Display Resolutions\":\"Display Resolutions\",\"Full Screen\":\"Full Screen\",\"NotFoundError\":\"Couldn't find the node library needed to set the resolution\",\"NotFoundNwExe\":\"Please you must change the name of the executable file to nw.exe\",\"MobileResolutions\":\"[\\\"Low\\\", \\\"Medium\\\", \\\"High\\\", \\\"Very High\\\"]\"}","{\"lang\":\"ko\",\"Resolutions\":\"해상도\",\"Aspect Ratio\":\"종횡비\",\"Display Resolutions\":\"해상도 목록\",\"Full Screen\":\"전체 화면\",\"NotFoundError\":\"해상도 설정에 필요한 라이브러리를 찾지 못했습니다\",\"NotFoundNwExe\":\"실행 파일명을 nw.exe로 변경하시기 바랍니다.\",\"MobileResolutions\":\"[\\\"낮음\\\",\\\"보통\\\",\\\"높음\\\",\\\"매우 높음\\\"]\"}"]
 * 
 */
/*~struct~PrivateLocalization:
 *
 * @param lang
 * @desc Specify the lang code
 * @default en
 * 
 * @param Resolutions
 * @desc Specify the text for resolution.
 * @default Resolutions
 * 
 * @param Aspect Ratio
 * @desc Specify the text for aspect ratio.
 * @default Aspect Ratio
 * 
 * @param Display Resolutions
 * @desc Specify the text that indicates a diplay resolution.
 * @default Display Resolutions
 * 
 * @param Full Screen
 * @desc Specify the text that indicates a fullscreen option.
 * @default Full Screen
 * 
 * @param NotFoundError
 * @desc Specify the error text that being found the node library in your game directory.
 * @default Couldn't find the node library needed to set the resolution
 * 
 * @param NotFoundNwExe
 * @desc Specify the error text that is not found the nw.exe
 * @default Please you must change the name of the executable file to nw.exe
 * 
 * @param MobileResolutions
 * @type string[]
 * @desc Specify four resolution types in mobile device.
 * @default ["Low", "Medium", "High", "Very High"]
 * 
 * @param Windowed Mode
 * @desc Specify the text that indicates a Windowed Mode option.
 * @default Windowed Mode
 * 
 */!function(c){var n={};function l(i){if(n[i])return n[i].exports;var t=n[i]={i:i,l:!1,exports:{}};return c[i].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=c,l.c=n,l.d=function(c,n,i){l.o(c,n)||Object.defineProperty(c,n,{enumerable:!0,get:i})},l.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},l.t=function(c,n){if(1&n&&(c=l(c)),8&n)return c;if(4&n&&"object"==typeof c&&c&&c.__esModule)return c;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:c}),2&n&&"string"!=typeof c)for(var t in c)l.d(i,t,function(n){return c[n]}.bind(null,t));return i},l.n=function(c){var n=c&&c.__esModule?function(){return c.default}:function(){return c};return l.d(n,"a",n),n},l.o=function(c,n){return Object.prototype.hasOwnProperty.call(c,n)},l.p="",l(l.s=20)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("var parameters = $plugins.filter(function (i) {\r\n    return i.description.contains('<RS_ScreenManager>');\r\n});\r\n\r\nparameters = (parameters.length > 0) && parameters[0].parameters;\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (parameters);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvcGFyYW1ldGVycy5qcz8xMTM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVlLG1FQUFVIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcGFyYW1ldGVycyA9ICRwbHVnaW5zLmZpbHRlcihmdW5jdGlvbiAoaSkge1xyXG4gICAgcmV0dXJuIGkuZGVzY3JpcHRpb24uY29udGFpbnMoJzxSU19TY3JlZW5NYW5hZ2VyPicpO1xyXG59KTtcclxuXHJcbnBhcmFtZXRlcnMgPSAocGFyYW1ldGVycy5sZW5ndGggPiAwKSAmJiBwYXJhbWV0ZXJzWzBdLnBhcmFtZXRlcnM7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwYXJhbWV0ZXJzOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,exports){eval('module.exports = require("nw.gui");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJudy5ndWlcIj8yNTRiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJudy5ndWlcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n')},function(module,exports){eval('module.exports = require("path");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n')},function(module,exports){eval('module.exports = require("fs");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiP2E0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){eval('/**\r\n * Replace by target screen width and height values.\r\n */\r\nRS.ScreenManager.initWithMobile = function() {\r\n\r\n    function replaceBy(mod, cb) {\r\n    var item = JSON.stringify(mod);\r\n    item = item.replace("screen.availWidth", screen.availWidth);\r\n    item = item.replace("screen.availHeight", screen.availHeight);\r\n    item = item.replace("window.outerWidth", window.outerWidth);\r\n    item = item.replace("window.outerHeight", window.outerHeight);\r\n    mod = RS.ScreenManager.jsonParse(item);\r\n    cb(mod);\r\n    }\r\n\r\n    replaceBy(RS.ScreenManager.Params.settings.resolutionQualityOnMobile, function(mod) {\r\n    RS.ScreenManager.Params.settings.resolutionQualityOnMobile = mod;\r\n    });\r\n\r\n    replaceBy(RS.ScreenManager.Params.settings.mobileGraphicsArray, function(mod) {\r\n    RS.ScreenManager.Params.settings.mobileGraphicsArray = mod;\r\n    });    \r\n\r\n};\r\n\r\nRS.ScreenManager.initWithMobile();\r\n\r\n/**\r\n * Read a manifest file called \'package.json\'.\r\n */\r\nRS.ScreenManager.readManifestFile = function() {\r\n    if(Utils.RPGMAKER_VERSION < \'1.6.1\') return;\r\n    if(!Utils.isNwjs()) return;    \r\n    if(!RS.ScreenManager.Params.options.isAutoSyncManifest) return;\r\n    var fs = __webpack_require__(3);\r\n    var path = __webpack_require__(2);\r\n    var dirname = path.dirname(process.mainModule.filename);\r\n    var packageJsonPath = path.join(dirname, "package.json");\r\n    if(fs.existsSync(packageJsonPath)) {\r\n    var packageConfig = JSON.parse(fs.readFileSync(packageJsonPath, "utf8"));\r\n    var config = packageConfig.window;\r\n    if(config && config.fullscreen) {\r\n        RS.ScreenManager.Params.fullscreenFlag = config.fullscreen;\r\n        RS.ScreenManager.Params.settings.defaultScreenSize.x = config.width;\r\n        RS.ScreenManager.Params.settings.defaultScreenSize.y = config.height;\r\n        RS.ScreenManager.Params.settings.ptCustomScreenSize = RS.ScreenManager.Params.settings.defaultScreenSize.toString();\r\n    }\r\n    }    \r\n\r\n    var win = __webpack_require__(1).Window.get();\r\n\r\n    win.on(\'resize\', function(width, height) {\r\n    var f = RS.ScreenManager.isFullscreen();\r\n    RS.ScreenManager.changeManifestFile(width, height, f);\r\n    });\r\n\r\n};\r\n\r\nRS.ScreenManager.isWindowsTaskbarShown = function() {\r\n    return screen.availHeight !== screen.height;\r\n};\r\n\r\nRS.ScreenManager.switchFullScreen = function() {\r\n    if(Utils.isNwjs()) {\r\n    var gui = __webpack_require__(1);\r\n    var win = gui.Window.get(); \r\n    win.toggleFullscreen();\r\n    } else {\r\n    Graphics._switchFullScreen();;\r\n    }\r\n};\r\n\r\nRS.ScreenManager.isFullscreen = function() {\r\n    if(Utils.isNwjs()) {\r\n    var gui = __webpack_require__(1);\r\n    var win = gui.Window.get();\r\n    return win.appWindow.isFullscreen();\r\n    } else {\r\n    return Graphics._isFullScreen();\r\n    }\r\n};\r\n\r\n/**\r\n * Change the manifest file called \'package.json\' and then beautifies line spaces.\r\n */\r\nRS.ScreenManager.changeManifestFile = function(width, height, fullscreen) {\r\n\r\n    if(Utils.RPGMAKER_VERSION < \'1.6.1\') return;\r\n    var fs = __webpack_require__(3);\r\n    var path = __webpack_require__(2);\r\n    var dirname = path.dirname(process.mainModule.filename);\r\n    var packageJsonPath = path.join(dirname, "package.json");\r\n\r\n    var templatePackageConfig = {"name":"mytest","main":"index.html","js-flags":"--expose-gc","crhomium-args":"--disable-sync","window":{"title":"","toolbar":false,"width":RS.ScreenManager.Params.settings.defaultScreenSize.x,"height":RS.ScreenManager.Params.settings.defaultScreenSize.y, "icon":"icon/icon.png"}};    \r\n\r\n    // if the config file exists?\r\n    if(fs.existsSync(packageJsonPath)) {\r\n    var packageConfig = JSON.parse(fs.readFileSync(packageJsonPath, "utf8"));\r\n    packageConfig.window.width = width;\r\n    packageConfig.window.height = height;\r\n    packageConfig.window.fullscreen = fullscreen;\r\n\r\n    fs.writeFileSync(packageJsonPath, JSON.stringify(packageConfig, null, \'\\t\'));\r\n\r\n    } else {\r\n\r\n    fs.writeFileSync(packageJsonPath, JSON.stringify(templatePackageConfig, null, \'\\t\'));\r\n    return RS.ScreenManager.changeManifestFile(width, height, fullscreen);\r\n\r\n    }    \r\n    \r\n};\r\n\r\n/**\r\n * In the RPG Maker MV v1.5.2 or less, \r\n * if the executable file name is the same as Game.exe, it couldn\'t be read the node library. \r\n * So its name must change with \'nw.exe\' and then we must restart the game.\r\n */\r\nRS.ScreenManager.restartGame = function() {\r\n    var childProcess = __webpack_require__(5);\r\n    var path = __webpack_require__(2);\r\n    var projectPath = path.dirname(process.mainModule.filename);\r\n    childProcess.execFile(process.execPath, [projectPath], function(err) {\r\n    if(err) console.warn(err);\r\n    });\r\n};\r\n\r\n/**\r\n * https://stackoverflow.com/a/20339709\r\n * @param {Array} data \r\n */\r\nRS.ScreenManager.uniqArray = function(data) {\r\n    var uniqData = [];\r\n    var foundData = {};\r\n\r\n    data.forEach(function(i) {\r\n    var packData = JSON.stringify(i);\r\n    if(!foundData[packData]) {\r\n        uniqData.push(i);\r\n        foundData[packData] = true;\r\n    }\r\n    }, this);\r\n\r\n    return uniqData;    \r\n\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29yZS5qcz80MTBmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSyxFOztBQUVMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQjtBQUNBO0FBQ0EsYUFBYSxtQkFBTyxDQUFDLENBQUk7QUFDekIsZUFBZSxtQkFBTyxDQUFDLENBQU07QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEs7O0FBRUEsY0FBYyxtQkFBTyxDQUFDLENBQVE7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLG1CQUFPLENBQUMsQ0FBUTtBQUM5QiwrQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxtQkFBTyxDQUFDLENBQVE7QUFDOUI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLG1CQUFPLENBQUMsQ0FBSTtBQUN6QixlQUFlLG1CQUFPLENBQUMsQ0FBTTtBQUM3QjtBQUNBOztBQUVBLGlDQUFpQyx3R0FBd0csZ0w7O0FBRXpJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUEsSzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsbUJBQU8sQ0FBQyxDQUFlO0FBQzlDLGVBQWUsbUJBQU8sQ0FBQyxDQUFNO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsb0I7O0FBRUEiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBSZXBsYWNlIGJ5IHRhcmdldCBzY3JlZW4gd2lkdGggYW5kIGhlaWdodCB2YWx1ZXMuXHJcbiAqL1xyXG5SUy5TY3JlZW5NYW5hZ2VyLmluaXRXaXRoTW9iaWxlID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVwbGFjZUJ5KG1vZCwgY2IpIHtcclxuICAgIHZhciBpdGVtID0gSlNPTi5zdHJpbmdpZnkobW9kKTtcclxuICAgIGl0ZW0gPSBpdGVtLnJlcGxhY2UoXCJzY3JlZW4uYXZhaWxXaWR0aFwiLCBzY3JlZW4uYXZhaWxXaWR0aCk7XHJcbiAgICBpdGVtID0gaXRlbS5yZXBsYWNlKFwic2NyZWVuLmF2YWlsSGVpZ2h0XCIsIHNjcmVlbi5hdmFpbEhlaWdodCk7XHJcbiAgICBpdGVtID0gaXRlbS5yZXBsYWNlKFwid2luZG93Lm91dGVyV2lkdGhcIiwgd2luZG93Lm91dGVyV2lkdGgpO1xyXG4gICAgaXRlbSA9IGl0ZW0ucmVwbGFjZShcIndpbmRvdy5vdXRlckhlaWdodFwiLCB3aW5kb3cub3V0ZXJIZWlnaHQpO1xyXG4gICAgbW9kID0gUlMuU2NyZWVuTWFuYWdlci5qc29uUGFyc2UoaXRlbSk7XHJcbiAgICBjYihtb2QpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcGxhY2VCeShSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5yZXNvbHV0aW9uUXVhbGl0eU9uTW9iaWxlLCBmdW5jdGlvbihtb2QpIHtcclxuICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnJlc29sdXRpb25RdWFsaXR5T25Nb2JpbGUgPSBtb2Q7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXBsYWNlQnkoUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MubW9iaWxlR3JhcGhpY3NBcnJheSwgZnVuY3Rpb24obW9kKSB7XHJcbiAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5tb2JpbGVHcmFwaGljc0FycmF5ID0gbW9kO1xyXG4gICAgfSk7ICAgIFxyXG5cclxufTtcclxuXHJcblJTLlNjcmVlbk1hbmFnZXIuaW5pdFdpdGhNb2JpbGUoKTtcclxuXHJcbi8qKlxyXG4gKiBSZWFkIGEgbWFuaWZlc3QgZmlsZSBjYWxsZWQgJ3BhY2thZ2UuanNvbicuXHJcbiAqL1xyXG5SUy5TY3JlZW5NYW5hZ2VyLnJlYWRNYW5pZmVzdEZpbGUgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmKFV0aWxzLlJQR01BS0VSX1ZFUlNJT04gPCAnMS42LjEnKSByZXR1cm47XHJcbiAgICBpZighVXRpbHMuaXNOd2pzKCkpIHJldHVybjsgICAgXHJcbiAgICBpZighUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5pc0F1dG9TeW5jTWFuaWZlc3QpIHJldHVybjtcclxuICAgIHZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICB2YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuICAgIHZhciBkaXJuYW1lID0gcGF0aC5kaXJuYW1lKHByb2Nlc3MubWFpbk1vZHVsZS5maWxlbmFtZSk7XHJcbiAgICB2YXIgcGFja2FnZUpzb25QYXRoID0gcGF0aC5qb2luKGRpcm5hbWUsIFwicGFja2FnZS5qc29uXCIpO1xyXG4gICAgaWYoZnMuZXhpc3RzU3luYyhwYWNrYWdlSnNvblBhdGgpKSB7XHJcbiAgICB2YXIgcGFja2FnZUNvbmZpZyA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKHBhY2thZ2VKc29uUGF0aCwgXCJ1dGY4XCIpKTtcclxuICAgIHZhciBjb25maWcgPSBwYWNrYWdlQ29uZmlnLndpbmRvdztcclxuICAgIGlmKGNvbmZpZyAmJiBjb25maWcuZnVsbHNjcmVlbikge1xyXG4gICAgICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmZ1bGxzY3JlZW5GbGFnID0gY29uZmlnLmZ1bGxzY3JlZW47XHJcbiAgICAgICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuZGVmYXVsdFNjcmVlblNpemUueCA9IGNvbmZpZy53aWR0aDtcclxuICAgICAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5kZWZhdWx0U2NyZWVuU2l6ZS55ID0gY29uZmlnLmhlaWdodDtcclxuICAgICAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5wdEN1c3RvbVNjcmVlblNpemUgPSBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5kZWZhdWx0U2NyZWVuU2l6ZS50b1N0cmluZygpO1xyXG4gICAgfVxyXG4gICAgfSAgICBcclxuXHJcbiAgICB2YXIgd2luID0gcmVxdWlyZSgnbncuZ3VpJykuV2luZG93LmdldCgpO1xyXG5cclxuICAgIHdpbi5vbigncmVzaXplJywgZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xyXG4gICAgdmFyIGYgPSBSUy5TY3JlZW5NYW5hZ2VyLmlzRnVsbHNjcmVlbigpO1xyXG4gICAgUlMuU2NyZWVuTWFuYWdlci5jaGFuZ2VNYW5pZmVzdEZpbGUod2lkdGgsIGhlaWdodCwgZik7XHJcbiAgICB9KTtcclxuXHJcbn07XHJcblxyXG5SUy5TY3JlZW5NYW5hZ2VyLmlzV2luZG93c1Rhc2tiYXJTaG93biA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHNjcmVlbi5hdmFpbEhlaWdodCAhPT0gc2NyZWVuLmhlaWdodDtcclxufTtcclxuXHJcblJTLlNjcmVlbk1hbmFnZXIuc3dpdGNoRnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYoVXRpbHMuaXNOd2pzKCkpIHtcclxuICAgIHZhciBndWkgPSByZXF1aXJlKCdudy5ndWknKTtcclxuICAgIHZhciB3aW4gPSBndWkuV2luZG93LmdldCgpOyBcclxuICAgIHdpbi50b2dnbGVGdWxsc2NyZWVuKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgR3JhcGhpY3MuX3N3aXRjaEZ1bGxTY3JlZW4oKTs7XHJcbiAgICB9XHJcbn07XHJcblxyXG5SUy5TY3JlZW5NYW5hZ2VyLmlzRnVsbHNjcmVlbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYoVXRpbHMuaXNOd2pzKCkpIHtcclxuICAgIHZhciBndWkgPSByZXF1aXJlKCdudy5ndWknKTtcclxuICAgIHZhciB3aW4gPSBndWkuV2luZG93LmdldCgpO1xyXG4gICAgcmV0dXJuIHdpbi5hcHBXaW5kb3cuaXNGdWxsc2NyZWVuKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIEdyYXBoaWNzLl9pc0Z1bGxTY3JlZW4oKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGFuZ2UgdGhlIG1hbmlmZXN0IGZpbGUgY2FsbGVkICdwYWNrYWdlLmpzb24nIGFuZCB0aGVuIGJlYXV0aWZpZXMgbGluZSBzcGFjZXMuXHJcbiAqL1xyXG5SUy5TY3JlZW5NYW5hZ2VyLmNoYW5nZU1hbmlmZXN0RmlsZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIGZ1bGxzY3JlZW4pIHtcclxuXHJcbiAgICBpZihVdGlscy5SUEdNQUtFUl9WRVJTSU9OIDwgJzEuNi4xJykgcmV0dXJuO1xyXG4gICAgdmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcclxuICAgIHZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG4gICAgdmFyIGRpcm5hbWUgPSBwYXRoLmRpcm5hbWUocHJvY2Vzcy5tYWluTW9kdWxlLmZpbGVuYW1lKTtcclxuICAgIHZhciBwYWNrYWdlSnNvblBhdGggPSBwYXRoLmpvaW4oZGlybmFtZSwgXCJwYWNrYWdlLmpzb25cIik7XHJcblxyXG4gICAgdmFyIHRlbXBsYXRlUGFja2FnZUNvbmZpZyA9IHtcIm5hbWVcIjpcIm15dGVzdFwiLFwibWFpblwiOlwiaW5kZXguaHRtbFwiLFwianMtZmxhZ3NcIjpcIi0tZXhwb3NlLWdjXCIsXCJjcmhvbWl1bS1hcmdzXCI6XCItLWRpc2FibGUtc3luY1wiLFwid2luZG93XCI6e1widGl0bGVcIjpcIlwiLFwidG9vbGJhclwiOmZhbHNlLFwid2lkdGhcIjpSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5kZWZhdWx0U2NyZWVuU2l6ZS54LFwiaGVpZ2h0XCI6UlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuZGVmYXVsdFNjcmVlblNpemUueSwgXCJpY29uXCI6XCJpY29uL2ljb24ucG5nXCJ9fTsgICAgXHJcblxyXG4gICAgLy8gaWYgdGhlIGNvbmZpZyBmaWxlIGV4aXN0cz9cclxuICAgIGlmKGZzLmV4aXN0c1N5bmMocGFja2FnZUpzb25QYXRoKSkge1xyXG4gICAgdmFyIHBhY2thZ2VDb25maWcgPSBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhwYWNrYWdlSnNvblBhdGgsIFwidXRmOFwiKSk7XHJcbiAgICBwYWNrYWdlQ29uZmlnLndpbmRvdy53aWR0aCA9IHdpZHRoO1xyXG4gICAgcGFja2FnZUNvbmZpZy53aW5kb3cuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgcGFja2FnZUNvbmZpZy53aW5kb3cuZnVsbHNjcmVlbiA9IGZ1bGxzY3JlZW47XHJcblxyXG4gICAgZnMud3JpdGVGaWxlU3luYyhwYWNrYWdlSnNvblBhdGgsIEpTT04uc3RyaW5naWZ5KHBhY2thZ2VDb25maWcsIG51bGwsICdcXHQnKSk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICBmcy53cml0ZUZpbGVTeW5jKHBhY2thZ2VKc29uUGF0aCwgSlNPTi5zdHJpbmdpZnkodGVtcGxhdGVQYWNrYWdlQ29uZmlnLCBudWxsLCAnXFx0JykpO1xyXG4gICAgcmV0dXJuIFJTLlNjcmVlbk1hbmFnZXIuY2hhbmdlTWFuaWZlc3RGaWxlKHdpZHRoLCBoZWlnaHQsIGZ1bGxzY3JlZW4pO1xyXG5cclxuICAgIH0gICAgXHJcbiAgICBcclxufTtcclxuXHJcbi8qKlxyXG4gKiBJbiB0aGUgUlBHIE1ha2VyIE1WIHYxLjUuMiBvciBsZXNzLCBcclxuICogaWYgdGhlIGV4ZWN1dGFibGUgZmlsZSBuYW1lIGlzIHRoZSBzYW1lIGFzIEdhbWUuZXhlLCBpdCBjb3VsZG4ndCBiZSByZWFkIHRoZSBub2RlIGxpYnJhcnkuIFxyXG4gKiBTbyBpdHMgbmFtZSBtdXN0IGNoYW5nZSB3aXRoICdudy5leGUnIGFuZCB0aGVuIHdlIG11c3QgcmVzdGFydCB0aGUgZ2FtZS5cclxuICovXHJcblJTLlNjcmVlbk1hbmFnZXIucmVzdGFydEdhbWUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBjaGlsZFByb2Nlc3MgPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTtcclxuICAgIHZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG4gICAgdmFyIHByb2plY3RQYXRoID0gcGF0aC5kaXJuYW1lKHByb2Nlc3MubWFpbk1vZHVsZS5maWxlbmFtZSk7XHJcbiAgICBjaGlsZFByb2Nlc3MuZXhlY0ZpbGUocHJvY2Vzcy5leGVjUGF0aCwgW3Byb2plY3RQYXRoXSwgZnVuY3Rpb24oZXJyKSB7XHJcbiAgICBpZihlcnIpIGNvbnNvbGUud2FybihlcnIpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vKipcclxuICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIwMzM5NzA5XHJcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgXHJcbiAqL1xyXG5SUy5TY3JlZW5NYW5hZ2VyLnVuaXFBcnJheSA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIHZhciB1bmlxRGF0YSA9IFtdO1xyXG4gICAgdmFyIGZvdW5kRGF0YSA9IHt9O1xyXG5cclxuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihpKSB7XHJcbiAgICB2YXIgcGFja0RhdGEgPSBKU09OLnN0cmluZ2lmeShpKTtcclxuICAgIGlmKCFmb3VuZERhdGFbcGFja0RhdGFdKSB7XHJcbiAgICAgICAgdW5pcURhdGEucHVzaChpKTtcclxuICAgICAgICBmb3VuZERhdGFbcGFja0RhdGFdID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIH0sIHRoaXMpO1xyXG5cclxuICAgIHJldHVybiB1bmlxRGF0YTsgICAgXHJcblxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n')},function(module,exports){eval('module.exports = require("child_process");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjaGlsZF9wcm9jZXNzXCI/M2RhNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _parameters__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n\r\n\r\nvar PrivateLocalization = function () {};\r\n\r\nvar newLocalization = RS.ScreenManager.jsonParse(_parameters__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]["Localization"]);\r\nvar langCode = navigator.language.slice(0, 2);\r\n\r\nPrivateLocalization.prototype = {\r\n    "code": eval(newLocalization.Language),\r\n    "get": function (type) {\r\n    var code = this.code;\r\n    var lang = PrivateLocalization[code];\r\n    return (lang) ? lang[type] : PrivateLocalization.en[type];\r\n    }    \r\n};\r\n\r\nnewLocalization["Localization"].forEach(function(i) {\r\n    var lang = i.lang;\r\n    PrivateLocalization[lang] = i;\r\n});\r\n\r\nRS.ScreenManager.localization = new PrivateLocalization();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvbG9jYWxpemF0aW9uLmpzP2I1NzQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBc0M7O0FBRXRDOztBQUVBLGlEQUFpRCwyREFBVTtBQUMzRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhcmFtZXRlcnMgZnJvbSBcIi4vcGFyYW1ldGVyc1wiO1xyXG5cclxudmFyIFByaXZhdGVMb2NhbGl6YXRpb24gPSBmdW5jdGlvbiAoKSB7fTtcclxuXHJcbnZhciBuZXdMb2NhbGl6YXRpb24gPSBSUy5TY3JlZW5NYW5hZ2VyLmpzb25QYXJzZShwYXJhbWV0ZXJzW1wiTG9jYWxpemF0aW9uXCJdKTtcclxudmFyIGxhbmdDb2RlID0gbmF2aWdhdG9yLmxhbmd1YWdlLnNsaWNlKDAsIDIpO1xyXG5cclxuUHJpdmF0ZUxvY2FsaXphdGlvbi5wcm90b3R5cGUgPSB7XHJcbiAgICBcImNvZGVcIjogZXZhbChuZXdMb2NhbGl6YXRpb24uTGFuZ3VhZ2UpLFxyXG4gICAgXCJnZXRcIjogZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgIHZhciBjb2RlID0gdGhpcy5jb2RlO1xyXG4gICAgdmFyIGxhbmcgPSBQcml2YXRlTG9jYWxpemF0aW9uW2NvZGVdO1xyXG4gICAgcmV0dXJuIChsYW5nKSA/IGxhbmdbdHlwZV0gOiBQcml2YXRlTG9jYWxpemF0aW9uLmVuW3R5cGVdO1xyXG4gICAgfSAgICBcclxufTtcclxuXHJcbm5ld0xvY2FsaXphdGlvbltcIkxvY2FsaXphdGlvblwiXS5mb3JFYWNoKGZ1bmN0aW9uKGkpIHtcclxuICAgIHZhciBsYW5nID0gaS5sYW5nO1xyXG4gICAgUHJpdmF0ZUxvY2FsaXphdGlvbltsYW5nXSA9IGk7XHJcbn0pO1xyXG5cclxuUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24gPSBuZXcgUHJpdmF0ZUxvY2FsaXphdGlvbigpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n')},function(module,exports){eval('Utils.getAbsolutePath = function(defaultPath) {\r\n    var fileName = defaultPath.split("\\\\");\r\n    var driveName = fileName.shift();\r\n    fileName = driveName + "//" + fileName.join("/");\r\n\r\n    return fileName;\r\n\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvdXRpbHMuanM/MGJmMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiVXRpbHMuZ2V0QWJzb2x1dGVQYXRoID0gZnVuY3Rpb24oZGVmYXVsdFBhdGgpIHtcclxuICAgIHZhciBmaWxlTmFtZSA9IGRlZmF1bHRQYXRoLnNwbGl0KFwiXFxcXFwiKTtcclxuICAgIHZhciBkcml2ZU5hbWUgPSBmaWxlTmFtZS5zaGlmdCgpO1xyXG4gICAgZmlsZU5hbWUgPSBkcml2ZU5hbWUgKyBcIi8vXCIgKyBmaWxlTmFtZS5qb2luKFwiL1wiKTtcclxuXHJcbiAgICByZXR1cm4gZmlsZU5hbWU7XHJcblxyXG59OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n')},function(module,exports,__webpack_require__){eval('//============================================================================\r\n// Load the node library and then retrieves information about the display RS.ScreenManager.Params.settings.\r\n// using the Windows API called EnumDisplaySetting(User32.dll)\r\n//============================================================================  \r\n\r\n(function initWithSettings() {\r\n    \r\n    "use strict";\r\n\r\n    try {\r\n    \r\n    if(Utils.isNwjs()) {\r\n\r\n        // if you didn\'t have node library, it will set as a default resolution list.\r\n        if(!RS.ScreenManager.Params.isUsedNodeLibrary) {\r\n            RS.ScreenManager.Params.settings.pcGraphicsArray = RS.ScreenManager.Params.settings.pcGraphicsTempArray;  \r\n            RS.ScreenManager.Params.options.allResolutions = true;\r\n            return;\r\n        }\r\n\r\n        var path = __webpack_require__(2), \r\n            fs = __webpack_require__(3),\r\n            platform = process.platform;\r\n        const base = process.mainModule.filename;\r\n\r\n        switch(platform) {\r\n        case \'win32\':\r\n            \r\n            var fileVersion = "v1.2.0";\r\n            var processArch = process.arch;\r\n\r\n            if(Utils.RPGMAKER_VERSION >= "1.6.1") {\r\n            /**\r\n             * Original Versions in RMMV 1.6.1 : \r\n                 ares: "1.13.0"\r\n                chromium: "65.0.3325.181"\r\n                cldr: "32.0"\r\n                http_parser: "2.8.0"\r\n                icu: "60.1"\r\n                modules: "59"\r\n                napi: "3"\r\n                nghttp2: "1.29.0"\r\n                node: "9.11.1"\r\n                node-webkit: "0.29.4"\r\n                nw: "0.29.4"\r\n                nw-commit-id: "6a254fe-1c00f31-b892847-deb9bc6"\r\n                nw-flavor: "sdk"\r\n                openssl: "1.0.2o"\r\n                tz: "2017c"\r\n                unicode: "10.0"\r\n                uv: "1.19.2"\r\n                v8: "6.5.254.41"\r\n                zlib: "1.2.11"\r\n\r\n            * Node Webkit Version in My Computer:\r\n                ares: "1.14.0"\r\n                chromium: "69.0.3497.100"\r\n                cldr: "33.1"\r\n                http_parser: "2.8.0"\r\n                icu: "62.1"\r\n                modules: "64"\r\n                napi: "3"\r\n                nghttp2: "1.33.0"\r\n                node: "10.11.0"\r\n                node-webkit: "0.33.4"\r\n                nw: "0.33.4"\r\n                nw-commit-id: "3d7302c-de9606e-577bc92-58acf98"\r\n                nw-flavor: "sdk"\r\n                openssl: "1.1.0i"\r\n                tz: "2018e"\r\n                unicode: "11.0"\r\n                uv: "1.23.0"\r\n                v8: "6.9.427.23"\r\n                zlib: "1.2.11"              \r\n                */\r\n            fileVersion = `v${process.versions.node}`;\r\n            }\r\n    \r\n            // It must change the filename as \'nw.exe\' in RPG Maker MV 1.5.2 or less.\r\n            if(process.versions.node == "1.2.0" && process.execPath.contains("Game.exe")) {\r\n\r\n            // if the game plays in the test play mode, it does not show up the alert window.\r\n            if(Utils.isOptionValid(\'test\') || Utils.isOptionValid(\'etest\') || Utils.isOptionValid(\'btest\')) {\r\n\r\n                RS.ScreenManager.Params.settings.state = "initialized";\r\n                RS.ScreenManager.Params.settings.pcGraphicsArray = RS.ScreenManager.Params.settings.pcGraphicsTempArray;\r\n                return;                       \r\n\r\n            } else {\r\n\r\n                window.alert(RS.ScreenManager.localization.get("NotFoundNwExe"));\r\n                var targetName = path.join(process.execPath, "..", "nw.exe");\r\n                fs.copyFile(process.execPath, targetName, "utf8", function(err, data) {});                  \r\n\r\n            }\r\n\r\n            }\r\n    \r\n            var fileName = path.join(base, ".." ,`js/libs/${fileVersion}-winDisplaySettings-${processArch}.node`);\r\n            fileName = Utils.getAbsolutePath(fileName);\r\n    \r\n            // if the library file exists?\r\n            if(fs.existsSync(fileName)) {\r\n    \r\n            var display = __webpack_require__(9)(fileName);\r\n    \r\n            // Remove duplicate items from the list.\r\n            var items = display.GetDisplaySettings();\r\n    \r\n            RS.ScreenManager.Params.settings.pcGraphicsArray = items;\r\n    \r\n            RS.ScreenManager.Params.settings.state = "initialized";\r\n    \r\n            } else {\r\n            window.alert(RS.ScreenManager.localization.get("NotFoundError"));\r\n            RS.ScreenManager.Params.settings.state = "failed";\r\n            // Set Default Resolution\r\n            RS.ScreenManager.Params.settings.pcGraphicsArray = RS.ScreenManager.Params.settings.pcGraphicsTempArray;\r\n            RS.ScreenManager.Params.options.allResolutions = true;\r\n            }     \r\n\r\n            break;\r\n\r\n        default:\r\n            // in case of Mac OS (base on darwin, linux)\r\n            RS.ScreenManager.Params.settings.pcGraphicsArray = RS.ScreenManager.Params.settings.pcGraphicsTempArray;\r\n            RS.ScreenManager.Params.options.allResolutions = true;\r\n            break;\r\n        }\r\n    }\r\n\r\n    } catch (error) {\r\n    console.warn(error);\r\n    RS.ScreenManager.Params.settings.pcGraphicsArray = RS.ScreenManager.Params.settings.pcGraphicsTempArray;\r\n    RS.ScreenManager.Params.options.allResolutions = true;\r\n    }\r\n\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvbG9hZERMTC5qcz8zODIxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxvSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsbUJBQU8sQ0FBQyxDQUFNO0FBQ2pDLGlCQUFpQixtQkFBTyxDQUFDLENBQUk7QUFDN0I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNCQUFzQjtBQUNwRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCOztBQUVBLGFBQWE7O0FBRWI7QUFDQTtBQUNBLHdGQUF3RixFOztBQUV4Rjs7QUFFQTs7QUFFQSw0REFBNEQsWUFBWSxzQkFBc0IsWUFBWTtBQUMxRzs7QUFFQTtBQUNBOztBQUVBLDBCQUEwQix1QkFBUSxRQUFRLENBQUM7O0FBRTNDO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTG9hZCB0aGUgbm9kZSBsaWJyYXJ5IGFuZCB0aGVuIHJldHJpZXZlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZGlzcGxheSBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5cclxuLy8gdXNpbmcgdGhlIFdpbmRvd3MgQVBJIGNhbGxlZCBFbnVtRGlzcGxheVNldHRpbmcoVXNlcjMyLmRsbClcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICBcclxuXHJcbihmdW5jdGlvbiBpbml0V2l0aFNldHRpbmdzKCkge1xyXG4gICAgXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgXHJcbiAgICBpZihVdGlscy5pc053anMoKSkge1xyXG5cclxuICAgICAgICAvLyBpZiB5b3UgZGlkbid0IGhhdmUgbm9kZSBsaWJyYXJ5LCBpdCB3aWxsIHNldCBhcyBhIGRlZmF1bHQgcmVzb2x1dGlvbiBsaXN0LlxyXG4gICAgICAgIGlmKCFSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5pc1VzZWROb2RlTGlicmFyeSkge1xyXG4gICAgICAgICAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5wY0dyYXBoaWNzQXJyYXkgPSBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5wY0dyYXBoaWNzVGVtcEFycmF5OyAgXHJcbiAgICAgICAgICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMuYWxsUmVzb2x1dGlvbnMgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKSwgXHJcbiAgICAgICAgICAgIGZzID0gcmVxdWlyZSgnZnMnKSxcclxuICAgICAgICAgICAgcGxhdGZvcm0gPSBwcm9jZXNzLnBsYXRmb3JtO1xyXG4gICAgICAgIGNvbnN0IGJhc2UgPSBwcm9jZXNzLm1haW5Nb2R1bGUuZmlsZW5hbWU7XHJcblxyXG4gICAgICAgIHN3aXRjaChwbGF0Zm9ybSkge1xyXG4gICAgICAgIGNhc2UgJ3dpbjMyJzpcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBmaWxlVmVyc2lvbiA9IFwidjEuMi4wXCI7XHJcbiAgICAgICAgICAgIHZhciBwcm9jZXNzQXJjaCA9IHByb2Nlc3MuYXJjaDtcclxuXHJcbiAgICAgICAgICAgIGlmKFV0aWxzLlJQR01BS0VSX1ZFUlNJT04gPj0gXCIxLjYuMVwiKSB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBPcmlnaW5hbCBWZXJzaW9ucyBpbiBSTU1WIDEuNi4xIDogXHJcbiAgICAgICAgICAgICAgICAgYXJlczogXCIxLjEzLjBcIlxyXG4gICAgICAgICAgICAgICAgY2hyb21pdW06IFwiNjUuMC4zMzI1LjE4MVwiXHJcbiAgICAgICAgICAgICAgICBjbGRyOiBcIjMyLjBcIlxyXG4gICAgICAgICAgICAgICAgaHR0cF9wYXJzZXI6IFwiMi44LjBcIlxyXG4gICAgICAgICAgICAgICAgaWN1OiBcIjYwLjFcIlxyXG4gICAgICAgICAgICAgICAgbW9kdWxlczogXCI1OVwiXHJcbiAgICAgICAgICAgICAgICBuYXBpOiBcIjNcIlxyXG4gICAgICAgICAgICAgICAgbmdodHRwMjogXCIxLjI5LjBcIlxyXG4gICAgICAgICAgICAgICAgbm9kZTogXCI5LjExLjFcIlxyXG4gICAgICAgICAgICAgICAgbm9kZS13ZWJraXQ6IFwiMC4yOS40XCJcclxuICAgICAgICAgICAgICAgIG53OiBcIjAuMjkuNFwiXHJcbiAgICAgICAgICAgICAgICBudy1jb21taXQtaWQ6IFwiNmEyNTRmZS0xYzAwZjMxLWI4OTI4NDctZGViOWJjNlwiXHJcbiAgICAgICAgICAgICAgICBudy1mbGF2b3I6IFwic2RrXCJcclxuICAgICAgICAgICAgICAgIG9wZW5zc2w6IFwiMS4wLjJvXCJcclxuICAgICAgICAgICAgICAgIHR6OiBcIjIwMTdjXCJcclxuICAgICAgICAgICAgICAgIHVuaWNvZGU6IFwiMTAuMFwiXHJcbiAgICAgICAgICAgICAgICB1djogXCIxLjE5LjJcIlxyXG4gICAgICAgICAgICAgICAgdjg6IFwiNi41LjI1NC40MVwiXHJcbiAgICAgICAgICAgICAgICB6bGliOiBcIjEuMi4xMVwiXHJcblxyXG4gICAgICAgICAgICAqIE5vZGUgV2Via2l0IFZlcnNpb24gaW4gTXkgQ29tcHV0ZXI6XHJcbiAgICAgICAgICAgICAgICBhcmVzOiBcIjEuMTQuMFwiXHJcbiAgICAgICAgICAgICAgICBjaHJvbWl1bTogXCI2OS4wLjM0OTcuMTAwXCJcclxuICAgICAgICAgICAgICAgIGNsZHI6IFwiMzMuMVwiXHJcbiAgICAgICAgICAgICAgICBodHRwX3BhcnNlcjogXCIyLjguMFwiXHJcbiAgICAgICAgICAgICAgICBpY3U6IFwiNjIuMVwiXHJcbiAgICAgICAgICAgICAgICBtb2R1bGVzOiBcIjY0XCJcclxuICAgICAgICAgICAgICAgIG5hcGk6IFwiM1wiXHJcbiAgICAgICAgICAgICAgICBuZ2h0dHAyOiBcIjEuMzMuMFwiXHJcbiAgICAgICAgICAgICAgICBub2RlOiBcIjEwLjExLjBcIlxyXG4gICAgICAgICAgICAgICAgbm9kZS13ZWJraXQ6IFwiMC4zMy40XCJcclxuICAgICAgICAgICAgICAgIG53OiBcIjAuMzMuNFwiXHJcbiAgICAgICAgICAgICAgICBudy1jb21taXQtaWQ6IFwiM2Q3MzAyYy1kZTk2MDZlLTU3N2JjOTItNThhY2Y5OFwiXHJcbiAgICAgICAgICAgICAgICBudy1mbGF2b3I6IFwic2RrXCJcclxuICAgICAgICAgICAgICAgIG9wZW5zc2w6IFwiMS4xLjBpXCJcclxuICAgICAgICAgICAgICAgIHR6OiBcIjIwMThlXCJcclxuICAgICAgICAgICAgICAgIHVuaWNvZGU6IFwiMTEuMFwiXHJcbiAgICAgICAgICAgICAgICB1djogXCIxLjIzLjBcIlxyXG4gICAgICAgICAgICAgICAgdjg6IFwiNi45LjQyNy4yM1wiXHJcbiAgICAgICAgICAgICAgICB6bGliOiBcIjEuMi4xMVwiICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGZpbGVWZXJzaW9uID0gYHYke3Byb2Nlc3MudmVyc2lvbnMubm9kZX1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXQgbXVzdCBjaGFuZ2UgdGhlIGZpbGVuYW1lIGFzICdudy5leGUnIGluIFJQRyBNYWtlciBNViAxLjUuMiBvciBsZXNzLlxyXG4gICAgICAgICAgICBpZihwcm9jZXNzLnZlcnNpb25zLm5vZGUgPT0gXCIxLjIuMFwiICYmIHByb2Nlc3MuZXhlY1BhdGguY29udGFpbnMoXCJHYW1lLmV4ZVwiKSkge1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgdGhlIGdhbWUgcGxheXMgaW4gdGhlIHRlc3QgcGxheSBtb2RlLCBpdCBkb2VzIG5vdCBzaG93IHVwIHRoZSBhbGVydCB3aW5kb3cuXHJcbiAgICAgICAgICAgIGlmKFV0aWxzLmlzT3B0aW9uVmFsaWQoJ3Rlc3QnKSB8fCBVdGlscy5pc09wdGlvblZhbGlkKCdldGVzdCcpIHx8IFV0aWxzLmlzT3B0aW9uVmFsaWQoJ2J0ZXN0JykpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5zdGF0ZSA9IFwiaW5pdGlhbGl6ZWRcIjtcclxuICAgICAgICAgICAgICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnBjR3JhcGhpY3NBcnJheSA9IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnBjR3JhcGhpY3NUZW1wQXJyYXk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47ICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KFJTLlNjcmVlbk1hbmFnZXIubG9jYWxpemF0aW9uLmdldChcIk5vdEZvdW5kTndFeGVcIikpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldE5hbWUgPSBwYXRoLmpvaW4ocHJvY2Vzcy5leGVjUGF0aCwgXCIuLlwiLCBcIm53LmV4ZVwiKTtcclxuICAgICAgICAgICAgICAgIGZzLmNvcHlGaWxlKHByb2Nlc3MuZXhlY1BhdGgsIHRhcmdldE5hbWUsIFwidXRmOFwiLCBmdW5jdGlvbihlcnIsIGRhdGEpIHt9KTsgICAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSBwYXRoLmpvaW4oYmFzZSwgXCIuLlwiICxganMvbGlicy8ke2ZpbGVWZXJzaW9ufS13aW5EaXNwbGF5U2V0dGluZ3MtJHtwcm9jZXNzQXJjaH0ubm9kZWApO1xyXG4gICAgICAgICAgICBmaWxlTmFtZSA9IFV0aWxzLmdldEFic29sdXRlUGF0aChmaWxlTmFtZSk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gaWYgdGhlIGxpYnJhcnkgZmlsZSBleGlzdHM/XHJcbiAgICAgICAgICAgIGlmKGZzLmV4aXN0c1N5bmMoZmlsZU5hbWUpKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgdmFyIGRpc3BsYXkgPSByZXF1aXJlKGZpbGVOYW1lKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgZHVwbGljYXRlIGl0ZW1zIGZyb20gdGhlIGxpc3QuXHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IGRpc3BsYXkuR2V0RGlzcGxheVNldHRpbmdzKCk7XHJcbiAgICBcclxuICAgICAgICAgICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MucGNHcmFwaGljc0FycmF5ID0gaXRlbXM7XHJcbiAgICBcclxuICAgICAgICAgICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3Muc3RhdGUgPSBcImluaXRpYWxpemVkXCI7XHJcbiAgICBcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2luZG93LmFsZXJ0KFJTLlNjcmVlbk1hbmFnZXIubG9jYWxpemF0aW9uLmdldChcIk5vdEZvdW5kRXJyb3JcIikpO1xyXG4gICAgICAgICAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5zdGF0ZSA9IFwiZmFpbGVkXCI7XHJcbiAgICAgICAgICAgIC8vIFNldCBEZWZhdWx0IFJlc29sdXRpb25cclxuICAgICAgICAgICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MucGNHcmFwaGljc0FycmF5ID0gUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MucGNHcmFwaGljc1RlbXBBcnJheTtcclxuICAgICAgICAgICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hbGxSZXNvbHV0aW9ucyA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gICAgIFxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIC8vIGluIGNhc2Ugb2YgTWFjIE9TIChiYXNlIG9uIGRhcndpbiwgbGludXgpXHJcbiAgICAgICAgICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnBjR3JhcGhpY3NBcnJheSA9IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnBjR3JhcGhpY3NUZW1wQXJyYXk7XHJcbiAgICAgICAgICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMuYWxsUmVzb2x1dGlvbnMgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUud2FybihlcnJvcik7XHJcbiAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5wY0dyYXBoaWNzQXJyYXkgPSBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5wY0dyYXBoaWNzVGVtcEFycmF5O1xyXG4gICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hbGxSZXNvbHV0aW9ucyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n')},function(module,exports){eval("function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 9;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIgc3luYz9mODFmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsV0FBVztBQUNsRDtBQUNBO0FBQ0EiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHdlYnBhY2tFbXB0eUNvbnRleHQocmVxKSB7XG5cdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHR0aHJvdyBlO1xufVxud2VicGFja0VtcHR5Q29udGV4dC5rZXlzID0gZnVuY3Rpb24oKSB7IHJldHVybiBbXTsgfTtcbndlYnBhY2tFbXB0eUNvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG53ZWJwYWNrRW1wdHlDb250ZXh0LmlkID0gOTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n")},function(module,exports){eval("//============================================================================\r\n// ScreenConfig\r\n//============================================================================\r\n\r\nfunction ScreenConfig() {\r\n    this.initialize.apply(this, arguments);\r\n};\r\n\r\nScreenConfig.prototype.constructor = ScreenConfig;\r\nScreenConfig.prototype.initialize = function (originWidth, originHeight, orientation) {\r\n    this._originWidth = originWidth;\r\n    this._originHeight = originHeight;\r\n    this._orientation = orientation;\r\n    this._aspectRatio = this.getRatio(originWidth, originHeight);\r\n};\r\n\r\nScreenConfig.prototype.gcd = function (p, q) {\r\n    var self = this;\r\n    if(q === 0) return p;\r\n\r\n    return this.gcd(q, p % q);\r\n\r\n};\r\n\r\nScreenConfig.prototype.getSize = function (virtualWidth) {\r\n    var ret, w, h;\r\n\r\n    w = parseInt(virtualWidth);\r\n    h = parseInt(Math.round(this.getHeight(virtualWidth)));\r\n    ret = [w, h];\r\n\r\n    return ret;\r\n};\r\n\r\nScreenConfig.prototype.getRatio = function (width, height) {\r\n    var gcd, ret;\r\n    if(width === height) return [1, 1];\r\n    gcd = this.gcd(width, height);\r\n    ret = [(width / gcd), (height / gcd)];\r\n    return ret;\r\n};\r\n\r\nScreenConfig.prototype.getRatioAsString = function (width, height) {\r\n    var gcd, temp, ret;\r\n    if(width === height) return [1, 1];\r\n    if(width < height) {\r\n    temp = width;\r\n    width = height;\r\n    height = temp;\r\n    }\r\n    gcd = this.gcd(width, height);\r\n    ret = Number(width / gcd) + ':' + Number(height / gcd);\r\n\r\n    return ret;\r\n\r\n};\r\n\r\nScreenConfig.prototype.getWidth = function (newHeight) {\r\n    var ar = this._aspectRatio;\r\n    var ratio = parseFloat(ar[0] / ar[1]);\r\n\r\n    return ratio * newHeight;\r\n\r\n};\r\n\r\nScreenConfig.prototype.getHeight = function (newWidth) {\r\n    var ar = this._aspectRatio;\r\n    var ratio = parseFloat(ar[1] / ar[0]);\r\n\r\n    return ratio * newWidth;\r\n\r\n};\r\n\r\nwindow.ScreenConfig = ScreenConfig;\r\n\r\n//============================================================================\r\n// CustomScreenConfig\r\n//============================================================================\r\nfunction CustomScreenConfig() {\r\n    this.initialize.apply(this, arguments);\r\n};\r\n\r\nCustomScreenConfig.prototype = Object.create(ScreenConfig.prototype);\r\nCustomScreenConfig.prototype.constructor = CustomScreenConfig;\r\n\r\nCustomScreenConfig.prototype.initialize = function (a, b) {\r\n    // We don't need parameters,\r\n    // But it is just for calling the constructor of corresponding superclass.\r\n    ScreenConfig.prototype.initialize.call(this, 1600, 900, 'landscape');\r\n    a = a || 16;\r\n    b = b || 9;\r\n    this._aspectRatio = [a, b];\r\n};\r\n\r\nwindow.CustomScreenConfig = CustomScreenConfig;\r\n\r\n//============================================================================\r\n// Point\r\n//============================================================================\r\nPoint.prototype.toString = function () {\r\n    return this.x + ' x ' +  this.y;\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvU2NyZWVuQ29uZmlnLmpzPzA2NDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNjcmVlbkNvbmZpZ1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmZ1bmN0aW9uIFNjcmVlbkNvbmZpZygpIHtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5cclxuU2NyZWVuQ29uZmlnLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNjcmVlbkNvbmZpZztcclxuU2NyZWVuQ29uZmlnLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKG9yaWdpbldpZHRoLCBvcmlnaW5IZWlnaHQsIG9yaWVudGF0aW9uKSB7XHJcbiAgICB0aGlzLl9vcmlnaW5XaWR0aCA9IG9yaWdpbldpZHRoO1xyXG4gICAgdGhpcy5fb3JpZ2luSGVpZ2h0ID0gb3JpZ2luSGVpZ2h0O1xyXG4gICAgdGhpcy5fb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcclxuICAgIHRoaXMuX2FzcGVjdFJhdGlvID0gdGhpcy5nZXRSYXRpbyhvcmlnaW5XaWR0aCwgb3JpZ2luSGVpZ2h0KTtcclxufTtcclxuXHJcblNjcmVlbkNvbmZpZy5wcm90b3R5cGUuZ2NkID0gZnVuY3Rpb24gKHAsIHEpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGlmKHEgPT09IDApIHJldHVybiBwO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmdjZChxLCBwICUgcSk7XHJcblxyXG59O1xyXG5cclxuU2NyZWVuQ29uZmlnLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKHZpcnR1YWxXaWR0aCkge1xyXG4gICAgdmFyIHJldCwgdywgaDtcclxuXHJcbiAgICB3ID0gcGFyc2VJbnQodmlydHVhbFdpZHRoKTtcclxuICAgIGggPSBwYXJzZUludChNYXRoLnJvdW5kKHRoaXMuZ2V0SGVpZ2h0KHZpcnR1YWxXaWR0aCkpKTtcclxuICAgIHJldCA9IFt3LCBoXTtcclxuXHJcbiAgICByZXR1cm4gcmV0O1xyXG59O1xyXG5cclxuU2NyZWVuQ29uZmlnLnByb3RvdHlwZS5nZXRSYXRpbyA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICB2YXIgZ2NkLCByZXQ7XHJcbiAgICBpZih3aWR0aCA9PT0gaGVpZ2h0KSByZXR1cm4gWzEsIDFdO1xyXG4gICAgZ2NkID0gdGhpcy5nY2Qod2lkdGgsIGhlaWdodCk7XHJcbiAgICByZXQgPSBbKHdpZHRoIC8gZ2NkKSwgKGhlaWdodCAvIGdjZCldO1xyXG4gICAgcmV0dXJuIHJldDtcclxufTtcclxuXHJcblNjcmVlbkNvbmZpZy5wcm90b3R5cGUuZ2V0UmF0aW9Bc1N0cmluZyA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICB2YXIgZ2NkLCB0ZW1wLCByZXQ7XHJcbiAgICBpZih3aWR0aCA9PT0gaGVpZ2h0KSByZXR1cm4gWzEsIDFdO1xyXG4gICAgaWYod2lkdGggPCBoZWlnaHQpIHtcclxuICAgIHRlbXAgPSB3aWR0aDtcclxuICAgIHdpZHRoID0gaGVpZ2h0O1xyXG4gICAgaGVpZ2h0ID0gdGVtcDtcclxuICAgIH1cclxuICAgIGdjZCA9IHRoaXMuZ2NkKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgcmV0ID0gTnVtYmVyKHdpZHRoIC8gZ2NkKSArICc6JyArIE51bWJlcihoZWlnaHQgLyBnY2QpO1xyXG5cclxuICAgIHJldHVybiByZXQ7XHJcblxyXG59O1xyXG5cclxuU2NyZWVuQ29uZmlnLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uIChuZXdIZWlnaHQpIHtcclxuICAgIHZhciBhciA9IHRoaXMuX2FzcGVjdFJhdGlvO1xyXG4gICAgdmFyIHJhdGlvID0gcGFyc2VGbG9hdChhclswXSAvIGFyWzFdKTtcclxuXHJcbiAgICByZXR1cm4gcmF0aW8gKiBuZXdIZWlnaHQ7XHJcblxyXG59O1xyXG5cclxuU2NyZWVuQ29uZmlnLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAobmV3V2lkdGgpIHtcclxuICAgIHZhciBhciA9IHRoaXMuX2FzcGVjdFJhdGlvO1xyXG4gICAgdmFyIHJhdGlvID0gcGFyc2VGbG9hdChhclsxXSAvIGFyWzBdKTtcclxuXHJcbiAgICByZXR1cm4gcmF0aW8gKiBuZXdXaWR0aDtcclxuXHJcbn07XHJcblxyXG53aW5kb3cuU2NyZWVuQ29uZmlnID0gU2NyZWVuQ29uZmlnO1xyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEN1c3RvbVNjcmVlbkNvbmZpZ1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZnVuY3Rpb24gQ3VzdG9tU2NyZWVuQ29uZmlnKCkge1xyXG4gICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5DdXN0b21TY3JlZW5Db25maWcucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTY3JlZW5Db25maWcucHJvdG90eXBlKTtcclxuQ3VzdG9tU2NyZWVuQ29uZmlnLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEN1c3RvbVNjcmVlbkNvbmZpZztcclxuXHJcbkN1c3RvbVNjcmVlbkNvbmZpZy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAvLyBXZSBkb24ndCBuZWVkIHBhcmFtZXRlcnMsXHJcbiAgICAvLyBCdXQgaXQgaXMganVzdCBmb3IgY2FsbGluZyB0aGUgY29uc3RydWN0b3Igb2YgY29ycmVzcG9uZGluZyBzdXBlcmNsYXNzLlxyXG4gICAgU2NyZWVuQ29uZmlnLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgMTYwMCwgOTAwLCAnbGFuZHNjYXBlJyk7XHJcbiAgICBhID0gYSB8fCAxNjtcclxuICAgIGIgPSBiIHx8IDk7XHJcbiAgICB0aGlzLl9hc3BlY3RSYXRpbyA9IFthLCBiXTtcclxufTtcclxuXHJcbndpbmRvdy5DdXN0b21TY3JlZW5Db25maWcgPSBDdXN0b21TY3JlZW5Db25maWc7XHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUG9pbnRcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblBvaW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLnggKyAnIHggJyArICB0aGlzLnk7XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n")},function(module,exports,__webpack_require__){eval("//============================================================================\r\n// Graphics\r\n//============================================================================\r\n\r\nGraphics.getAvailGraphicsArray = function (returnType) {\r\n    var data, tw, th, pt, gArray, result, maxSW, maxSH, type;\r\n    var orientation, config, aspectRatio;\r\n    var temp, ret;\r\n\r\n    gArray = [];\r\n    result = [];\r\n\r\n    // outerWidth : 브라우저 윈도우의 사이드바와 가장자리 경계선을 포함한 폭.\r\n    // screen.availWidth : OS의 상태바나 작업 표시줄을 제외한 폭.\r\n    maxSW = Utils.isMobileDevice() ? window.outerWidth : window.screen.availWidth;\r\n    maxSH = Utils.isMobileDevice() ? window.outerHeight : window.screen.availHeight;\r\n\r\n    // Obtain the screen orientation.\r\n    if(Utils.isNwjs()) {\r\n    type = (maxSW > maxSH) ? 'landscape' : 'portrait';\r\n    if(maxSW === maxSH) type = 'landscape';\r\n    } else {\r\n    type = screen.orientation.type.match(/landscape/) ? 'landscape' : 'portrait';\r\n    }\r\n\r\n    data = (Utils.isNwjs()) ? RS.ScreenManager.Params.settings.pcGraphicsArray : RS.ScreenManager.Params.settings.resolutionQualityOnMobile;\r\n    // if( Utils.isMobileDevice()) data = RS.ScreenManager.Params.settings.mobileGraphicsArray;\r\n\r\n    // Set a custom aspect ratio\r\n    config = new CustomScreenConfig(RS.ScreenManager.Params.settings.customAspectRatio[0], RS.ScreenManager.Params.settings.customAspectRatio[1]);\r\n\r\n    data = RS.ScreenManager.uniqArray(data);\r\n\r\n    data.forEach(function (i) {\r\n\r\n    var sw = 0;\r\n    var sh = 0;\r\n\r\n    if('width' in i) {\r\n        sw = i.width;\r\n    } else {\r\n        sw = i[0];\r\n    }\r\n\r\n    if('height' in i) {\r\n        sh = i.height;\r\n    } else {\r\n        sh = i[1];\r\n    }\r\n\r\n    tw = Number(sw);\r\n    th = Number(sh);\r\n\r\n    // Swap\r\n    if(type === 'portrait' && (maxSW > maxSH) ) {\r\n        var temp = tw;\r\n        tw = th;\r\n        th = temp;\r\n    }\r\n\r\n    if(tw >= 0 && tw <= maxSW && th >= 0 && th <= maxSH) {\r\n\r\n        // Convert the screen using an Aspect Ratio\r\n        if(RS.ScreenManager.Params.options.aspectRatio) {\r\n        temp = config.getSize(tw);\r\n        tw = temp[0];\r\n        th = temp[1];\r\n        }\r\n\r\n        pt = new Point(tw, th);\r\n        gArray.push(pt);\r\n        result.push(pt.toString());\r\n\r\n    } else {\r\n\r\n        if(RS.ScreenManager.Params.options.allResolutions) {\r\n\r\n        // Convert the screen using an Aspect Ratio\r\n        if(RS.ScreenManager.Params.options.aspectRatio) {\r\n            temp = config.getSize(tw);\r\n            tw = temp[0];\r\n            th = temp[1];\r\n        }\r\n\r\n        pt = new Point(tw, th);\r\n        gArray.push(pt);\r\n        result.push(pt.toString());\r\n\r\n        }\r\n    }\r\n\r\n    }, this);\r\n\r\n    return (returnType === 'String')? result : gArray;\r\n\r\n};\r\n\r\nGraphics.getOrientation = function (inner) {\r\n    var maxSW = (inner === true) ? window.innerWidth : window.screen.availWidth;\r\n    var maxSH = (inner === true) ? window.innerHeight : window.screen.availHeight;\r\n    var orientation = 'landscape';\r\n    if(Utils.isNwjs() || !screen.orientation) {\r\n    orientation = (maxSW > maxSH) ? 'landscape' : 'portrait';\r\n    if(maxSW === maxSH) orientation = 'landscape';\r\n    } else {\r\n    orientation = screen.orientation.type.match(/landscape/) ? 'landscape' : 'portrait';\r\n    }\r\n    return orientation;\r\n};\r\n\r\nGraphics.isAvailScreenHeight = function(height) {\r\n    var task_height = screen.height - screen.availHeight;\r\n    var maxHeight = screen.availHeight - task_height;\r\n    return height <= maxHeight;\r\n};  \r\n\r\nGraphics.uniqWithPoint = function (data, callback) {\r\n    var ret = [];\r\n    ret = data.filter(function(e, i, a) {\r\n\r\n    if(a[i-1] instanceof Point) {\r\n\r\n        if(a[i-1].x === e.x && a[i-1].y === e.y) {\r\n\r\n        return false;\r\n\r\n        }\r\n\r\n        return true;\r\n\r\n    } else {\r\n\r\n        return true;\r\n\r\n    }\r\n    });\r\n\r\n    callback(ret);\r\n\r\n};\r\n\r\nGraphics.getVirtualWidth = function(originValue) {\r\n    var ratio = 816.0 / Graphics.boxWidth;\r\n    return Math.floor(originValue / ratio);\r\n};\r\n\r\nGraphics.getVirtualHeight = function(originValue) {\r\n    var ratio = 624.0 / Graphics.boxHeight;\r\n    return Math.floor(originValue / ratio);\r\n};\r\n\r\nGraphics.setScreenResize = function (newScr) {\r\n    var cx, cy, xPadding, yPadding;\r\n    var tw, th, minW, minH;\r\n    var orientation, config, aspectRatio;\r\n    var maxSW, maxSH;\r\n    var temp;\r\n    \r\n    var taskHeight = 0;\r\n\r\n    // Get the screen width and height (Excepted in Windows Taskbar)\r\n    maxSW = window.screen.availWidth;\r\n    maxSH = window.screen.availHeight;\r\n\r\n    // Get an orientation in your screen\r\n    orientation = this.getOrientation(false);\r\n\r\n    // Get an aspect ratio of a new screen size.\r\n    config = new ScreenConfig(newScr.x, newScr.y, orientation);\r\n    aspectRatio = config._aspectRatio || [17, 13];   \r\n\r\n    if(RS.ScreenManager.Params.options.aspectRatio) {\r\n    config = new CustomScreenConfig(RS.ScreenManager.Params.settings.customAspectRatio[0], RS.ScreenManager.Params.settings.customAspectRatio[1]);\r\n    aspectRatio = config._aspectRatio;\r\n    temp = config.getSize(newScr.x);\r\n    newScr.x = temp[0];\r\n    newScr.y = temp[1];\r\n    }\r\n\r\n    SceneManager._screenWidth       = newScr.x;\r\n    SceneManager._screenHeight      = newScr.y;\r\n    SceneManager._boxWidth          = newScr.x;\r\n    SceneManager._boxHeight         = newScr.y;\r\n\r\n    // 화면 중앙 좌표\r\n    cx = (window.screen.availWidth / 2) - (newScr.x / 2);\r\n    cy = (window.screen.availHeight / 2) - (newScr.y / 2);\r\n\r\n    // 화면 패딩\r\n    xPadding = window.outerWidth - window.innerWidth;\r\n    yPadding = window.outerHeight - window.innerHeight;\r\n\r\n    // 타일 크기\r\n    tw = ($gameMap && $gameMap.tileWidth) ? $gameMap.tileWidth() : 48;\r\n    th = ($gameMap && $gameMap.tileHeight) ? $gameMap.tileHeight() : 48;\r\n\r\n    // 최소 크기\r\n    minW = (tw * aspectRatio[0]) || Graphics._renderer.width;\r\n    minH = (th * aspectRatio[1]) || Graphics._renderer.height;\r\n\r\n    // 작업 표시줄의 크기 때문에 수용할 수 없는 해상도라면 한 단계 낮춘다.\r\n    if(RS.ScreenManager.isWindowsTaskbarShown() && \r\n    !this.isAvailScreenHeight(newScr.y) && \r\n    !Utils.isMobileDevice() &&\r\n    RS.ScreenManager.Params.options.autoScaling ) {\r\n\r\n    var data = Graphics.getAvailGraphicsArray('Number');\r\n    var ret = [];\r\n\r\n    this.uniqWithPoint(data.slice(0), function (newData) {\r\n        ret = newData;\r\n    });    \r\n\r\n    ret = ret.filter(function(i) {\r\n        return i.y < (newScr.y); \r\n    }, this);\r\n\r\n    var item = ret.pop();\r\n\r\n    if(item) {\r\n        newScr = item;\r\n    }\r\n    }\r\n\r\n    // 화면 크기를 절대 값으로 지정\r\n    window.resizeTo(newScr.x + xPadding, newScr.y + yPadding);\r\n    window.moveTo(cx, cy);\r\n\r\n    // 해상도 최소값 & 최대값 설정 부분, 자동으로 조절하는 것에 맞겼다면.\r\n    if(RS.ScreenManager.Params.options.autoScaling && (tw/th >= 1.0) && tw >= 48) {\r\n\r\n    // 새로운 해상도 값이 최소값(tileWidth * aspectRatio) 값보다 작으면 해상도를 최소값으로 제한한다.\r\n    if(RS.ScreenManager.Params.options.minWidth) Graphics.width = Graphics.boxWidth = Math.max(minW, newScr.x);\r\n    if(RS.ScreenManager.Params.options.minHeight) Graphics.height = Graphics.boxHeight = Math.max(minH, newScr.y);\r\n\r\n    // 최소 최대 제한이 없을 경우,\r\n    if(!RS.ScreenManager.Params.options.minWidth && !RS.ScreenManager.Params.options.minHeight) {\r\n        Graphics.width = Graphics.boxWidth = newScr.x.clamp(minW, window.outerWidth);\r\n        Graphics.height = Graphics.boxHeight = newScr.x.clamp(minH, window.outerHeight);\r\n    }\r\n\r\n    } else {\r\n    // 그냥 설정한다.\r\n    Graphics.width = Graphics.boxWidth = newScr.x;\r\n    Graphics.height = Graphics.boxHeight = newScr.y;\r\n    }\r\n\r\n    // Reset graphics' size\r\n    if(RS.ScreenManager.Params.options.resize) {\r\n        Graphics._renderer.resize(newScr.x, newScr.y);\r\n    }\r\n\r\n    // Reset the scene (Unsaved changes will be lost)\r\n    if(RS.ScreenManager.Params.options.recreate && !(SceneManager._scene instanceof Scene_Boot)) {\r\n    if(SceneManager._scene) SceneManager.push(SceneManager._scene.constructor);\r\n    }\r\n\r\n};\r\n\r\n/**\r\n * Disarms the behavior of Community_Basic plugin.\r\n */\r\nif(PluginManager._scripts.contains(\"Community_Basic\")) {\r\n    SceneManager.initNwjs = function() {\r\n        if (Utils.isNwjs()) {\r\n            var gui = __webpack_require__(1);\r\n            var win = gui.Window.get();\r\n            if (process.platform === 'darwin' && !win.menu) {\r\n                var menubar = new gui.Menu({ type: 'menubar' });\r\n                var option = { hideEdit: true, hideWindow: true };\r\n                menubar.createMacBuiltin('Game', option);\r\n                win.menu = menubar;\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\n/**\r\n * Disarms the behavior of YEP_CoreEngine and ScreenResolution plugins.\r\n */\r\nif( SceneManager.run.toString().match(/Yanfly/i) ) {\r\n    SceneManager.run = function(sceneClass) {\r\n        try {\r\n            this.initialize();\r\n            this.goto(sceneClass);\r\n            this.requestUpdate();\r\n        } catch (e) {\r\n            this.catchException(e);\r\n        }\r\n    };\r\n}\r\n\r\nvar alias_Graphics_onWindowResize = Graphics._onWindowResize;\r\nGraphics._onWindowResize = function() {\r\n    alias_Graphics_onWindowResize.call(this);\r\n    if(Utils.isNwjs()) {\r\n    //   var canvas = document.querySelector('canvas');\r\n    //   var dx = parseInt(canvas.style.width);\r\n    //   var dy = parseInt(canvas.style.height);\r\n    //   var xPadding = window.outerWidth - window.innerWidth;\r\n    //   var yPadding = window.outerHeight - window.innerHeight;\r\n    //   var cx = (window.screen.availWidth / 2) - (Graphics.boxWidth / 2);\r\n    //   var cy = (window.screen.availHeight / 2) - (Graphics.boxHeight / 2);\r\n    //   if(dx !== Graphics.boxWidth) {\r\n    //     var mx = (Graphics.boxWidth - dx);\r\n    //     var my = (Graphics.boxHeight - dy);\r\n    //     window.resizeTo(\r\n    //       parseInt(Graphics.boxWidth - mx + xPadding),\r\n    //       parseInt(Graphics.boxHeight - my + yPadding)\r\n    //     );\r\n    //   }\r\n    if(!nw) var nw = __webpack_require__(1);\r\n    var win = nw.Window.get();\r\n    win.setPosition(\"center\");\r\n    }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvR3JhcGhpY3MuanM/MWZkNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxLQUFLOztBQUVMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsS0FBSzs7QUFFTDs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLLEU7O0FBRUw7QUFDQSxnQztBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtQkFBTyxDQUFDLENBQVE7QUFDdEM7QUFDQTtBQUNBLDRDQUE0QyxrQkFBa0I7QUFDOUQsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsbUJBQU8sQ0FBQyxDQUFRO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEdyYXBoaWNzXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuR3JhcGhpY3MuZ2V0QXZhaWxHcmFwaGljc0FycmF5ID0gZnVuY3Rpb24gKHJldHVyblR5cGUpIHtcclxuICAgIHZhciBkYXRhLCB0dywgdGgsIHB0LCBnQXJyYXksIHJlc3VsdCwgbWF4U1csIG1heFNILCB0eXBlO1xyXG4gICAgdmFyIG9yaWVudGF0aW9uLCBjb25maWcsIGFzcGVjdFJhdGlvO1xyXG4gICAgdmFyIHRlbXAsIHJldDtcclxuXHJcbiAgICBnQXJyYXkgPSBbXTtcclxuICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgIC8vIG91dGVyV2lkdGggOiDruIzrnbzsmrDsoIAg7JyI64+E7Jqw7J2YIOyCrOydtOuTnOuwlOyZgCDqsIDsnqXsnpDrpqwg6rK96rOE7ISg7J2EIO2PrO2VqO2VnCDtj60uXHJcbiAgICAvLyBzY3JlZW4uYXZhaWxXaWR0aCA6IE9T7J2YIOyDge2DnOuwlOuCmCDsnpHsl4Ug7ZGc7Iuc7KSE7J2EIOygnOyZuO2VnCDtj60uXHJcbiAgICBtYXhTVyA9IFV0aWxzLmlzTW9iaWxlRGV2aWNlKCkgPyB3aW5kb3cub3V0ZXJXaWR0aCA6IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aDtcclxuICAgIG1heFNIID0gVXRpbHMuaXNNb2JpbGVEZXZpY2UoKSA/IHdpbmRvdy5vdXRlckhlaWdodCA6IHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQ7XHJcblxyXG4gICAgLy8gT2J0YWluIHRoZSBzY3JlZW4gb3JpZW50YXRpb24uXHJcbiAgICBpZihVdGlscy5pc053anMoKSkge1xyXG4gICAgdHlwZSA9IChtYXhTVyA+IG1heFNIKSA/ICdsYW5kc2NhcGUnIDogJ3BvcnRyYWl0JztcclxuICAgIGlmKG1heFNXID09PSBtYXhTSCkgdHlwZSA9ICdsYW5kc2NhcGUnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgIHR5cGUgPSBzY3JlZW4ub3JpZW50YXRpb24udHlwZS5tYXRjaCgvbGFuZHNjYXBlLykgPyAnbGFuZHNjYXBlJyA6ICdwb3J0cmFpdCc7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YSA9IChVdGlscy5pc053anMoKSkgPyBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5wY0dyYXBoaWNzQXJyYXkgOiBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5yZXNvbHV0aW9uUXVhbGl0eU9uTW9iaWxlO1xyXG4gICAgLy8gaWYoIFV0aWxzLmlzTW9iaWxlRGV2aWNlKCkpIGRhdGEgPSBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5tb2JpbGVHcmFwaGljc0FycmF5O1xyXG5cclxuICAgIC8vIFNldCBhIGN1c3RvbSBhc3BlY3QgcmF0aW9cclxuICAgIGNvbmZpZyA9IG5ldyBDdXN0b21TY3JlZW5Db25maWcoUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW9bMF0sIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLmN1c3RvbUFzcGVjdFJhdGlvWzFdKTtcclxuXHJcbiAgICBkYXRhID0gUlMuU2NyZWVuTWFuYWdlci51bmlxQXJyYXkoZGF0YSk7XHJcblxyXG4gICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XHJcblxyXG4gICAgdmFyIHN3ID0gMDtcclxuICAgIHZhciBzaCA9IDA7XHJcblxyXG4gICAgaWYoJ3dpZHRoJyBpbiBpKSB7XHJcbiAgICAgICAgc3cgPSBpLndpZHRoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzdyA9IGlbMF07XHJcbiAgICB9XHJcblxyXG4gICAgaWYoJ2hlaWdodCcgaW4gaSkge1xyXG4gICAgICAgIHNoID0gaS5oZWlnaHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNoID0gaVsxXTtcclxuICAgIH1cclxuXHJcbiAgICB0dyA9IE51bWJlcihzdyk7XHJcbiAgICB0aCA9IE51bWJlcihzaCk7XHJcblxyXG4gICAgLy8gU3dhcFxyXG4gICAgaWYodHlwZSA9PT0gJ3BvcnRyYWl0JyAmJiAobWF4U1cgPiBtYXhTSCkgKSB7XHJcbiAgICAgICAgdmFyIHRlbXAgPSB0dztcclxuICAgICAgICB0dyA9IHRoO1xyXG4gICAgICAgIHRoID0gdGVtcDtcclxuICAgIH1cclxuXHJcbiAgICBpZih0dyA+PSAwICYmIHR3IDw9IG1heFNXICYmIHRoID49IDAgJiYgdGggPD0gbWF4U0gpIHtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCB0aGUgc2NyZWVuIHVzaW5nIGFuIEFzcGVjdCBSYXRpb1xyXG4gICAgICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMuYXNwZWN0UmF0aW8pIHtcclxuICAgICAgICB0ZW1wID0gY29uZmlnLmdldFNpemUodHcpO1xyXG4gICAgICAgIHR3ID0gdGVtcFswXTtcclxuICAgICAgICB0aCA9IHRlbXBbMV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdCA9IG5ldyBQb2ludCh0dywgdGgpO1xyXG4gICAgICAgIGdBcnJheS5wdXNoKHB0KTtcclxuICAgICAgICByZXN1bHQucHVzaChwdC50b1N0cmluZygpKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICBpZihSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLmFsbFJlc29sdXRpb25zKSB7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIHNjcmVlbiB1c2luZyBhbiBBc3BlY3QgUmF0aW9cclxuICAgICAgICBpZihSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLmFzcGVjdFJhdGlvKSB7XHJcbiAgICAgICAgICAgIHRlbXAgPSBjb25maWcuZ2V0U2l6ZSh0dyk7XHJcbiAgICAgICAgICAgIHR3ID0gdGVtcFswXTtcclxuICAgICAgICAgICAgdGggPSB0ZW1wWzFdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHQgPSBuZXcgUG9pbnQodHcsIHRoKTtcclxuICAgICAgICBnQXJyYXkucHVzaChwdCk7XHJcbiAgICAgICAgcmVzdWx0LnB1c2gocHQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB9LCB0aGlzKTtcclxuXHJcbiAgICByZXR1cm4gKHJldHVyblR5cGUgPT09ICdTdHJpbmcnKT8gcmVzdWx0IDogZ0FycmF5O1xyXG5cclxufTtcclxuXHJcbkdyYXBoaWNzLmdldE9yaWVudGF0aW9uID0gZnVuY3Rpb24gKGlubmVyKSB7XHJcbiAgICB2YXIgbWF4U1cgPSAoaW5uZXIgPT09IHRydWUpID8gd2luZG93LmlubmVyV2lkdGggOiB3aW5kb3cuc2NyZWVuLmF2YWlsV2lkdGg7XHJcbiAgICB2YXIgbWF4U0ggPSAoaW5uZXIgPT09IHRydWUpID8gd2luZG93LmlubmVySGVpZ2h0IDogd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodDtcclxuICAgIHZhciBvcmllbnRhdGlvbiA9ICdsYW5kc2NhcGUnO1xyXG4gICAgaWYoVXRpbHMuaXNOd2pzKCkgfHwgIXNjcmVlbi5vcmllbnRhdGlvbikge1xyXG4gICAgb3JpZW50YXRpb24gPSAobWF4U1cgPiBtYXhTSCkgPyAnbGFuZHNjYXBlJyA6ICdwb3J0cmFpdCc7XHJcbiAgICBpZihtYXhTVyA9PT0gbWF4U0gpIG9yaWVudGF0aW9uID0gJ2xhbmRzY2FwZSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgb3JpZW50YXRpb24gPSBzY3JlZW4ub3JpZW50YXRpb24udHlwZS5tYXRjaCgvbGFuZHNjYXBlLykgPyAnbGFuZHNjYXBlJyA6ICdwb3J0cmFpdCc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3JpZW50YXRpb247XHJcbn07XHJcblxyXG5HcmFwaGljcy5pc0F2YWlsU2NyZWVuSGVpZ2h0ID0gZnVuY3Rpb24oaGVpZ2h0KSB7XHJcbiAgICB2YXIgdGFza19oZWlnaHQgPSBzY3JlZW4uaGVpZ2h0IC0gc2NyZWVuLmF2YWlsSGVpZ2h0O1xyXG4gICAgdmFyIG1heEhlaWdodCA9IHNjcmVlbi5hdmFpbEhlaWdodCAtIHRhc2tfaGVpZ2h0O1xyXG4gICAgcmV0dXJuIGhlaWdodCA8PSBtYXhIZWlnaHQ7XHJcbn07ICBcclxuXHJcbkdyYXBoaWNzLnVuaXFXaXRoUG9pbnQgPSBmdW5jdGlvbiAoZGF0YSwgY2FsbGJhY2spIHtcclxuICAgIHZhciByZXQgPSBbXTtcclxuICAgIHJldCA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uKGUsIGksIGEpIHtcclxuXHJcbiAgICBpZihhW2ktMV0gaW5zdGFuY2VvZiBQb2ludCkge1xyXG5cclxuICAgICAgICBpZihhW2ktMV0ueCA9PT0gZS54ICYmIGFbaS0xXS55ID09PSBlLnkpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNhbGxiYWNrKHJldCk7XHJcblxyXG59O1xyXG5cclxuR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoID0gZnVuY3Rpb24ob3JpZ2luVmFsdWUpIHtcclxuICAgIHZhciByYXRpbyA9IDgxNi4wIC8gR3JhcGhpY3MuYm94V2lkdGg7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihvcmlnaW5WYWx1ZSAvIHJhdGlvKTtcclxufTtcclxuXHJcbkdyYXBoaWNzLmdldFZpcnR1YWxIZWlnaHQgPSBmdW5jdGlvbihvcmlnaW5WYWx1ZSkge1xyXG4gICAgdmFyIHJhdGlvID0gNjI0LjAgLyBHcmFwaGljcy5ib3hIZWlnaHQ7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihvcmlnaW5WYWx1ZSAvIHJhdGlvKTtcclxufTtcclxuXHJcbkdyYXBoaWNzLnNldFNjcmVlblJlc2l6ZSA9IGZ1bmN0aW9uIChuZXdTY3IpIHtcclxuICAgIHZhciBjeCwgY3ksIHhQYWRkaW5nLCB5UGFkZGluZztcclxuICAgIHZhciB0dywgdGgsIG1pblcsIG1pbkg7XHJcbiAgICB2YXIgb3JpZW50YXRpb24sIGNvbmZpZywgYXNwZWN0UmF0aW87XHJcbiAgICB2YXIgbWF4U1csIG1heFNIO1xyXG4gICAgdmFyIHRlbXA7XHJcbiAgICBcclxuICAgIHZhciB0YXNrSGVpZ2h0ID0gMDtcclxuXHJcbiAgICAvLyBHZXQgdGhlIHNjcmVlbiB3aWR0aCBhbmQgaGVpZ2h0IChFeGNlcHRlZCBpbiBXaW5kb3dzIFRhc2tiYXIpXHJcbiAgICBtYXhTVyA9IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aDtcclxuICAgIG1heFNIID0gd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodDtcclxuXHJcbiAgICAvLyBHZXQgYW4gb3JpZW50YXRpb24gaW4geW91ciBzY3JlZW5cclxuICAgIG9yaWVudGF0aW9uID0gdGhpcy5nZXRPcmllbnRhdGlvbihmYWxzZSk7XHJcblxyXG4gICAgLy8gR2V0IGFuIGFzcGVjdCByYXRpbyBvZiBhIG5ldyBzY3JlZW4gc2l6ZS5cclxuICAgIGNvbmZpZyA9IG5ldyBTY3JlZW5Db25maWcobmV3U2NyLngsIG5ld1Njci55LCBvcmllbnRhdGlvbik7XHJcbiAgICBhc3BlY3RSYXRpbyA9IGNvbmZpZy5fYXNwZWN0UmF0aW8gfHwgWzE3LCAxM107ICAgXHJcblxyXG4gICAgaWYoUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hc3BlY3RSYXRpbykge1xyXG4gICAgY29uZmlnID0gbmV3IEN1c3RvbVNjcmVlbkNvbmZpZyhSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5jdXN0b21Bc3BlY3RSYXRpb1swXSwgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW9bMV0pO1xyXG4gICAgYXNwZWN0UmF0aW8gPSBjb25maWcuX2FzcGVjdFJhdGlvO1xyXG4gICAgdGVtcCA9IGNvbmZpZy5nZXRTaXplKG5ld1Njci54KTtcclxuICAgIG5ld1Njci54ID0gdGVtcFswXTtcclxuICAgIG5ld1Njci55ID0gdGVtcFsxXTtcclxuICAgIH1cclxuXHJcbiAgICBTY2VuZU1hbmFnZXIuX3NjcmVlbldpZHRoICAgICAgID0gbmV3U2NyLng7XHJcbiAgICBTY2VuZU1hbmFnZXIuX3NjcmVlbkhlaWdodCAgICAgID0gbmV3U2NyLnk7XHJcbiAgICBTY2VuZU1hbmFnZXIuX2JveFdpZHRoICAgICAgICAgID0gbmV3U2NyLng7XHJcbiAgICBTY2VuZU1hbmFnZXIuX2JveEhlaWdodCAgICAgICAgID0gbmV3U2NyLnk7XHJcblxyXG4gICAgLy8g7ZmU66m0IOykkeyVmSDsooztkZxcclxuICAgIGN4ID0gKHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aCAvIDIpIC0gKG5ld1Njci54IC8gMik7XHJcbiAgICBjeSA9ICh3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0IC8gMikgLSAobmV3U2NyLnkgLyAyKTtcclxuXHJcbiAgICAvLyDtmZTrqbQg7Yyo65SpXHJcbiAgICB4UGFkZGluZyA9IHdpbmRvdy5vdXRlcldpZHRoIC0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICB5UGFkZGluZyA9IHdpbmRvdy5vdXRlckhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICAvLyDtg4Dsnbwg7YGs6riwXHJcbiAgICB0dyA9ICgkZ2FtZU1hcCAmJiAkZ2FtZU1hcC50aWxlV2lkdGgpID8gJGdhbWVNYXAudGlsZVdpZHRoKCkgOiA0ODtcclxuICAgIHRoID0gKCRnYW1lTWFwICYmICRnYW1lTWFwLnRpbGVIZWlnaHQpID8gJGdhbWVNYXAudGlsZUhlaWdodCgpIDogNDg7XHJcblxyXG4gICAgLy8g7LWc7IaMIO2BrOq4sFxyXG4gICAgbWluVyA9ICh0dyAqIGFzcGVjdFJhdGlvWzBdKSB8fCBHcmFwaGljcy5fcmVuZGVyZXIud2lkdGg7XHJcbiAgICBtaW5IID0gKHRoICogYXNwZWN0UmF0aW9bMV0pIHx8IEdyYXBoaWNzLl9yZW5kZXJlci5oZWlnaHQ7XHJcblxyXG4gICAgLy8g7J6R7JeFIO2RnOyLnOykhOydmCDtgazquLAg65WM66y47JeQIOyImOyaqe2VoCDsiJgg7JeG64qUIO2VtOyDgeuPhOudvOuptCDtlZwg64uo6rOEIOuCruy2mOuLpC5cclxuICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuaXNXaW5kb3dzVGFza2JhclNob3duKCkgJiYgXHJcbiAgICAhdGhpcy5pc0F2YWlsU2NyZWVuSGVpZ2h0KG5ld1Njci55KSAmJiBcclxuICAgICFVdGlscy5pc01vYmlsZURldmljZSgpICYmXHJcbiAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLmF1dG9TY2FsaW5nICkge1xyXG5cclxuICAgIHZhciBkYXRhID0gR3JhcGhpY3MuZ2V0QXZhaWxHcmFwaGljc0FycmF5KCdOdW1iZXInKTtcclxuICAgIHZhciByZXQgPSBbXTtcclxuXHJcbiAgICB0aGlzLnVuaXFXaXRoUG9pbnQoZGF0YS5zbGljZSgwKSwgZnVuY3Rpb24gKG5ld0RhdGEpIHtcclxuICAgICAgICByZXQgPSBuZXdEYXRhO1xyXG4gICAgfSk7ICAgIFxyXG5cclxuICAgIHJldCA9IHJldC5maWx0ZXIoZnVuY3Rpb24oaSkge1xyXG4gICAgICAgIHJldHVybiBpLnkgPCAobmV3U2NyLnkpOyBcclxuICAgIH0sIHRoaXMpO1xyXG5cclxuICAgIHZhciBpdGVtID0gcmV0LnBvcCgpO1xyXG5cclxuICAgIGlmKGl0ZW0pIHtcclxuICAgICAgICBuZXdTY3IgPSBpdGVtO1xyXG4gICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIO2ZlOuptCDtgazquLDrpbwg7KCI64yAIOqwkuycvOuhnCDsp4DsoJVcclxuICAgIHdpbmRvdy5yZXNpemVUbyhuZXdTY3IueCArIHhQYWRkaW5nLCBuZXdTY3IueSArIHlQYWRkaW5nKTtcclxuICAgIHdpbmRvdy5tb3ZlVG8oY3gsIGN5KTtcclxuXHJcbiAgICAvLyDtlbTsg4Hrj4Qg7LWc7IaM6rCSICYg7LWc64yA6rCSIOyEpOyglSDrtoDrtoQsIOyekOuPmeycvOuhnCDsobDsoIjtlZjripQg6rKD7JeQIOunnuqyvOuLpOuptC5cclxuICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMuYXV0b1NjYWxpbmcgJiYgKHR3L3RoID49IDEuMCkgJiYgdHcgPj0gNDgpIHtcclxuXHJcbiAgICAvLyDsg4jroZzsmrQg7ZW07IOB64+EIOqwkuydtCDstZzshozqsJIodGlsZVdpZHRoICogYXNwZWN0UmF0aW8pIOqwkuuztOuLpCDsnpHsnLzrqbQg7ZW07IOB64+E66W8IOy1nOyGjOqwkuycvOuhnCDsoJztlZztlZzri6QuXHJcbiAgICBpZihSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLm1pbldpZHRoKSBHcmFwaGljcy53aWR0aCA9IEdyYXBoaWNzLmJveFdpZHRoID0gTWF0aC5tYXgobWluVywgbmV3U2NyLngpO1xyXG4gICAgaWYoUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5taW5IZWlnaHQpIEdyYXBoaWNzLmhlaWdodCA9IEdyYXBoaWNzLmJveEhlaWdodCA9IE1hdGgubWF4KG1pbkgsIG5ld1Njci55KTtcclxuXHJcbiAgICAvLyDstZzshowg7LWc64yAIOygnO2VnOydtCDsl4bsnYQg6rK97JqwLFxyXG4gICAgaWYoIVJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMubWluV2lkdGggJiYgIVJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMubWluSGVpZ2h0KSB7XHJcbiAgICAgICAgR3JhcGhpY3Mud2lkdGggPSBHcmFwaGljcy5ib3hXaWR0aCA9IG5ld1Njci54LmNsYW1wKG1pblcsIHdpbmRvdy5vdXRlcldpZHRoKTtcclxuICAgICAgICBHcmFwaGljcy5oZWlnaHQgPSBHcmFwaGljcy5ib3hIZWlnaHQgPSBuZXdTY3IueC5jbGFtcChtaW5ILCB3aW5kb3cub3V0ZXJIZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAvLyDqt7jrg6Ug7ISk7KCV7ZWc64ukLlxyXG4gICAgR3JhcGhpY3Mud2lkdGggPSBHcmFwaGljcy5ib3hXaWR0aCA9IG5ld1Njci54O1xyXG4gICAgR3JhcGhpY3MuaGVpZ2h0ID0gR3JhcGhpY3MuYm94SGVpZ2h0ID0gbmV3U2NyLnk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzZXQgZ3JhcGhpY3MnIHNpemVcclxuICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMucmVzaXplKSB7XHJcbiAgICAgICAgR3JhcGhpY3MuX3JlbmRlcmVyLnJlc2l6ZShuZXdTY3IueCwgbmV3U2NyLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlc2V0IHRoZSBzY2VuZSAoVW5zYXZlZCBjaGFuZ2VzIHdpbGwgYmUgbG9zdClcclxuICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMucmVjcmVhdGUgJiYgIShTY2VuZU1hbmFnZXIuX3NjZW5lIGluc3RhbmNlb2YgU2NlbmVfQm9vdCkpIHtcclxuICAgIGlmKFNjZW5lTWFuYWdlci5fc2NlbmUpIFNjZW5lTWFuYWdlci5wdXNoKFNjZW5lTWFuYWdlci5fc2NlbmUuY29uc3RydWN0b3IpO1xyXG4gICAgfVxyXG5cclxufTtcclxuXHJcbi8qKlxyXG4gKiBEaXNhcm1zIHRoZSBiZWhhdmlvciBvZiBDb21tdW5pdHlfQmFzaWMgcGx1Z2luLlxyXG4gKi9cclxuaWYoUGx1Z2luTWFuYWdlci5fc2NyaXB0cy5jb250YWlucyhcIkNvbW11bml0eV9CYXNpY1wiKSkge1xyXG4gICAgU2NlbmVNYW5hZ2VyLmluaXROd2pzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKFV0aWxzLmlzTndqcygpKSB7XHJcbiAgICAgICAgICAgIHZhciBndWkgPSByZXF1aXJlKCdudy5ndWknKTtcclxuICAgICAgICAgICAgdmFyIHdpbiA9IGd1aS5XaW5kb3cuZ2V0KCk7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnZGFyd2luJyAmJiAhd2luLm1lbnUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtZW51YmFyID0gbmV3IGd1aS5NZW51KHsgdHlwZTogJ21lbnViYXInIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IHsgaGlkZUVkaXQ6IHRydWUsIGhpZGVXaW5kb3c6IHRydWUgfTtcclxuICAgICAgICAgICAgICAgIG1lbnViYXIuY3JlYXRlTWFjQnVpbHRpbignR2FtZScsIG9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICB3aW4ubWVudSA9IG1lbnViYXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIERpc2FybXMgdGhlIGJlaGF2aW9yIG9mIFlFUF9Db3JlRW5naW5lIGFuZCBTY3JlZW5SZXNvbHV0aW9uIHBsdWdpbnMuXHJcbiAqL1xyXG5pZiggU2NlbmVNYW5hZ2VyLnJ1bi50b1N0cmluZygpLm1hdGNoKC9ZYW5mbHkvaSkgKSB7XHJcbiAgICBTY2VuZU1hbmFnZXIucnVuID0gZnVuY3Rpb24oc2NlbmVDbGFzcykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmdvdG8oc2NlbmVDbGFzcyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jYXRjaEV4Y2VwdGlvbihlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG52YXIgYWxpYXNfR3JhcGhpY3Nfb25XaW5kb3dSZXNpemUgPSBHcmFwaGljcy5fb25XaW5kb3dSZXNpemU7XHJcbkdyYXBoaWNzLl9vbldpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgYWxpYXNfR3JhcGhpY3Nfb25XaW5kb3dSZXNpemUuY2FsbCh0aGlzKTtcclxuICAgIGlmKFV0aWxzLmlzTndqcygpKSB7XHJcbiAgICAvLyAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKTtcclxuICAgIC8vICAgdmFyIGR4ID0gcGFyc2VJbnQoY2FudmFzLnN0eWxlLndpZHRoKTtcclxuICAgIC8vICAgdmFyIGR5ID0gcGFyc2VJbnQoY2FudmFzLnN0eWxlLmhlaWdodCk7XHJcbiAgICAvLyAgIHZhciB4UGFkZGluZyA9IHdpbmRvdy5vdXRlcldpZHRoIC0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAvLyAgIHZhciB5UGFkZGluZyA9IHdpbmRvdy5vdXRlckhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIC8vICAgdmFyIGN4ID0gKHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aCAvIDIpIC0gKEdyYXBoaWNzLmJveFdpZHRoIC8gMik7XHJcbiAgICAvLyAgIHZhciBjeSA9ICh3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0IC8gMikgLSAoR3JhcGhpY3MuYm94SGVpZ2h0IC8gMik7XHJcbiAgICAvLyAgIGlmKGR4ICE9PSBHcmFwaGljcy5ib3hXaWR0aCkge1xyXG4gICAgLy8gICAgIHZhciBteCA9IChHcmFwaGljcy5ib3hXaWR0aCAtIGR4KTtcclxuICAgIC8vICAgICB2YXIgbXkgPSAoR3JhcGhpY3MuYm94SGVpZ2h0IC0gZHkpO1xyXG4gICAgLy8gICAgIHdpbmRvdy5yZXNpemVUbyhcclxuICAgIC8vICAgICAgIHBhcnNlSW50KEdyYXBoaWNzLmJveFdpZHRoIC0gbXggKyB4UGFkZGluZyksXHJcbiAgICAvLyAgICAgICBwYXJzZUludChHcmFwaGljcy5ib3hIZWlnaHQgLSBteSArIHlQYWRkaW5nKVxyXG4gICAgLy8gICAgICk7XHJcbiAgICAvLyAgIH1cclxuICAgIGlmKCFudykgdmFyIG53ID0gcmVxdWlyZShcIm53Lmd1aVwiKTtcclxuICAgIHZhciB3aW4gPSBudy5XaW5kb3cuZ2V0KCk7XHJcbiAgICB3aW4uc2V0UG9zaXRpb24oXCJjZW50ZXJcIik7XHJcbiAgICB9XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n")},function(module,exports){eval("//============================================================================\r\n// Scene_Boot\r\n//============================================================================\r\n\r\nvar alias_Scene_Boot_create = Scene_Boot.prototype.create;\r\nScene_Boot.prototype.create = function () {\r\n    alias_Scene_Boot_create.call(this);\r\n    SceneManager.initResolution();\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvU2NlbmVfQm9vdC5qcz80MGI3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNjZW5lX0Jvb3RcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG52YXIgYWxpYXNfU2NlbmVfQm9vdF9jcmVhdGUgPSBTY2VuZV9Cb290LnByb3RvdHlwZS5jcmVhdGU7XHJcblNjZW5lX0Jvb3QucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFsaWFzX1NjZW5lX0Jvb3RfY3JlYXRlLmNhbGwodGhpcyk7XHJcbiAgICBTY2VuZU1hbmFnZXIuaW5pdFJlc29sdXRpb24oKTtcclxufTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n")},function(module,exports){eval("//============================================================================\r\n// SceneManager\r\n//============================================================================\r\n\r\nSceneManager.initResolution = function() {\r\n    var self = this;\r\n    var type, size, orientation, config, mobile;\r\n    var sw, sh, bw, bh;\r\n    var maxSW, maxSH;\r\n    var defScrWidth, defScrHeight;\r\n\r\n    RS.ScreenManager.readManifestFile();\r\n\r\n    maxSW = window.innerWidth;\r\n    maxSH = window.innerHeight;\r\n\r\n    // Sets the default screen width and height values.\r\n    defScrWidth = RS.ScreenManager.Params.settings.defaultScreenSize.x;\r\n    defScrHeight = RS.ScreenManager.Params.settings.defaultScreenSize.y;\r\n\r\n    // Obtains the ratio depended on screen orientation.\r\n    orientation = Graphics.getOrientation(true);\r\n    config = new ScreenConfig(maxSW, maxSH, orientation);\r\n\r\n    // Changes the resolution depended on the aspect ratio in the mobile device.\r\n    size = config.getSize(defScrWidth);\r\n\r\n    mobile = !Utils.isNwjs() || RS.ScreenManager.Params.options.aspectRatio;\r\n    sw = (mobile === true) ? size[0] : defScrWidth;\r\n    sh = (mobile === true) ? size[1] : defScrHeight;\r\n    bw = (mobile === true) ? size[0] : defScrWidth;\r\n    bh = (mobile === true) ? size[1] : defScrHeight;\r\n\r\n    // Calls the function changes the resolution in case of the PC.\r\n    if(Utils.isNwjs()) {\r\n    var newSize = new Point(sw, sh);\r\n    Graphics.setScreenResize(newSize);\r\n    } else {\r\n    Graphics.width = sw;\r\n    Graphics.height = sh;\r\n    Graphics.boxWidth = sw;\r\n    Graphics.boxHeight = sh;\r\n    }\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvU2NlbmVNYW5hZ2VyLmpzPzE2ODUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBTY2VuZU1hbmFnZXJcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5TY2VuZU1hbmFnZXIuaW5pdFJlc29sdXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciB0eXBlLCBzaXplLCBvcmllbnRhdGlvbiwgY29uZmlnLCBtb2JpbGU7XHJcbiAgICB2YXIgc3csIHNoLCBidywgYmg7XHJcbiAgICB2YXIgbWF4U1csIG1heFNIO1xyXG4gICAgdmFyIGRlZlNjcldpZHRoLCBkZWZTY3JIZWlnaHQ7XHJcblxyXG4gICAgUlMuU2NyZWVuTWFuYWdlci5yZWFkTWFuaWZlc3RGaWxlKCk7XHJcblxyXG4gICAgbWF4U1cgPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIG1heFNIID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG5cclxuICAgIC8vIFNldHMgdGhlIGRlZmF1bHQgc2NyZWVuIHdpZHRoIGFuZCBoZWlnaHQgdmFsdWVzLlxyXG4gICAgZGVmU2NyV2lkdGggPSBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5kZWZhdWx0U2NyZWVuU2l6ZS54O1xyXG4gICAgZGVmU2NySGVpZ2h0ID0gUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuZGVmYXVsdFNjcmVlblNpemUueTtcclxuXHJcbiAgICAvLyBPYnRhaW5zIHRoZSByYXRpbyBkZXBlbmRlZCBvbiBzY3JlZW4gb3JpZW50YXRpb24uXHJcbiAgICBvcmllbnRhdGlvbiA9IEdyYXBoaWNzLmdldE9yaWVudGF0aW9uKHRydWUpO1xyXG4gICAgY29uZmlnID0gbmV3IFNjcmVlbkNvbmZpZyhtYXhTVywgbWF4U0gsIG9yaWVudGF0aW9uKTtcclxuXHJcbiAgICAvLyBDaGFuZ2VzIHRoZSByZXNvbHV0aW9uIGRlcGVuZGVkIG9uIHRoZSBhc3BlY3QgcmF0aW8gaW4gdGhlIG1vYmlsZSBkZXZpY2UuXHJcbiAgICBzaXplID0gY29uZmlnLmdldFNpemUoZGVmU2NyV2lkdGgpO1xyXG5cclxuICAgIG1vYmlsZSA9ICFVdGlscy5pc053anMoKSB8fCBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLmFzcGVjdFJhdGlvO1xyXG4gICAgc3cgPSAobW9iaWxlID09PSB0cnVlKSA/IHNpemVbMF0gOiBkZWZTY3JXaWR0aDtcclxuICAgIHNoID0gKG1vYmlsZSA9PT0gdHJ1ZSkgPyBzaXplWzFdIDogZGVmU2NySGVpZ2h0O1xyXG4gICAgYncgPSAobW9iaWxlID09PSB0cnVlKSA/IHNpemVbMF0gOiBkZWZTY3JXaWR0aDtcclxuICAgIGJoID0gKG1vYmlsZSA9PT0gdHJ1ZSkgPyBzaXplWzFdIDogZGVmU2NySGVpZ2h0O1xyXG5cclxuICAgIC8vIENhbGxzIHRoZSBmdW5jdGlvbiBjaGFuZ2VzIHRoZSByZXNvbHV0aW9uIGluIGNhc2Ugb2YgdGhlIFBDLlxyXG4gICAgaWYoVXRpbHMuaXNOd2pzKCkpIHtcclxuICAgIHZhciBuZXdTaXplID0gbmV3IFBvaW50KHN3LCBzaCk7XHJcbiAgICBHcmFwaGljcy5zZXRTY3JlZW5SZXNpemUobmV3U2l6ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgR3JhcGhpY3Mud2lkdGggPSBzdztcclxuICAgIEdyYXBoaWNzLmhlaWdodCA9IHNoO1xyXG4gICAgR3JhcGhpY3MuYm94V2lkdGggPSBzdztcclxuICAgIEdyYXBoaWNzLmJveEhlaWdodCA9IHNoO1xyXG4gICAgfVxyXG59OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n")},function(module,exports){eval("//============================================================================\r\n//#region ScreenManager\r\n//============================================================================\r\n\r\nfunction ScreenManager() {\r\n    this.initialize.apply(this, arguments);\r\n}\r\n\r\nScreenManager.prototype = Object.create(Scene_Base.prototype);\r\nScreenManager.prototype.constructor = ScreenManager;\r\n\r\nScreenManager.prototype.initialize = function () {\r\n    Scene_Base.prototype.initialize.call(this);\r\n};\r\n\r\nScreenManager.prototype.create = function () {\r\n    Scene_Base.prototype.create.call(this);\r\n\r\n    this.createWindowLayer();\r\n    this.createAvailGraphicsList();\r\n    this.createPanel();\r\n\r\n};\r\n\r\nScreenManager.prototype.makeSpriteForPanel = function (height) {\r\n    var color1 = Window_Base.prototype.dimColor1();\r\n    var color2 = Window_Base.prototype.dimColor2();\r\n    var x = 0;\r\n    var y = 0;\r\n    var width = Math.floor(Graphics.boxWidth / 3);\r\n    var sprite = new Sprite(new Bitmap(width, height * 2));\r\n\r\n    if(navigator.userAgent.match(/Chrome/)) {\r\n    sprite.bitmap.fillAll(color1);\r\n    } else {\r\n    sprite.bitmap.gradientFillRect(x, y, Math.floor(width / 2), height, color2, color1);\r\n    sprite.bitmap.gradientFillRect(Math.floor(x + width / 2), y, Math.floor(width / 2), height, color1, color2);\r\n    }\r\n    sprite.bitmap.drawText(RS.ScreenManager.localization.get(\"Display Resolutions\"), x, y, width, height, 'center');\r\n\r\n    return sprite;\r\n\r\n};\r\n\r\nScreenManager.prototype.createPanel = function () {\r\n    var height = Math.floor(Graphics.boxHeight / 17);\r\n    var nx = this._availGraphicsList.x;\r\n    var ny = this._availGraphicsList.y - height - 10;\r\n\r\n    this._panel = this.makeSpriteForPanel(height);\r\n    this.setPosition(this._panel, nx, ny).addChild(this._panel);\r\n\r\n};\r\n\r\nScreenManager.prototype.setPosition = function (type, x, y) {\r\n    if(!type) return;\r\n\r\n    type.x = x;\r\n    type.y = y;\r\n\r\n    return this;\r\n\r\n};\r\n\r\nScreenManager.prototype.setHandler = function () {\r\n    if(!this._availGraphicsList) return;\r\n\r\n    this._availGraphicsList.setHandler('ok', this.convertScreenSize.bind(this));\r\n    this._availGraphicsList.setHandler('cancel', this.popScene.bind(this));\r\n\r\n    return this;\r\n\r\n};\r\n\r\nScreenManager.prototype.createDisplayList = function (x, y, width, height) {\r\n    var ClassType = Utils.isNwjs() ? Window_ResolutionList : Window_ResolutionListForMobile;\r\n\r\n    return new ClassType(x, y, width, height);\r\n\r\n};\r\n\r\nScreenManager.prototype.createAvailGraphicsList = function () {\r\n    var width = Math.floor(Graphics.boxWidth / 3);\r\n    var height = Math.floor(Graphics.boxWidth / 2.5);\r\n    var nx = Graphics.boxWidth / 2 - (width / 2);\r\n    var ny = Graphics.boxHeight / 2 - (height / 2);\r\n\r\n    this._availGraphicsList = this.createDisplayList(0, 0, width, height);\r\n    this.setPosition(this._availGraphicsList, nx, ny )\r\n    .setHandler()\r\n    .addWindow(this._availGraphicsList);\r\n\r\n};\r\n\r\nScreenManager.prototype.convertWithAspectRatio = function () {\r\n    var config = new CustomScreenConfig(RS.ScreenManager.Params.settings.customAspectRatio[0], RS.ScreenManager.Params.settings.customAspectRatio[1]);\r\n    var insData = parseInt(window.screen.availWidth / RS.ScreenManager.Params.settings.customAspectRatio[0]) * RS.ScreenManager.Params.settings.customAspectRatio[0];\r\n    var data = config.getSize(insData);\r\n\r\n    Graphics.setScreenResize(new Point(data[0], data[1]));\r\n\r\n};\r\n\r\nScreenManager.prototype.convertWithNwjs = function () {\r\n    var scr = this._availGraphicsList.getCurrentItemToPoint();\r\n\r\n    if(scr) {\r\n    Graphics.setScreenResize(scr);\r\n    } else {\r\n    this.convertWithAspectRatio();\r\n    }\r\n\r\n    if(this._availGraphicsList.item() === RS.ScreenManager.localization.get(\"Full Screen\") ||\r\n    this._availGraphicsList.item() === RS.ScreenManager.localization.get(\"Windowed Mode\")) {\r\n    RS.ScreenManager.switchFullScreen();\r\n    }\r\n\r\n};\r\n\r\nScreenManager.prototype.convertWithOther = function () {\r\n    var scr = this._availGraphicsList.getCurrentItemToPoint();\r\n\r\n    if(scr) {\r\n    var temp = [];\r\n    temp.push(RS.ScreenManager.Params.options.aspectRatio);\r\n    temp.push(RS.ScreenManager.Params.options.resize);\r\n    RS.ScreenManager.Params.options.resize = true;\r\n    RS.ScreenManager.Params.options.aspectRatio = true;\r\n    Graphics.setScreenResize(scr);\r\n    RS.ScreenManager.Params.options.resize = temp.pop();\r\n    RS.ScreenManager.Params.options.aspectRatio = temp.pop();\r\n\r\n    } else {\r\n\r\n    this.convertWithAspectRatio();\r\n\r\n    }\r\n};\r\n\r\nScreenManager.prototype.flushScreen = function () {\r\n    $gameSystem._lastScreenManagerItem = this._availGraphicsList.index();\r\n\r\n    this.popScene();\r\n\r\n};\r\n\r\nScreenManager.prototype.convertScreenSize = function () {\r\n    // PC인가?\r\n    if(Utils.isNwjs()) {\r\n\r\n    this.convertWithNwjs();\r\n\r\n    // 다른 플랫폼인가?\r\n    } else {\r\n\r\n    this.convertWithOther();\r\n\r\n    }\r\n\r\n    // 빠져나간다.\r\n    this.flushScreen();\r\n\r\n};\r\n\r\nwindow.ScreenManager = ScreenManager;\r\n\r\n//#endregion//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvU2NyZWVuTWFuYWdlci5qcz9jYTVmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSIsImZpbGUiOiIxNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyNyZWdpb24gU2NyZWVuTWFuYWdlclxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmZ1bmN0aW9uIFNjcmVlbk1hbmFnZXIoKSB7XHJcbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNjZW5lX0Jhc2UucHJvdG90eXBlKTtcclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTY3JlZW5NYW5hZ2VyO1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFNjZW5lX0Jhc2UucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzKTtcclxufTtcclxuXHJcblNjcmVlbk1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFNjZW5lX0Jhc2UucHJvdG90eXBlLmNyZWF0ZS5jYWxsKHRoaXMpO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlV2luZG93TGF5ZXIoKTtcclxuICAgIHRoaXMuY3JlYXRlQXZhaWxHcmFwaGljc0xpc3QoKTtcclxuICAgIHRoaXMuY3JlYXRlUGFuZWwoKTtcclxuXHJcbn07XHJcblxyXG5TY3JlZW5NYW5hZ2VyLnByb3RvdHlwZS5tYWtlU3ByaXRlRm9yUGFuZWwgPSBmdW5jdGlvbiAoaGVpZ2h0KSB7XHJcbiAgICB2YXIgY29sb3IxID0gV2luZG93X0Jhc2UucHJvdG90eXBlLmRpbUNvbG9yMSgpO1xyXG4gICAgdmFyIGNvbG9yMiA9IFdpbmRvd19CYXNlLnByb3RvdHlwZS5kaW1Db2xvcjIoKTtcclxuICAgIHZhciB4ID0gMDtcclxuICAgIHZhciB5ID0gMDtcclxuICAgIHZhciB3aWR0aCA9IE1hdGguZmxvb3IoR3JhcGhpY3MuYm94V2lkdGggLyAzKTtcclxuICAgIHZhciBzcHJpdGUgPSBuZXcgU3ByaXRlKG5ldyBCaXRtYXAod2lkdGgsIGhlaWdodCAqIDIpKTtcclxuXHJcbiAgICBpZihuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWUvKSkge1xyXG4gICAgc3ByaXRlLmJpdG1hcC5maWxsQWxsKGNvbG9yMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgc3ByaXRlLmJpdG1hcC5ncmFkaWVudEZpbGxSZWN0KHgsIHksIE1hdGguZmxvb3Iod2lkdGggLyAyKSwgaGVpZ2h0LCBjb2xvcjIsIGNvbG9yMSk7XHJcbiAgICBzcHJpdGUuYml0bWFwLmdyYWRpZW50RmlsbFJlY3QoTWF0aC5mbG9vcih4ICsgd2lkdGggLyAyKSwgeSwgTWF0aC5mbG9vcih3aWR0aCAvIDIpLCBoZWlnaHQsIGNvbG9yMSwgY29sb3IyKTtcclxuICAgIH1cclxuICAgIHNwcml0ZS5iaXRtYXAuZHJhd1RleHQoUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24uZ2V0KFwiRGlzcGxheSBSZXNvbHV0aW9uc1wiKSwgeCwgeSwgd2lkdGgsIGhlaWdodCwgJ2NlbnRlcicpO1xyXG5cclxuICAgIHJldHVybiBzcHJpdGU7XHJcblxyXG59O1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuY3JlYXRlUGFuZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcihHcmFwaGljcy5ib3hIZWlnaHQgLyAxNyk7XHJcbiAgICB2YXIgbnggPSB0aGlzLl9hdmFpbEdyYXBoaWNzTGlzdC54O1xyXG4gICAgdmFyIG55ID0gdGhpcy5fYXZhaWxHcmFwaGljc0xpc3QueSAtIGhlaWdodCAtIDEwO1xyXG5cclxuICAgIHRoaXMuX3BhbmVsID0gdGhpcy5tYWtlU3ByaXRlRm9yUGFuZWwoaGVpZ2h0KTtcclxuICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5fcGFuZWwsIG54LCBueSkuYWRkQ2hpbGQodGhpcy5fcGFuZWwpO1xyXG5cclxufTtcclxuXHJcblNjcmVlbk1hbmFnZXIucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24gKHR5cGUsIHgsIHkpIHtcclxuICAgIGlmKCF0eXBlKSByZXR1cm47XHJcblxyXG4gICAgdHlwZS54ID0geDtcclxuICAgIHR5cGUueSA9IHk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcblxyXG59O1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuc2V0SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmKCF0aGlzLl9hdmFpbEdyYXBoaWNzTGlzdCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX2F2YWlsR3JhcGhpY3NMaXN0LnNldEhhbmRsZXIoJ29rJywgdGhpcy5jb252ZXJ0U2NyZWVuU2l6ZS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuX2F2YWlsR3JhcGhpY3NMaXN0LnNldEhhbmRsZXIoJ2NhbmNlbCcsIHRoaXMucG9wU2NlbmUuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcblxyXG59O1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuY3JlYXRlRGlzcGxheUxpc3QgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgdmFyIENsYXNzVHlwZSA9IFV0aWxzLmlzTndqcygpID8gV2luZG93X1Jlc29sdXRpb25MaXN0IDogV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlO1xyXG5cclxuICAgIHJldHVybiBuZXcgQ2xhc3NUeXBlKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxufTtcclxuXHJcblNjcmVlbk1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZUF2YWlsR3JhcGhpY3NMaXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHdpZHRoID0gTWF0aC5mbG9vcihHcmFwaGljcy5ib3hXaWR0aCAvIDMpO1xyXG4gICAgdmFyIGhlaWdodCA9IE1hdGguZmxvb3IoR3JhcGhpY3MuYm94V2lkdGggLyAyLjUpO1xyXG4gICAgdmFyIG54ID0gR3JhcGhpY3MuYm94V2lkdGggLyAyIC0gKHdpZHRoIC8gMik7XHJcbiAgICB2YXIgbnkgPSBHcmFwaGljcy5ib3hIZWlnaHQgLyAyIC0gKGhlaWdodCAvIDIpO1xyXG5cclxuICAgIHRoaXMuX2F2YWlsR3JhcGhpY3NMaXN0ID0gdGhpcy5jcmVhdGVEaXNwbGF5TGlzdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5fYXZhaWxHcmFwaGljc0xpc3QsIG54LCBueSApXHJcbiAgICAuc2V0SGFuZGxlcigpXHJcbiAgICAuYWRkV2luZG93KHRoaXMuX2F2YWlsR3JhcGhpY3NMaXN0KTtcclxuXHJcbn07XHJcblxyXG5TY3JlZW5NYW5hZ2VyLnByb3RvdHlwZS5jb252ZXJ0V2l0aEFzcGVjdFJhdGlvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvbmZpZyA9IG5ldyBDdXN0b21TY3JlZW5Db25maWcoUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW9bMF0sIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLmN1c3RvbUFzcGVjdFJhdGlvWzFdKTtcclxuICAgIHZhciBpbnNEYXRhID0gcGFyc2VJbnQod2luZG93LnNjcmVlbi5hdmFpbFdpZHRoIC8gUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW9bMF0pICogUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW9bMF07XHJcbiAgICB2YXIgZGF0YSA9IGNvbmZpZy5nZXRTaXplKGluc0RhdGEpO1xyXG5cclxuICAgIEdyYXBoaWNzLnNldFNjcmVlblJlc2l6ZShuZXcgUG9pbnQoZGF0YVswXSwgZGF0YVsxXSkpO1xyXG5cclxufTtcclxuXHJcblNjcmVlbk1hbmFnZXIucHJvdG90eXBlLmNvbnZlcnRXaXRoTndqcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzY3IgPSB0aGlzLl9hdmFpbEdyYXBoaWNzTGlzdC5nZXRDdXJyZW50SXRlbVRvUG9pbnQoKTtcclxuXHJcbiAgICBpZihzY3IpIHtcclxuICAgIEdyYXBoaWNzLnNldFNjcmVlblJlc2l6ZShzY3IpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgIHRoaXMuY29udmVydFdpdGhBc3BlY3RSYXRpbygpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMuX2F2YWlsR3JhcGhpY3NMaXN0Lml0ZW0oKSA9PT0gUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24uZ2V0KFwiRnVsbCBTY3JlZW5cIikgfHxcclxuICAgIHRoaXMuX2F2YWlsR3JhcGhpY3NMaXN0Lml0ZW0oKSA9PT0gUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24uZ2V0KFwiV2luZG93ZWQgTW9kZVwiKSkge1xyXG4gICAgUlMuU2NyZWVuTWFuYWdlci5zd2l0Y2hGdWxsU2NyZWVuKCk7XHJcbiAgICB9XHJcblxyXG59O1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuY29udmVydFdpdGhPdGhlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzY3IgPSB0aGlzLl9hdmFpbEdyYXBoaWNzTGlzdC5nZXRDdXJyZW50SXRlbVRvUG9pbnQoKTtcclxuXHJcbiAgICBpZihzY3IpIHtcclxuICAgIHZhciB0ZW1wID0gW107XHJcbiAgICB0ZW1wLnB1c2goUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hc3BlY3RSYXRpbyk7XHJcbiAgICB0ZW1wLnB1c2goUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5yZXNpemUpO1xyXG4gICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5yZXNpemUgPSB0cnVlO1xyXG4gICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hc3BlY3RSYXRpbyA9IHRydWU7XHJcbiAgICBHcmFwaGljcy5zZXRTY3JlZW5SZXNpemUoc2NyKTtcclxuICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMucmVzaXplID0gdGVtcC5wb3AoKTtcclxuICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMuYXNwZWN0UmF0aW8gPSB0ZW1wLnBvcCgpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgdGhpcy5jb252ZXJ0V2l0aEFzcGVjdFJhdGlvKCk7XHJcblxyXG4gICAgfVxyXG59O1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuZmx1c2hTY3JlZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkZ2FtZVN5c3RlbS5fbGFzdFNjcmVlbk1hbmFnZXJJdGVtID0gdGhpcy5fYXZhaWxHcmFwaGljc0xpc3QuaW5kZXgoKTtcclxuXHJcbiAgICB0aGlzLnBvcFNjZW5lKCk7XHJcblxyXG59O1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuY29udmVydFNjcmVlblNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBQQ+yduOqwgD9cclxuICAgIGlmKFV0aWxzLmlzTndqcygpKSB7XHJcblxyXG4gICAgdGhpcy5jb252ZXJ0V2l0aE53anMoKTtcclxuXHJcbiAgICAvLyDri6Trpbgg7ZSM656r7Y+87J246rCAP1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICB0aGlzLmNvbnZlcnRXaXRoT3RoZXIoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g67mg7KC464KY6rCE64ukLlxyXG4gICAgdGhpcy5mbHVzaFNjcmVlbigpO1xyXG5cclxufTtcclxuXHJcbndpbmRvdy5TY3JlZW5NYW5hZ2VyID0gU2NyZWVuTWFuYWdlcjtcclxuXHJcbi8vI2VuZHJlZ2lvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n")},function(module,exports){eval("//============================================================================\r\n// Game_System\r\n//============================================================================\r\n\r\nvar alias_Game_System_initialize = Game_System.prototype.initialize;\r\nGame_System.prototype.initialize = function() {\r\n    alias_Game_System_initialize.call(this);\r\n    this._lastScreenManagerItem = 0;\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvR2FtZV9TeXN0ZW0uanM/YWU5ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBHYW1lX1N5c3RlbVxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnZhciBhbGlhc19HYW1lX1N5c3RlbV9pbml0aWFsaXplID0gR2FtZV9TeXN0ZW0ucHJvdG90eXBlLmluaXRpYWxpemU7XHJcbkdhbWVfU3lzdGVtLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICBhbGlhc19HYW1lX1N5c3RlbV9pbml0aWFsaXplLmNhbGwodGhpcyk7XHJcbiAgICB0aGlzLl9sYXN0U2NyZWVuTWFuYWdlckl0ZW0gPSAwO1xyXG59OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15\n")},function(module,exports){eval("//#region Option Window\r\n//============================================================================\r\n// Window_Options\r\n//============================================================================\r\n\r\nif(RS.ScreenManager.Params.isValidOptionWindow) {\r\n\r\n    var alias_Window_Options_initialize = Window_Options.prototype.initialize;\r\n    Window_Options.prototype.initialize = function() {\r\n    alias_Window_Options_initialize.call(this);\r\n    this._lastIndex = $gameSystem._lastScreenManagerItem || 0;\r\n    };\r\n\r\n    Window_Options.prototype.isResolution = function (symbol) {\r\n    return symbol.contains('Resolutions');\r\n    };\r\n\r\n    Window_Options.prototype.isAspectRatio = function (symbol) {\r\n    return symbol.contains('Aspect Ratio');\r\n    };\r\n\r\n    Window_Options.prototype.processOk = function() {\r\n    var index = this.index();\r\n    var symbol = this.commandSymbol(index);\r\n    var value = this.getConfigValue(symbol);\r\n    if (this.isVolumeSymbol(symbol)) {\r\n        value += this.volumeOffset();\r\n        if (value > 100) {\r\n            value = 0;\r\n        }\r\n        value = value.clamp(0, 100);\r\n        this.changeValue(symbol, value);\r\n    } else {\r\n        if(this.isResolution( symbol ) ) {\r\n            SceneManager.push( ScreenManager );\r\n        } else {\r\n            this.changeValue(symbol, !value);\r\n        }\r\n    }\r\n    };\r\n\r\n    var alias_Window_Options_cursorRight = Window_Options.prototype.cursorRight;\r\n    Window_Options.prototype.cursorRight = function(wrap) {\r\n    var index = this.index();\r\n    var symbol = this.commandSymbol(index);\r\n    if(!this.isResolution(symbol) || !this.isAspectRatio(symbol)) {\r\n        return alias_Window_Options_cursorRight.call(this, wrap);\r\n    }\r\n    };\r\n\r\n    var alias_Window_Options_cursorLeft = Window_Options.prototype.cursorLeft;  \r\n    Window_Options.prototype.cursorLeft = function(wrap) {\r\n    var index = this.index();\r\n    var symbol = this.commandSymbol(index);\r\n    if(!this.isResolution(symbol) || !this.isAspectRatio(symbol)) {\r\n        return alias_Window_Options_cursorLeft.call(this, wrap);\r\n    }      \r\n    };  \r\n\r\n    Window_Options.prototype.statusText = function(idx) {\r\n    var symbol = this.commandSymbol(idx);\r\n    var value = this.getConfigValue(symbol);\r\n    if (this.isVolumeSymbol(symbol)) {\r\n        return this.volumeStatusText(value);\r\n    } else {\r\n        // 해상도 조절\r\n        if(this.isResolution( symbol ) ) {\r\n        idx = this._lastIndex;\r\n        var item;\r\n\r\n        // PC라면 해상도 표시\r\n        if(Utils.isNwjs()) {\r\n            item = Graphics.getAvailGraphicsArray('String');\r\n            if(!RS.ScreenManager.isFullscreen()) {\r\n                item.push(RS.ScreenManager.localization.get(\"Full Screen\"));\r\n            } else {\r\n                item.push(RS.ScreenManager.localization.get(\"Windowed Mode\"));            \r\n            }\r\n        } else {\r\n            // 그외 플랫폼은 낮음, 보통, 높음, 매우 높음으로 표시\r\n            item = RS.ScreenManager.localization.get(\"MobileResolutions\");\r\n        }\r\n\r\n        return String(Graphics.boxWidth + \" x \" + Graphics.boxHeight);\r\n\r\n        // 종횡비 표시\r\n        } else {\r\n        if( this.isAspectRatio( symbol ) ) {\r\n            return new ScreenConfig(0, 0, '').getRatioAsString(Graphics.boxWidth, Graphics.boxHeight);\r\n        } else {\r\n            return this.booleanStatusText(value);\r\n        }\r\n        }\r\n    }\r\n    };\r\n\r\n    var alias_Window_Options_addVolumeOptions = Window_Options.prototype.addVolumeOptions;\r\n    Window_Options.prototype.addVolumeOptions = function() {\r\n        alias_Window_Options_addVolumeOptions.call(this);\r\n        this.addCommand(RS.ScreenManager.localization.get('Resolutions'), 'Resolutions');\r\n        this.addCommand(RS.ScreenManager.localization.get('Aspect Ratio'), 'Aspect Ratio');\r\n    };\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvV2luZG93X09wdGlvbnMuanM/NzliMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSztBQUNBLE07O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLDhFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBPcHRpb24gV2luZG93XHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBXaW5kb3dfT3B0aW9uc1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmlzVmFsaWRPcHRpb25XaW5kb3cpIHtcclxuXHJcbiAgICB2YXIgYWxpYXNfV2luZG93X09wdGlvbnNfaW5pdGlhbGl6ZSA9IFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5pbml0aWFsaXplO1xyXG4gICAgV2luZG93X09wdGlvbnMucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcclxuICAgIGFsaWFzX1dpbmRvd19PcHRpb25zX2luaXRpYWxpemUuY2FsbCh0aGlzKTtcclxuICAgIHRoaXMuX2xhc3RJbmRleCA9ICRnYW1lU3lzdGVtLl9sYXN0U2NyZWVuTWFuYWdlckl0ZW0gfHwgMDtcclxuICAgIH07XHJcblxyXG4gICAgV2luZG93X09wdGlvbnMucHJvdG90eXBlLmlzUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChzeW1ib2wpIHtcclxuICAgIHJldHVybiBzeW1ib2wuY29udGFpbnMoJ1Jlc29sdXRpb25zJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5pc0FzcGVjdFJhdGlvID0gZnVuY3Rpb24gKHN5bWJvbCkge1xyXG4gICAgcmV0dXJuIHN5bWJvbC5jb250YWlucygnQXNwZWN0IFJhdGlvJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5wcm9jZXNzT2sgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgoKTtcclxuICAgIHZhciBzeW1ib2wgPSB0aGlzLmNvbW1hbmRTeW1ib2woaW5kZXgpO1xyXG4gICAgdmFyIHZhbHVlID0gdGhpcy5nZXRDb25maWdWYWx1ZShzeW1ib2wpO1xyXG4gICAgaWYgKHRoaXMuaXNWb2x1bWVTeW1ib2woc3ltYm9sKSkge1xyXG4gICAgICAgIHZhbHVlICs9IHRoaXMudm9sdW1lT2Zmc2V0KCk7XHJcbiAgICAgICAgaWYgKHZhbHVlID4gMTAwKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5jbGFtcCgwLCAxMDApO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlVmFsdWUoc3ltYm9sLCB2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmKHRoaXMuaXNSZXNvbHV0aW9uKCBzeW1ib2wgKSApIHtcclxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLnB1c2goIFNjcmVlbk1hbmFnZXIgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVZhbHVlKHN5bWJvbCwgIXZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBhbGlhc19XaW5kb3dfT3B0aW9uc19jdXJzb3JSaWdodCA9IFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5jdXJzb3JSaWdodDtcclxuICAgIFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5jdXJzb3JSaWdodCA9IGZ1bmN0aW9uKHdyYXApIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgoKTtcclxuICAgIHZhciBzeW1ib2wgPSB0aGlzLmNvbW1hbmRTeW1ib2woaW5kZXgpO1xyXG4gICAgaWYoIXRoaXMuaXNSZXNvbHV0aW9uKHN5bWJvbCkgfHwgIXRoaXMuaXNBc3BlY3RSYXRpbyhzeW1ib2wpKSB7XHJcbiAgICAgICAgcmV0dXJuIGFsaWFzX1dpbmRvd19PcHRpb25zX2N1cnNvclJpZ2h0LmNhbGwodGhpcywgd3JhcCk7XHJcbiAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBhbGlhc19XaW5kb3dfT3B0aW9uc19jdXJzb3JMZWZ0ID0gV2luZG93X09wdGlvbnMucHJvdG90eXBlLmN1cnNvckxlZnQ7ICBcclxuICAgIFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5jdXJzb3JMZWZ0ID0gZnVuY3Rpb24od3JhcCkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCgpO1xyXG4gICAgdmFyIHN5bWJvbCA9IHRoaXMuY29tbWFuZFN5bWJvbChpbmRleCk7XHJcbiAgICBpZighdGhpcy5pc1Jlc29sdXRpb24oc3ltYm9sKSB8fCAhdGhpcy5pc0FzcGVjdFJhdGlvKHN5bWJvbCkpIHtcclxuICAgICAgICByZXR1cm4gYWxpYXNfV2luZG93X09wdGlvbnNfY3Vyc29yTGVmdC5jYWxsKHRoaXMsIHdyYXApO1xyXG4gICAgfSAgICAgIFxyXG4gICAgfTsgIFxyXG5cclxuICAgIFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5zdGF0dXNUZXh0ID0gZnVuY3Rpb24oaWR4KSB7XHJcbiAgICB2YXIgc3ltYm9sID0gdGhpcy5jb21tYW5kU3ltYm9sKGlkeCk7XHJcbiAgICB2YXIgdmFsdWUgPSB0aGlzLmdldENvbmZpZ1ZhbHVlKHN5bWJvbCk7XHJcbiAgICBpZiAodGhpcy5pc1ZvbHVtZVN5bWJvbChzeW1ib2wpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudm9sdW1lU3RhdHVzVGV4dCh2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIO2VtOyDgeuPhCDsobDsoIhcclxuICAgICAgICBpZih0aGlzLmlzUmVzb2x1dGlvbiggc3ltYm9sICkgKSB7XHJcbiAgICAgICAgaWR4ID0gdGhpcy5fbGFzdEluZGV4O1xyXG4gICAgICAgIHZhciBpdGVtO1xyXG5cclxuICAgICAgICAvLyBQQ+udvOuptCDtlbTsg4Hrj4Qg7ZGc7IucXHJcbiAgICAgICAgaWYoVXRpbHMuaXNOd2pzKCkpIHtcclxuICAgICAgICAgICAgaXRlbSA9IEdyYXBoaWNzLmdldEF2YWlsR3JhcGhpY3NBcnJheSgnU3RyaW5nJyk7XHJcbiAgICAgICAgICAgIGlmKCFSUy5TY3JlZW5NYW5hZ2VyLmlzRnVsbHNjcmVlbigpKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnB1c2goUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24uZ2V0KFwiRnVsbCBTY3JlZW5cIikpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5wdXNoKFJTLlNjcmVlbk1hbmFnZXIubG9jYWxpemF0aW9uLmdldChcIldpbmRvd2VkIE1vZGVcIikpOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8g6re47Jm4IO2UjOueq+2PvOydgCDrgq7snYwsIOuztO2GtSwg64aS7J2MLCDrp6TsmrAg64aS7J2M7Jy866GcIO2RnOyLnFxyXG4gICAgICAgICAgICBpdGVtID0gUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24uZ2V0KFwiTW9iaWxlUmVzb2x1dGlvbnNcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gU3RyaW5nKEdyYXBoaWNzLmJveFdpZHRoICsgXCIgeCBcIiArIEdyYXBoaWNzLmJveEhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIOyihe2aoeu5hCDtkZzsi5xcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmKCB0aGlzLmlzQXNwZWN0UmF0aW8oIHN5bWJvbCApICkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNjcmVlbkNvbmZpZygwLCAwLCAnJykuZ2V0UmF0aW9Bc1N0cmluZyhHcmFwaGljcy5ib3hXaWR0aCwgR3JhcGhpY3MuYm94SGVpZ2h0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ib29sZWFuU3RhdHVzVGV4dCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGFsaWFzX1dpbmRvd19PcHRpb25zX2FkZFZvbHVtZU9wdGlvbnMgPSBXaW5kb3dfT3B0aW9ucy5wcm90b3R5cGUuYWRkVm9sdW1lT3B0aW9ucztcclxuICAgIFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5hZGRWb2x1bWVPcHRpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgYWxpYXNfV2luZG93X09wdGlvbnNfYWRkVm9sdW1lT3B0aW9ucy5jYWxsKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZChSUy5TY3JlZW5NYW5hZ2VyLmxvY2FsaXphdGlvbi5nZXQoJ1Jlc29sdXRpb25zJyksICdSZXNvbHV0aW9ucycpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZChSUy5TY3JlZW5NYW5hZ2VyLmxvY2FsaXphdGlvbi5nZXQoJ0FzcGVjdCBSYXRpbycpLCAnQXNwZWN0IFJhdGlvJyk7XHJcbiAgICB9O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n")},function(module,exports){eval("\r\n//============================================================================\r\n// Window_ResolutionList\r\n//============================================================================\r\n\r\nfunction Window_ResolutionList() {\r\n    this.initialize.apply(this, arguments);\r\n};\r\n\r\nWindow_ResolutionList.prototype = Object.create(Window_Selectable.prototype);\r\nWindow_ResolutionList.prototype.constructor = Window_ResolutionList;\r\n\r\nWindow_ResolutionList.prototype.initialize = function (x, y, width, height) {\r\n    Window_Selectable.prototype.initialize.call(this, x, y, width, height);\r\n\r\n    this.initMembers();\r\n    this.initWithItemPoint();\r\n    this.refresh();\r\n    this.activate();\r\n\r\n    this.select($gameSystem._lastScreenManagerItem || 0);\r\n\r\n};\r\n\r\nWindow_ResolutionList.prototype.initMembers = function () {\r\n    this._windowFrameSprite.visible = false;\r\n\r\n    this._index = 0;\r\n    this._item = [];\r\n\r\n};\r\n\r\nWindow_ResolutionList.prototype.lineHeight = function () {\r\n    return Math.round(Graphics.boxHeight / 16);\r\n};\r\n\r\nWindow_ResolutionList.prototype.initWithAspectRatio = function (data) {\r\n    if(RS.ScreenManager.Params.options.aspectRatio) {\r\n\r\n    var config = new CustomScreenConfig(RS.ScreenManager.Params.settings.customAspectRatio[0], RS.ScreenManager.Params.settings.customAspectRatio[1]);\r\n    var insData = parseInt(window.screen.availWidth / RS.ScreenManager.Params.settings.customAspectRatio[0]) * RS.ScreenManager.Params.settings.customAspectRatio[0];\r\n    var fullscreenData = config.getSize(insData);\r\n\r\n    data.push(new Point(fullscreenData[0], fullscreenData[1]));\r\n\r\n    }\r\n\r\n    return data;\r\n\r\n};\r\n\r\nWindow_ResolutionList.prototype.initWithItemPoint = function () {\r\n    var data = Graphics.getAvailGraphicsArray('Number');\r\n    var ret = [];\r\n\r\n    // 배열 내 중복된 데이터를 제거합니다.\r\n    this.uniqWithPoint(data.slice(0), function (newData) {\r\n    ret = newData;\r\n    });\r\n\r\n    ret = this.initWithAspectRatio(ret);\r\n\r\n    this._itemToPoint = ret;\r\n};\r\n\r\nWindow_ResolutionList.prototype.uniqWithPoint = function (data, callback) {\r\n    var ret = [];\r\n    ret = data.filter(function(e, i, a) {\r\n\r\n    if(a[i-1] instanceof Point) {\r\n\r\n        if(a[i-1].x === e.x && a[i-1].y === e.y) {\r\n\r\n        return false;\r\n\r\n        }\r\n\r\n        return true;\r\n\r\n    } else {\r\n\r\n        return true;\r\n\r\n    }\r\n    });\r\n\r\n    callback(ret);\r\n\r\n};\r\n\r\nWindow_ResolutionList.prototype.getCurrentItemToPoint = function () {\r\n    return this._itemToPoint && this._index >= 0 ? this._itemToPoint[this._index] : null;\r\n};\r\n\r\nWindow_ResolutionList.prototype.maxItems = function() {\r\n    return this._data ? this._data.length : 1;\r\n};\r\n\r\nWindow_ResolutionList.prototype.item = function() {\r\n    return this._data && this._index >= 0 ? this._data[this._index] : null;\r\n};\r\n\r\nWindow_ResolutionList.prototype.makeItemList = function() {\r\n    this._data = Graphics.getAvailGraphicsArray('String');\r\n    if(RS.ScreenManager.Params.options.aspectRatio) this._data = this.uniq(this._data.slice(0));\r\n    if(!RS.ScreenManager.isFullscreen()) {\r\n    this._data.push(RS.ScreenManager.localization.get(\"Full Screen\"));\r\n    } else {\r\n    this._data.push(RS.ScreenManager.localization.get(\"Windowed Mode\"));\r\n    }\r\n};\r\n\r\nWindow_ResolutionList.prototype.isCurrentItemEnabled = function() {\r\n    return this.isEnabled(this._data[this.index()]);\r\n};\r\n\r\nWindow_ResolutionList.prototype.isEnabled = function(item) {\r\n    return !!item;\r\n};\r\n\r\nWindow_ResolutionList.prototype.resetFontSettings = function() {\r\n    this.contents.fontFace = this.standardFontFace();\r\n    this.contents.fontSize = this.standardFontSize();\r\n    this.contents.outlineColor = Utils.rgbToCssColor(128, 0, 0);\r\n    this.contents.outlineWidth = 2;\r\n    this.resetTextColor();\r\n};\r\n\r\nWindow_ResolutionList.prototype.drawItem = function(index) {\r\n    var rect = this.itemRectForText(index);\r\n    var text = this._data[index];\r\n\r\n    this.resetTextColor();\r\n\r\n    this.drawText(text, rect.x, rect.y, rect.width, 'center');\r\n\r\n};\r\n\r\nWindow_ResolutionList.prototype.refresh = function() {\r\n    this.makeItemList();\r\n    this.createContents();\r\n    this.drawAllItems();\r\n};\r\n\r\nWindow_ResolutionList.prototype.uniq = function (data) {\r\n    data = data.filter(function (e, i, a) {\r\n    return a.indexOf(e) === i;\r\n    }, this);\r\n    return data;\r\n};\r\n//#endregion\r\n\r\n//============================================================================\r\n//#region Window_ResolutionListForMobile\r\n//============================================================================\r\n/**\r\n * PC가 아닌 플랫폼에서는 창 사이즈가 변경되지 않으므로 그래픽 객체 크기를 변경한다.\r\n * @class Window_ResolutionListForMobile\r\n */\r\nfunction Window_ResolutionListForMobile() {\r\n    this.initialize.apply(this, arguments);\r\n};\r\n\r\nWindow_ResolutionListForMobile.prototype = Object.create(Window_ResolutionList.prototype);\r\nWindow_ResolutionListForMobile.prototype.constructor = Window_ResolutionListForMobile;\r\n\r\nWindow_ResolutionListForMobile.prototype.initialize = function (x, y, width, height) {\r\n    Window_ResolutionList.prototype.initialize.call(this, x, y, width, height);\r\n};\r\n\r\nWindow_ResolutionListForMobile.prototype.initWithItemPoint = function () {\r\n    var temp = RS.ScreenManager.Params.options.allResolutions;\r\n    var ret, data = Graphics.getAvailGraphicsArray(\"Number\");\r\n    RS.ScreenManager.Params.options.allResolutions = temp;\r\n\r\n    ret = this.initWithAspectRatio(data);\r\n\r\n    this._itemToPoint = ret;\r\n};\r\n\r\nWindow_ResolutionListForMobile.prototype.lineHeight = function () {\r\n    return Math.round(Graphics.boxHeight / 10);\r\n};\r\n\r\nWindow_ResolutionListForMobile.prototype.makeItemList = function() {\r\n    this._data = RS.ScreenManager.localization.get(\"MobileResolutions\");\r\n};\r\n\r\nWindow_ResolutionListForMobile.prototype.getCurrentItemToPoint = function () {\r\n    return this._itemToPoint && this._index >= 0 ? this._itemToPoint[this._index] : null;\r\n};\r\n\r\nWindow_ResolutionListForMobile.prototype.drawItem = function(index) {\r\n    var rect = this.itemRectForText(index);\r\n    var text = this._data[index];\r\n    this.resetTextColor();\r\n    this.drawText(text, rect.x, rect.y, rect.width, 'center');\r\n};\r\n\r\nwindow.Window_ResolutionList = Window_ResolutionList;\r\nwindow.Window_ResolutionListForMobile = Window_ResolutionListForMobile;\r\n\r\n//#endregion//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvV2luZG93X1Jlc29sdXRpb25MaXN0LmpzP2Q5MTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsS0FBSzs7QUFFTDs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFdpbmRvd19SZXNvbHV0aW9uTGlzdFxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmZ1bmN0aW9uIFdpbmRvd19SZXNvbHV0aW9uTGlzdCgpIHtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV2luZG93X1NlbGVjdGFibGUucHJvdG90eXBlKTtcclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFdpbmRvd19SZXNvbHV0aW9uTGlzdDtcclxuXHJcbldpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICBXaW5kb3dfU2VsZWN0YWJsZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgIHRoaXMuaW5pdE1lbWJlcnMoKTtcclxuICAgIHRoaXMuaW5pdFdpdGhJdGVtUG9pbnQoKTtcclxuICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgdGhpcy5hY3RpdmF0ZSgpO1xyXG5cclxuICAgIHRoaXMuc2VsZWN0KCRnYW1lU3lzdGVtLl9sYXN0U2NyZWVuTWFuYWdlckl0ZW0gfHwgMCk7XHJcblxyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5pbml0TWVtYmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuX3dpbmRvd0ZyYW1lU3ByaXRlLnZpc2libGUgPSBmYWxzZTtcclxuXHJcbiAgICB0aGlzLl9pbmRleCA9IDA7XHJcbiAgICB0aGlzLl9pdGVtID0gW107XHJcblxyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5saW5lSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIE1hdGgucm91bmQoR3JhcGhpY3MuYm94SGVpZ2h0IC8gMTYpO1xyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5pbml0V2l0aEFzcGVjdFJhdGlvID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMuYXNwZWN0UmF0aW8pIHtcclxuXHJcbiAgICB2YXIgY29uZmlnID0gbmV3IEN1c3RvbVNjcmVlbkNvbmZpZyhSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5jdXN0b21Bc3BlY3RSYXRpb1swXSwgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW9bMV0pO1xyXG4gICAgdmFyIGluc0RhdGEgPSBwYXJzZUludCh3aW5kb3cuc2NyZWVuLmF2YWlsV2lkdGggLyBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5jdXN0b21Bc3BlY3RSYXRpb1swXSkgKiBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5jdXN0b21Bc3BlY3RSYXRpb1swXTtcclxuICAgIHZhciBmdWxsc2NyZWVuRGF0YSA9IGNvbmZpZy5nZXRTaXplKGluc0RhdGEpO1xyXG5cclxuICAgIGRhdGEucHVzaChuZXcgUG9pbnQoZnVsbHNjcmVlbkRhdGFbMF0sIGZ1bGxzY3JlZW5EYXRhWzFdKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG5cclxufTtcclxuXHJcbldpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUuaW5pdFdpdGhJdGVtUG9pbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZGF0YSA9IEdyYXBoaWNzLmdldEF2YWlsR3JhcGhpY3NBcnJheSgnTnVtYmVyJyk7XHJcbiAgICB2YXIgcmV0ID0gW107XHJcblxyXG4gICAgLy8g67Cw7Je0IOuCtCDspJHrs7XrkJwg642w7J207YSw66W8IOygnOqxsO2VqeuLiOuLpC5cclxuICAgIHRoaXMudW5pcVdpdGhQb2ludChkYXRhLnNsaWNlKDApLCBmdW5jdGlvbiAobmV3RGF0YSkge1xyXG4gICAgcmV0ID0gbmV3RGF0YTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldCA9IHRoaXMuaW5pdFdpdGhBc3BlY3RSYXRpbyhyZXQpO1xyXG5cclxuICAgIHRoaXMuX2l0ZW1Ub1BvaW50ID0gcmV0O1xyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS51bmlxV2l0aFBvaW50ID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgcmV0ID0gW107XHJcbiAgICByZXQgPSBkYXRhLmZpbHRlcihmdW5jdGlvbihlLCBpLCBhKSB7XHJcblxyXG4gICAgaWYoYVtpLTFdIGluc3RhbmNlb2YgUG9pbnQpIHtcclxuXHJcbiAgICAgICAgaWYoYVtpLTFdLnggPT09IGUueCAmJiBhW2ktMV0ueSA9PT0gZS55KSB7XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjYWxsYmFjayhyZXQpO1xyXG5cclxufTtcclxuXHJcbldpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUuZ2V0Q3VycmVudEl0ZW1Ub1BvaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2l0ZW1Ub1BvaW50ICYmIHRoaXMuX2luZGV4ID49IDAgPyB0aGlzLl9pdGVtVG9Qb2ludFt0aGlzLl9pbmRleF0gOiBudWxsO1xyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5tYXhJdGVtcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RhdGEgPyB0aGlzLl9kYXRhLmxlbmd0aCA6IDE7XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3QucHJvdG90eXBlLml0ZW0gPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLl9kYXRhICYmIHRoaXMuX2luZGV4ID49IDAgPyB0aGlzLl9kYXRhW3RoaXMuX2luZGV4XSA6IG51bGw7XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3QucHJvdG90eXBlLm1ha2VJdGVtTGlzdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5fZGF0YSA9IEdyYXBoaWNzLmdldEF2YWlsR3JhcGhpY3NBcnJheSgnU3RyaW5nJyk7XHJcbiAgICBpZihSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLmFzcGVjdFJhdGlvKSB0aGlzLl9kYXRhID0gdGhpcy51bmlxKHRoaXMuX2RhdGEuc2xpY2UoMCkpO1xyXG4gICAgaWYoIVJTLlNjcmVlbk1hbmFnZXIuaXNGdWxsc2NyZWVuKCkpIHtcclxuICAgIHRoaXMuX2RhdGEucHVzaChSUy5TY3JlZW5NYW5hZ2VyLmxvY2FsaXphdGlvbi5nZXQoXCJGdWxsIFNjcmVlblwiKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgdGhpcy5fZGF0YS5wdXNoKFJTLlNjcmVlbk1hbmFnZXIubG9jYWxpemF0aW9uLmdldChcIldpbmRvd2VkIE1vZGVcIikpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5pc0N1cnJlbnRJdGVtRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNFbmFibGVkKHRoaXMuX2RhdGFbdGhpcy5pbmRleCgpXSk7XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3QucHJvdG90eXBlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIHJldHVybiAhIWl0ZW07XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3QucHJvdG90eXBlLnJlc2V0Rm9udFNldHRpbmdzID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmNvbnRlbnRzLmZvbnRGYWNlID0gdGhpcy5zdGFuZGFyZEZvbnRGYWNlKCk7XHJcbiAgICB0aGlzLmNvbnRlbnRzLmZvbnRTaXplID0gdGhpcy5zdGFuZGFyZEZvbnRTaXplKCk7XHJcbiAgICB0aGlzLmNvbnRlbnRzLm91dGxpbmVDb2xvciA9IFV0aWxzLnJnYlRvQ3NzQ29sb3IoMTI4LCAwLCAwKTtcclxuICAgIHRoaXMuY29udGVudHMub3V0bGluZVdpZHRoID0gMjtcclxuICAgIHRoaXMucmVzZXRUZXh0Q29sb3IoKTtcclxufTtcclxuXHJcbldpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUuZHJhd0l0ZW0gPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgdmFyIHJlY3QgPSB0aGlzLml0ZW1SZWN0Rm9yVGV4dChpbmRleCk7XHJcbiAgICB2YXIgdGV4dCA9IHRoaXMuX2RhdGFbaW5kZXhdO1xyXG5cclxuICAgIHRoaXMucmVzZXRUZXh0Q29sb3IoKTtcclxuXHJcbiAgICB0aGlzLmRyYXdUZXh0KHRleHQsIHJlY3QueCwgcmVjdC55LCByZWN0LndpZHRoLCAnY2VudGVyJyk7XHJcblxyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLm1ha2VJdGVtTGlzdCgpO1xyXG4gICAgdGhpcy5jcmVhdGVDb250ZW50cygpO1xyXG4gICAgdGhpcy5kcmF3QWxsSXRlbXMoKTtcclxufTtcclxuXHJcbldpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUudW5pcSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBkYXRhID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGUsIGksIGEpIHtcclxuICAgIHJldHVybiBhLmluZGV4T2YoZSkgPT09IGk7XHJcbiAgICB9LCB0aGlzKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG59O1xyXG4vLyNlbmRyZWdpb25cclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyNyZWdpb24gV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vKipcclxuICogUEPqsIAg7JWE64uMIO2UjOueq+2PvOyXkOyEnOuKlCDssL0g7IKs7J207KaI6rCAIOuzgOqyveuQmOyngCDslYrsnLzrr4DroZwg6re4656Y7ZS9IOqwneyytCDtgazquLDrpbwg67OA6rK97ZWc64ukLlxyXG4gKiBAY2xhc3MgV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlXHJcbiAqL1xyXG5mdW5jdGlvbiBXaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGUoKSB7XHJcbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuXHJcbldpbmRvd19SZXNvbHV0aW9uTGlzdEZvck1vYmlsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFdpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUpO1xyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlO1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIFdpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlLnByb3RvdHlwZS5pbml0V2l0aEl0ZW1Qb2ludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0ZW1wID0gUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hbGxSZXNvbHV0aW9ucztcclxuICAgIHZhciByZXQsIGRhdGEgPSBHcmFwaGljcy5nZXRBdmFpbEdyYXBoaWNzQXJyYXkoXCJOdW1iZXJcIik7XHJcbiAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLmFsbFJlc29sdXRpb25zID0gdGVtcDtcclxuXHJcbiAgICByZXQgPSB0aGlzLmluaXRXaXRoQXNwZWN0UmF0aW8oZGF0YSk7XHJcblxyXG4gICAgdGhpcy5faXRlbVRvUG9pbnQgPSByZXQ7XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGUucHJvdG90eXBlLmxpbmVIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChHcmFwaGljcy5ib3hIZWlnaHQgLyAxMCk7XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGUucHJvdG90eXBlLm1ha2VJdGVtTGlzdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5fZGF0YSA9IFJTLlNjcmVlbk1hbmFnZXIubG9jYWxpemF0aW9uLmdldChcIk1vYmlsZVJlc29sdXRpb25zXCIpO1xyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlLnByb3RvdHlwZS5nZXRDdXJyZW50SXRlbVRvUG9pbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faXRlbVRvUG9pbnQgJiYgdGhpcy5faW5kZXggPj0gMCA/IHRoaXMuX2l0ZW1Ub1BvaW50W3RoaXMuX2luZGV4XSA6IG51bGw7XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGUucHJvdG90eXBlLmRyYXdJdGVtID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgIHZhciByZWN0ID0gdGhpcy5pdGVtUmVjdEZvclRleHQoaW5kZXgpO1xyXG4gICAgdmFyIHRleHQgPSB0aGlzLl9kYXRhW2luZGV4XTtcclxuICAgIHRoaXMucmVzZXRUZXh0Q29sb3IoKTtcclxuICAgIHRoaXMuZHJhd1RleHQodGV4dCwgcmVjdC54LCByZWN0LnksIHJlY3Qud2lkdGgsICdjZW50ZXInKTtcclxufTtcclxuXHJcbndpbmRvdy5XaW5kb3dfUmVzb2x1dGlvbkxpc3QgPSBXaW5kb3dfUmVzb2x1dGlvbkxpc3Q7XHJcbndpbmRvdy5XaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGUgPSBXaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGU7XHJcblxyXG4vLyNlbmRyZWdpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n")},function(module,exports){eval('//============================================================================\r\n//#region Sprite_Base\r\n//============================================================================\r\n\r\nSprite_Base.prototype.requestStretch = function (sprite) {\r\n    if(!sprite.bitmap) return;\r\n    var bitmap = sprite.bitmap;\r\n    if(bitmap.width <= 0) return;\r\n    if(bitmap.height <= 0) return;\r\n    var scaleX = Graphics.boxWidth / bitmap.width;\r\n    var scaleY = Graphics.boxHeight / bitmap.height;\r\n    sprite.scale.x = (scaleX > 1.0) ? scaleX : 1.0;\r\n    sprite.scale.y = (scaleY > 1.0) ? scaleY : 1.0;\r\n\r\n    if(RS.ScreenManager.Params.picturePosType === "Virtual Coordinates") {\r\n    var x = sprite.x;\r\n    var y = sprite.y;\r\n    var sw = bitmap.width * sprite.scale.x; // scale width and height\r\n    var sh = bitmap.height * sprite.scale.y;\r\n    var dw = bitmap.width; // original width and original height\r\n    var dh = bitmap.height;\r\n    \r\n    if(dw == 0 || dh == 0) {\r\n        return;\r\n    }\r\n\r\n    var dx = x * (sw / dw); // destination position\r\n    var dy = y * (sh / dh);\r\n\r\n    // position\r\n    sprite.x = Math.floor(dx);\r\n    sprite.y = Math.floor(dy);\r\n\r\n    }\r\n\r\n};\r\n//#endregion\r\n\r\n//============================================================================\r\n//#region TilingSprite\r\n//============================================================================\r\nTilingSprite.prototype.reqeustResizeImage = function() {\r\n\r\n    if(!this.texture.frame) {\r\n    this.texture.frame = new PIXI.Rectangle(0, 0, Graphics.boxWidth, Graphics.boxHeight);\r\n    }\r\n\r\n    this.texture.frame.width = Graphics.boxWidth;\r\n    this.texture.frame.height = Graphics.boxHeight;\r\n\r\n}\r\n\r\nTilingSprite.prototype.isValidResizing = function() {\r\n    if(!RS.ScreenManager.Params.isValidScaledBattleback) return;\r\n    if(!this.bitmap) return false;\r\n    if(this.bitmap.width <= 0) return false;\r\n    if(this.bitmap.height <= 0) return false;\r\n    if(!this.visible) return false;\r\n    if(this.opacity <= 0) return false;\r\n    if(!this.bitmap._url) return false;\r\n    if(!this.texture) return false;\r\n\r\n    var url = this.bitmap._url;\r\n    var fileUri = url.split("/");\r\n    var filename = fileUri.pop();\r\n    var folderName = fileUri.pop();\r\n    \r\n    if([\'battlebacks1\', \'battlebacks2\'].contains(folderName)) {\r\n    this._folderName = folderName;\r\n    return true;\r\n    }\r\n\r\n    return false;\r\n\r\n};\r\n\r\nTilingSprite.prototype.resizeImage = function() {\r\n    if( this.isValidResizing() ) {\r\n    this.reqeustResizeImage();\r\n    }\r\n};\r\n\r\nvar alias_TilingSprite__onBitmapLoad = TilingSprite.prototype._onBitmapLoad;\r\nTilingSprite.prototype._onBitmapLoad = function() {\r\n    alias_TilingSprite__onBitmapLoad.call(this);\r\n    this.resizeImage();\r\n};\r\n\r\n//#endregion\r\n\r\n//============================================================================\r\n// Sprite_Actor\r\n//============================================================================  \r\n\r\n    // These functions are worked fine in the vanilla mode only!!\r\n    // I couldn\'t test the impact yet when using the plugin named YEP_BattleEngineCore.\r\n    if(!Imported.YEP_BattleEngineCore) {\r\n\r\n        Sprite_Actor.prototype.moveToStartPosition = function() {\r\n          eval($.Params.actorFunc.moveToStartPosition);        \r\n        };\r\n      \r\n        Sprite_Actor.prototype.setActorHome = function(index) {\r\n          eval($.Params.actorFunc.setActorHome);\r\n        };    \r\n  \r\n        Sprite_Actor.prototype.stepForward = function() {\r\n          eval($.Params.actorFunc.stepForward);\r\n        };\r\n        \r\n        Sprite_Actor.prototype.stepBack = function() {\r\n          eval($.Params.actorFunc.stepBack);\r\n        };\r\n        \r\n        Sprite_Actor.prototype.retreat = function() {\r\n          eval($.Params.actorFunc.retreat);\r\n        };   \r\n      \r\n    }    \r\n\r\n//============================================================================\r\n// Spriteset_Battle\r\n//============================================================================    \r\n\r\nif(RS.ScreenManager.Params.isValidScaledBattleback) {\r\n\r\n    /**\r\n     * Override\r\n     * @method createBattleback\r\n     */\r\n    Spriteset_Battle.prototype.createBattleback = function() {\r\n    var margin = 0;\r\n    var x = -this._battleField.x - margin;\r\n    var y = -this._battleField.y - margin;\r\n    var width = Graphics.width + margin * 2;\r\n    var height = Graphics.height + margin * 2;\r\n    this._back1Sprite = new TilingSprite();\r\n    this._back2Sprite = new TilingSprite();\r\n    this._back1Sprite.bitmap = this.battleback1Bitmap();\r\n    this._back2Sprite.bitmap = this.battleback2Bitmap();\r\n    this._back1Sprite.move(x, y, width, height);\r\n    this._back2Sprite.move(x, y, width, height);\r\n    this._battleField.addChild(this._back1Sprite);\r\n    this._battleField.addChild(this._back2Sprite);\r\n    };\r\n\r\n    /**\r\n     * Override\r\n     * @method locateBattleback\r\n     */  \r\n    Spriteset_Battle.prototype.locateBattleback = function() {\r\n\r\n    var sprite1 = this._back1Sprite;\r\n    var sprite2 = this._back2Sprite;\r\n    sprite1.origin.x = 0;\r\n    sprite2.origin.x = 0;\r\n    if ($gameSystem.isSideView()) {\r\n        sprite1.origin.y = 0;\r\n        sprite2.origin.y = 0;\r\n    }\r\n\r\n    };\r\n\r\n}\r\n\r\n//============================================================================\r\n//#region Sprite_Picture\r\n//============================================================================  \r\n\r\n(function() {\r\n\r\n    /**\r\n     * Find a script called "DTextPicture.js"\r\n     */\r\n    PluginManager._scripts.forEach(function(pluginName) {\r\n    if(pluginName === "DTextPicture") {\r\n        Imported.DTextPicture = true;\r\n    }\r\n    }, this);\r\n\r\n})();\r\n\r\nvar alias_Sprite_Picture_updatePosition = Sprite_Picture.prototype.updatePosition;\r\nSprite_Picture.prototype.updatePosition = function() {\r\n    if(RS.ScreenManager.Params.isAutoScaledPicture) return;\r\n    alias_Sprite_Picture_updatePosition.call(this);\r\n};\r\n\r\nvar alias_Sprite_Picture_updateScale = Sprite_Picture.prototype.updateScale;\r\nSprite_Picture.prototype.updateScale = function() {\r\n    if(RS.ScreenManager.Params.isAutoScaledPicture) return;\r\n    alias_Sprite_Picture_updateScale.call(this);\r\n};\r\n\r\nSprite_Picture.prototype.updateOriginScale = function() {\r\n    var picture = this.picture();\r\n    this.x = Math.floor(picture.x());\r\n    this.y = Math.floor(picture.y());\r\n    var originSX = picture.scaleX() / 100;\r\n    var originSY = picture.scaleY() / 100;        \r\n    this.scale.x = originSX;\r\n    this.scale.y = originSY;\r\n};\r\n\r\nSprite_Picture.prototype.updateAutoScale = function() {\r\n\r\n    /**\r\n     * @type {Game_Picture}\r\n     */\r\n    var picture = this.picture();\r\n    var bitmap = this.bitmap;\r\n\r\n    if(!bitmap) {\r\n    this.updateOriginScale();\r\n    return;\r\n    }\r\n    \r\n    // Sometimes the game picture has to use a default scale.\r\n    var blacklist = RS.ScreenManager.Params.ignoreAutoScalePictures || [];\r\n    if(blacklist.contains(this._pictureId)) {\r\n    this.updateOriginScale();  \r\n    return;      \r\n    }\r\n\r\n    var originSX = picture.scaleX() / 100;\r\n    var originSY = picture.scaleY() / 100;\r\n\r\n    // Get the original width and height values\r\n    var dw = bitmap.width * originSX;\r\n    var dh = bitmap.height * originSY;\r\n\r\n    // Can not divide with 0\r\n    if(dw === 0 || dh === 0) {\r\n    this.updateOriginScale();    \r\n    return;\r\n    }\r\n\r\n    // Store the original coordinates before changing its size.\r\n    var x = picture.x();\r\n    var y = picture.y();\r\n\r\n    var originalViewWidth = parseInt(RS.ScreenManager.Params.originalPictureViewSize.width);\r\n    var originalViewHeight = parseInt(RS.ScreenManager.Params.originalPictureViewSize.height);\r\n    var scaleX = originSX;\r\n    var scaleY = originSY;\r\n\r\n    if(Graphics.boxWidth > originalViewWidth) {\r\n    scaleX = Graphics.boxWidth / originalViewWidth;\r\n    } else if(Graphics.boxWidth < originalViewWidth) {\r\n    scaleX = originalViewWidth / Graphics.boxWidth;\r\n    }\r\n\r\n    scaleY = Graphics.boxHeight / originalViewHeight;\r\n    \r\n    // Perform re-scale and re-position.\r\n    this.scale.x = scaleX;\r\n    this.scale.y = scaleY;\r\n\r\n    if(RS.ScreenManager.Params.picturePosType === "Virtual Coordinates") {\r\n\r\n    var sw = bitmap.width * scaleX;\r\n    var sh = bitmap.height * scaleY;\r\n    var dx = x * (sw / dw);\r\n    var dy = y * (sh / dh);\r\n\r\n    this.x = Math.floor(dx);\r\n    this.y = Math.floor(dy);\r\n\r\n    } else {\r\n\r\n    this.x = Math.floor(x);\r\n    this.y = Math.floor(y);\r\n\r\n    }\r\n\r\n};\r\n\r\nvar alias_Sprite_Picture_update = Sprite_Picture.prototype.update;\r\nSprite_Picture.prototype.update = function() {\r\n    alias_Sprite_Picture_update.call(this);\r\n    if(this.visible && RS.ScreenManager.Params.isAutoScaledPicture) {\r\n    this.updateAutoScale();\r\n    }\r\n};\r\n\r\n//#endregion\r\n\r\n//#region Rescaling Background\r\n//============================================================================\r\n// Scene_Base\r\n//============================================================================\r\n\r\nScene_Base.prototype.requestStretch = function (sprite) {\r\n    if(!sprite.bitmap) return;\r\n    var bitmap = sprite.bitmap;\r\n    if(bitmap.width <= 0) return;\r\n    if(bitmap.height <= 0) return;\r\n    var scaleX = Graphics.boxWidth / bitmap.width;\r\n    var scaleY = Graphics.boxHeight / bitmap.height;\r\n    sprite.scale.x = (scaleX > 1.0) ? scaleX : 1.0;\r\n    sprite.scale.y = (scaleY > 1.0) ? scaleY : 1.0;\r\n    sprite.x = Graphics.boxWidth / 2;\r\n    sprite.y = Graphics.boxHeight / 2;\r\n    sprite.anchor.x = 0.5;\r\n    sprite.anchor.y = 0.5;\r\n};\r\n\r\n//============================================================================\r\n// Scene_MenuBase\r\n//============================================================================\r\n\r\nvar alias_Scene_MenuBase_start = Scene_MenuBase.prototype.start;\r\nScene_MenuBase.prototype.start = function() {\r\n    alias_Scene_MenuBase_start.call(this);\r\n    this.requestStretch(this._backgroundSprite);\r\n};\r\n\r\n//============================================================================\r\n// Window\r\n//============================================================================\r\n\r\nif(RS.ScreenManager.Params.settings.defaultScreenSize.x <= 320 && \r\n    RS.ScreenManager.Params.settings.defaultScreenSize.y <= 240) {\r\n    var alias_Window_Command_windowWidth = Window_Command.prototype.windowWidth;\r\n    Window_Command.prototype.windowWidth = function() {\r\n        return Graphics.getVirtualWidth(alias_Window_Command_windowWidth.call(this));\r\n    };\r\n    \r\n    var alias_Window_Command_lineHeight = Window_Command.prototype.lineHeight;\r\n    Window_Command.prototype.lineHeight = function() {\r\n        return Graphics.getVirtualHeight(alias_Window_Command_lineHeight.call(this));\r\n    };  \r\n    \r\n    var alias_Window_Base_standardFontSize = Window_Base.prototype.standardFontSize;\r\n    Window_Base.prototype.standardFontSize = function() {\r\n        return Graphics.getVirtualHeight(alias_Window_Base_standardFontSize.call(this));\r\n    };\r\n    \r\n    var alias_Window_Base_standardPadding = Window_Base.prototype.standardPadding;\r\n    Window_Base.prototype.standardPadding = function() {\r\n        return Graphics.getVirtualWidth(alias_Window_Base_standardPadding.call(this));\r\n    };\r\n    \r\n    var alias_Window_Selectable_spacing = Window_Selectable.prototype.spacing;\r\n    Window_Selectable.prototype.spacing = function() {\r\n        return Graphics.getVirtualWidth(alias_Window_Selectable_spacing.call(this));\r\n    };  \r\n    \r\n    var alias_Window_Options_windowWidth = Window_Options.prototype.windowWidth;\r\n    Window_Options.prototype.windowWidth = function() {\r\n        return Graphics.getVirtualWidth( alias_Window_Options_windowWidth.call(this) );\r\n    };               \r\n    \r\n    var alias_Window_Options_statusWidth = Window_Options.prototype.statusWidth;\r\n    Window_Options.prototype.statusWidth = function() {\r\n        return Graphics.getVirtualWidth( alias_Window_Options_statusWidth.call(this) );\r\n    };          \r\n    \r\n    class Window_MenuCommandImpl extends Window_MenuCommand {\r\n        windowWidth() {\r\n        return Graphics.getVirtualWidth(super.windowWidth());\r\n        }\r\n    }\r\n    \r\n    window.Window_MenuCommand = Window_MenuCommandImpl;   \r\n    \r\n    class Window_MenuStatusImpl extends Window_MenuStatus {\r\n        windowWidth() {\r\n        return Graphics.boxWidth - Graphics.getVirtualWidth(240);\r\n        }   \r\n    }\r\n    \r\n    window.Window_MenuStatus = Window_MenuStatusImpl;    \r\n    \r\n    class Window_GoldImpl extends Window_Gold {\r\n        windowWidth() {\r\n        return Graphics.getVirtualWidth( super.windowWidth() );\r\n        }    \r\n    }   \r\n    \r\n    window.Window_Gold = Window_GoldImpl;\r\n    \r\n    class Window_GameEndImpl extends Window_GameEnd {\r\n        windowWidth() {\r\n        return Graphics.getVirtualWidth( super.windowWidth() );\r\n        }        \r\n    }\r\n    \r\n    window.Window_GameEnd = Window_GameEndImpl;\r\n}\r\n\r\n//============================================================================\r\n// Scene_Title\r\n//============================================================================\r\n\r\nclass Window_TitleCommandImpl extends Window_TitleCommand {\r\n\r\n    updatePlacement() {\r\n    this.x = (Graphics.boxWidth - this.width) / 2;\r\n    this.y = Graphics.boxHeight - this.height - Graphics.getVirtualHeight(96);\r\n    }\r\n\r\n    windowWidth() {\r\n    return Graphics.getVirtualWidth(super.windowWidth());\r\n    }\r\n\r\n}\r\n\r\nwindow.Window_TitleCommand = Window_TitleCommandImpl;\r\n\r\nvar alias_Scene_Title_start = Scene_Title.prototype.start;\r\nScene_Title.prototype.start = function() {\r\n    alias_Scene_Title_start.call(this);\r\n    this.requestStretch(this._backSprite1);\r\n    this.requestStretch(this._backSprite2);\r\n};\r\n\r\nScene_Title.prototype.drawGameTitle = function() {\r\n    var x = 20;\r\n    var y = Graphics.height / 4;\r\n    var maxWidth = Graphics.width - x * 2;\r\n    var text = $dataSystem.gameTitle;\r\n\r\n    this._gameTitleSprite.bitmap.outlineColor = \'black\';\r\n    this._gameTitleSprite.bitmap.outlineWidth = Graphics.getVirtualWidth(8);\r\n    this._gameTitleSprite.bitmap.fontSize = Graphics.getVirtualHeight(72);\r\n    this._gameTitleSprite.bitmap.drawText(text, x, y, maxWidth, Graphics.getVirtualWidth(48), \'center\');\r\n};\r\n\r\n//============================================================================\r\n// Scene_Gameover\r\n//============================================================================\r\n\r\nvar alias_Scene_Gameover_start = Scene_Gameover.prototype.start;\r\nScene_Gameover.prototype.start = function() {\r\n    alias_Scene_Gameover_start.call(this);\r\n    this.requestStretch(this._backSprite);\r\n};\r\n\r\n//#endregion//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvUmVzaXplR3JhcGhpY3NPYmplY3RzLmpzPzMyYWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQSwwQkFBMEI7QUFDMUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1RDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFU7O0FBRUEsSzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2QjtBQUNBLFc7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE07O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUztBQUNBOztBQUVBLHFEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFM7QUFDQSxLOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIxOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyNyZWdpb24gU3ByaXRlX0Jhc2VcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5TcHJpdGVfQmFzZS5wcm90b3R5cGUucmVxdWVzdFN0cmV0Y2ggPSBmdW5jdGlvbiAoc3ByaXRlKSB7XHJcbiAgICBpZighc3ByaXRlLmJpdG1hcCkgcmV0dXJuO1xyXG4gICAgdmFyIGJpdG1hcCA9IHNwcml0ZS5iaXRtYXA7XHJcbiAgICBpZihiaXRtYXAud2lkdGggPD0gMCkgcmV0dXJuO1xyXG4gICAgaWYoYml0bWFwLmhlaWdodCA8PSAwKSByZXR1cm47XHJcbiAgICB2YXIgc2NhbGVYID0gR3JhcGhpY3MuYm94V2lkdGggLyBiaXRtYXAud2lkdGg7XHJcbiAgICB2YXIgc2NhbGVZID0gR3JhcGhpY3MuYm94SGVpZ2h0IC8gYml0bWFwLmhlaWdodDtcclxuICAgIHNwcml0ZS5zY2FsZS54ID0gKHNjYWxlWCA+IDEuMCkgPyBzY2FsZVggOiAxLjA7XHJcbiAgICBzcHJpdGUuc2NhbGUueSA9IChzY2FsZVkgPiAxLjApID8gc2NhbGVZIDogMS4wO1xyXG5cclxuICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnBpY3R1cmVQb3NUeXBlID09PSBcIlZpcnR1YWwgQ29vcmRpbmF0ZXNcIikge1xyXG4gICAgdmFyIHggPSBzcHJpdGUueDtcclxuICAgIHZhciB5ID0gc3ByaXRlLnk7XHJcbiAgICB2YXIgc3cgPSBiaXRtYXAud2lkdGggKiBzcHJpdGUuc2NhbGUueDsgLy8gc2NhbGUgd2lkdGggYW5kIGhlaWdodFxyXG4gICAgdmFyIHNoID0gYml0bWFwLmhlaWdodCAqIHNwcml0ZS5zY2FsZS55O1xyXG4gICAgdmFyIGR3ID0gYml0bWFwLndpZHRoOyAvLyBvcmlnaW5hbCB3aWR0aCBhbmQgb3JpZ2luYWwgaGVpZ2h0XHJcbiAgICB2YXIgZGggPSBiaXRtYXAuaGVpZ2h0O1xyXG4gICAgXHJcbiAgICBpZihkdyA9PSAwIHx8IGRoID09IDApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGR4ID0geCAqIChzdyAvIGR3KTsgLy8gZGVzdGluYXRpb24gcG9zaXRpb25cclxuICAgIHZhciBkeSA9IHkgKiAoc2ggLyBkaCk7XHJcblxyXG4gICAgLy8gcG9zaXRpb25cclxuICAgIHNwcml0ZS54ID0gTWF0aC5mbG9vcihkeCk7XHJcbiAgICBzcHJpdGUueSA9IE1hdGguZmxvb3IoZHkpO1xyXG5cclxuICAgIH1cclxuXHJcbn07XHJcbi8vI2VuZHJlZ2lvblxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vI3JlZ2lvbiBUaWxpbmdTcHJpdGVcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblRpbGluZ1Nwcml0ZS5wcm90b3R5cGUucmVxZXVzdFJlc2l6ZUltYWdlID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgaWYoIXRoaXMudGV4dHVyZS5mcmFtZSkge1xyXG4gICAgdGhpcy50ZXh0dXJlLmZyYW1lID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIEdyYXBoaWNzLmJveFdpZHRoLCBHcmFwaGljcy5ib3hIZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudGV4dHVyZS5mcmFtZS53aWR0aCA9IEdyYXBoaWNzLmJveFdpZHRoO1xyXG4gICAgdGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodCA9IEdyYXBoaWNzLmJveEhlaWdodDtcclxuXHJcbn1cclxuXHJcblRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuaXNWYWxpZFJlc2l6aW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZighUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuaXNWYWxpZFNjYWxlZEJhdHRsZWJhY2spIHJldHVybjtcclxuICAgIGlmKCF0aGlzLmJpdG1hcCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYodGhpcy5iaXRtYXAud2lkdGggPD0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYodGhpcy5iaXRtYXAuaGVpZ2h0IDw9IDApIHJldHVybiBmYWxzZTtcclxuICAgIGlmKCF0aGlzLnZpc2libGUpIHJldHVybiBmYWxzZTtcclxuICAgIGlmKHRoaXMub3BhY2l0eSA8PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZighdGhpcy5iaXRtYXAuX3VybCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYoIXRoaXMudGV4dHVyZSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIHZhciB1cmwgPSB0aGlzLmJpdG1hcC5fdXJsO1xyXG4gICAgdmFyIGZpbGVVcmkgPSB1cmwuc3BsaXQoXCIvXCIpO1xyXG4gICAgdmFyIGZpbGVuYW1lID0gZmlsZVVyaS5wb3AoKTtcclxuICAgIHZhciBmb2xkZXJOYW1lID0gZmlsZVVyaS5wb3AoKTtcclxuICAgIFxyXG4gICAgaWYoWydiYXR0bGViYWNrczEnLCAnYmF0dGxlYmFja3MyJ10uY29udGFpbnMoZm9sZGVyTmFtZSkpIHtcclxuICAgIHRoaXMuX2ZvbGRlck5hbWUgPSBmb2xkZXJOYW1lO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG5cclxufTtcclxuXHJcblRpbGluZ1Nwcml0ZS5wcm90b3R5cGUucmVzaXplSW1hZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmKCB0aGlzLmlzVmFsaWRSZXNpemluZygpICkge1xyXG4gICAgdGhpcy5yZXFldXN0UmVzaXplSW1hZ2UoKTtcclxuICAgIH1cclxufTtcclxuXHJcbnZhciBhbGlhc19UaWxpbmdTcHJpdGVfX29uQml0bWFwTG9hZCA9IFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX29uQml0bWFwTG9hZDtcclxuVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fb25CaXRtYXBMb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICBhbGlhc19UaWxpbmdTcHJpdGVfX29uQml0bWFwTG9hZC5jYWxsKHRoaXMpO1xyXG4gICAgdGhpcy5yZXNpemVJbWFnZSgpO1xyXG59O1xyXG5cclxuLy8jZW5kcmVnaW9uXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU3ByaXRlX0FjdG9yXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgXHJcblxyXG4gICAgLy8gVGhlc2UgZnVuY3Rpb25zIGFyZSB3b3JrZWQgZmluZSBpbiB0aGUgdmFuaWxsYSBtb2RlIG9ubHkhIVxyXG4gICAgLy8gSSBjb3VsZG4ndCB0ZXN0IHRoZSBpbXBhY3QgeWV0IHdoZW4gdXNpbmcgdGhlIHBsdWdpbiBuYW1lZCBZRVBfQmF0dGxlRW5naW5lQ29yZS5cclxuICAgIGlmKCFJbXBvcnRlZC5ZRVBfQmF0dGxlRW5naW5lQ29yZSkge1xyXG5cclxuICAgICAgICBTcHJpdGVfQWN0b3IucHJvdG90eXBlLm1vdmVUb1N0YXJ0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV2YWwoJC5QYXJhbXMuYWN0b3JGdW5jLm1vdmVUb1N0YXJ0UG9zaXRpb24pOyAgICAgICAgXHJcbiAgICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgICAgU3ByaXRlX0FjdG9yLnByb3RvdHlwZS5zZXRBY3RvckhvbWUgPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgZXZhbCgkLlBhcmFtcy5hY3RvckZ1bmMuc2V0QWN0b3JIb21lKTtcclxuICAgICAgICB9OyAgICBcclxuICBcclxuICAgICAgICBTcHJpdGVfQWN0b3IucHJvdG90eXBlLnN0ZXBGb3J3YXJkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBldmFsKCQuUGFyYW1zLmFjdG9yRnVuYy5zdGVwRm9yd2FyZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICBTcHJpdGVfQWN0b3IucHJvdG90eXBlLnN0ZXBCYWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBldmFsKCQuUGFyYW1zLmFjdG9yRnVuYy5zdGVwQmFjayk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICBTcHJpdGVfQWN0b3IucHJvdG90eXBlLnJldHJlYXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV2YWwoJC5QYXJhbXMuYWN0b3JGdW5jLnJldHJlYXQpO1xyXG4gICAgICAgIH07ICAgXHJcbiAgICAgIFxyXG4gICAgfSAgICBcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBTcHJpdGVzZXRfQmF0dGxlXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgICBcclxuXHJcbmlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmlzVmFsaWRTY2FsZWRCYXR0bGViYWNrKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPdmVycmlkZVxyXG4gICAgICogQG1ldGhvZCBjcmVhdGVCYXR0bGViYWNrXHJcbiAgICAgKi9cclxuICAgIFNwcml0ZXNldF9CYXR0bGUucHJvdG90eXBlLmNyZWF0ZUJhdHRsZWJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBtYXJnaW4gPSAwO1xyXG4gICAgdmFyIHggPSAtdGhpcy5fYmF0dGxlRmllbGQueCAtIG1hcmdpbjtcclxuICAgIHZhciB5ID0gLXRoaXMuX2JhdHRsZUZpZWxkLnkgLSBtYXJnaW47XHJcbiAgICB2YXIgd2lkdGggPSBHcmFwaGljcy53aWR0aCArIG1hcmdpbiAqIDI7XHJcbiAgICB2YXIgaGVpZ2h0ID0gR3JhcGhpY3MuaGVpZ2h0ICsgbWFyZ2luICogMjtcclxuICAgIHRoaXMuX2JhY2sxU3ByaXRlID0gbmV3IFRpbGluZ1Nwcml0ZSgpO1xyXG4gICAgdGhpcy5fYmFjazJTcHJpdGUgPSBuZXcgVGlsaW5nU3ByaXRlKCk7XHJcbiAgICB0aGlzLl9iYWNrMVNwcml0ZS5iaXRtYXAgPSB0aGlzLmJhdHRsZWJhY2sxQml0bWFwKCk7XHJcbiAgICB0aGlzLl9iYWNrMlNwcml0ZS5iaXRtYXAgPSB0aGlzLmJhdHRsZWJhY2syQml0bWFwKCk7XHJcbiAgICB0aGlzLl9iYWNrMVNwcml0ZS5tb3ZlKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgdGhpcy5fYmFjazJTcHJpdGUubW92ZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgIHRoaXMuX2JhdHRsZUZpZWxkLmFkZENoaWxkKHRoaXMuX2JhY2sxU3ByaXRlKTtcclxuICAgIHRoaXMuX2JhdHRsZUZpZWxkLmFkZENoaWxkKHRoaXMuX2JhY2syU3ByaXRlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPdmVycmlkZVxyXG4gICAgICogQG1ldGhvZCBsb2NhdGVCYXR0bGViYWNrXHJcbiAgICAgKi8gIFxyXG4gICAgU3ByaXRlc2V0X0JhdHRsZS5wcm90b3R5cGUubG9jYXRlQmF0dGxlYmFjayA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHZhciBzcHJpdGUxID0gdGhpcy5fYmFjazFTcHJpdGU7XHJcbiAgICB2YXIgc3ByaXRlMiA9IHRoaXMuX2JhY2syU3ByaXRlO1xyXG4gICAgc3ByaXRlMS5vcmlnaW4ueCA9IDA7XHJcbiAgICBzcHJpdGUyLm9yaWdpbi54ID0gMDtcclxuICAgIGlmICgkZ2FtZVN5c3RlbS5pc1NpZGVWaWV3KCkpIHtcclxuICAgICAgICBzcHJpdGUxLm9yaWdpbi55ID0gMDtcclxuICAgICAgICBzcHJpdGUyLm9yaWdpbi55ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxufVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vI3JlZ2lvbiBTcHJpdGVfUGljdHVyZVxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gIFxyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmluZCBhIHNjcmlwdCBjYWxsZWQgXCJEVGV4dFBpY3R1cmUuanNcIlxyXG4gICAgICovXHJcbiAgICBQbHVnaW5NYW5hZ2VyLl9zY3JpcHRzLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luTmFtZSkge1xyXG4gICAgaWYocGx1Z2luTmFtZSA9PT0gXCJEVGV4dFBpY3R1cmVcIikge1xyXG4gICAgICAgIEltcG9ydGVkLkRUZXh0UGljdHVyZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICB9LCB0aGlzKTtcclxuXHJcbn0pKCk7XHJcblxyXG52YXIgYWxpYXNfU3ByaXRlX1BpY3R1cmVfdXBkYXRlUG9zaXRpb24gPSBTcHJpdGVfUGljdHVyZS5wcm90b3R5cGUudXBkYXRlUG9zaXRpb247XHJcblNwcml0ZV9QaWN0dXJlLnByb3RvdHlwZS51cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYoUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuaXNBdXRvU2NhbGVkUGljdHVyZSkgcmV0dXJuO1xyXG4gICAgYWxpYXNfU3ByaXRlX1BpY3R1cmVfdXBkYXRlUG9zaXRpb24uY2FsbCh0aGlzKTtcclxufTtcclxuXHJcbnZhciBhbGlhc19TcHJpdGVfUGljdHVyZV91cGRhdGVTY2FsZSA9IFNwcml0ZV9QaWN0dXJlLnByb3RvdHlwZS51cGRhdGVTY2FsZTtcclxuU3ByaXRlX1BpY3R1cmUucHJvdG90eXBlLnVwZGF0ZVNjYWxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZihSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5pc0F1dG9TY2FsZWRQaWN0dXJlKSByZXR1cm47XHJcbiAgICBhbGlhc19TcHJpdGVfUGljdHVyZV91cGRhdGVTY2FsZS5jYWxsKHRoaXMpO1xyXG59O1xyXG5cclxuU3ByaXRlX1BpY3R1cmUucHJvdG90eXBlLnVwZGF0ZU9yaWdpblNjYWxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcGljdHVyZSA9IHRoaXMucGljdHVyZSgpO1xyXG4gICAgdGhpcy54ID0gTWF0aC5mbG9vcihwaWN0dXJlLngoKSk7XHJcbiAgICB0aGlzLnkgPSBNYXRoLmZsb29yKHBpY3R1cmUueSgpKTtcclxuICAgIHZhciBvcmlnaW5TWCA9IHBpY3R1cmUuc2NhbGVYKCkgLyAxMDA7XHJcbiAgICB2YXIgb3JpZ2luU1kgPSBwaWN0dXJlLnNjYWxlWSgpIC8gMTAwOyAgICAgICAgXHJcbiAgICB0aGlzLnNjYWxlLnggPSBvcmlnaW5TWDtcclxuICAgIHRoaXMuc2NhbGUueSA9IG9yaWdpblNZO1xyXG59O1xyXG5cclxuU3ByaXRlX1BpY3R1cmUucHJvdG90eXBlLnVwZGF0ZUF1dG9TY2FsZSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge0dhbWVfUGljdHVyZX1cclxuICAgICAqL1xyXG4gICAgdmFyIHBpY3R1cmUgPSB0aGlzLnBpY3R1cmUoKTtcclxuICAgIHZhciBiaXRtYXAgPSB0aGlzLmJpdG1hcDtcclxuXHJcbiAgICBpZighYml0bWFwKSB7XHJcbiAgICB0aGlzLnVwZGF0ZU9yaWdpblNjYWxlKCk7XHJcbiAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNvbWV0aW1lcyB0aGUgZ2FtZSBwaWN0dXJlIGhhcyB0byB1c2UgYSBkZWZhdWx0IHNjYWxlLlxyXG4gICAgdmFyIGJsYWNrbGlzdCA9IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmlnbm9yZUF1dG9TY2FsZVBpY3R1cmVzIHx8IFtdO1xyXG4gICAgaWYoYmxhY2tsaXN0LmNvbnRhaW5zKHRoaXMuX3BpY3R1cmVJZCkpIHtcclxuICAgIHRoaXMudXBkYXRlT3JpZ2luU2NhbGUoKTsgIFxyXG4gICAgcmV0dXJuOyAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHZhciBvcmlnaW5TWCA9IHBpY3R1cmUuc2NhbGVYKCkgLyAxMDA7XHJcbiAgICB2YXIgb3JpZ2luU1kgPSBwaWN0dXJlLnNjYWxlWSgpIC8gMTAwO1xyXG5cclxuICAgIC8vIEdldCB0aGUgb3JpZ2luYWwgd2lkdGggYW5kIGhlaWdodCB2YWx1ZXNcclxuICAgIHZhciBkdyA9IGJpdG1hcC53aWR0aCAqIG9yaWdpblNYO1xyXG4gICAgdmFyIGRoID0gYml0bWFwLmhlaWdodCAqIG9yaWdpblNZO1xyXG5cclxuICAgIC8vIENhbiBub3QgZGl2aWRlIHdpdGggMFxyXG4gICAgaWYoZHcgPT09IDAgfHwgZGggPT09IDApIHtcclxuICAgIHRoaXMudXBkYXRlT3JpZ2luU2NhbGUoKTsgICAgXHJcbiAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3RvcmUgdGhlIG9yaWdpbmFsIGNvb3JkaW5hdGVzIGJlZm9yZSBjaGFuZ2luZyBpdHMgc2l6ZS5cclxuICAgIHZhciB4ID0gcGljdHVyZS54KCk7XHJcbiAgICB2YXIgeSA9IHBpY3R1cmUueSgpO1xyXG5cclxuICAgIHZhciBvcmlnaW5hbFZpZXdXaWR0aCA9IHBhcnNlSW50KFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9yaWdpbmFsUGljdHVyZVZpZXdTaXplLndpZHRoKTtcclxuICAgIHZhciBvcmlnaW5hbFZpZXdIZWlnaHQgPSBwYXJzZUludChSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcmlnaW5hbFBpY3R1cmVWaWV3U2l6ZS5oZWlnaHQpO1xyXG4gICAgdmFyIHNjYWxlWCA9IG9yaWdpblNYO1xyXG4gICAgdmFyIHNjYWxlWSA9IG9yaWdpblNZO1xyXG5cclxuICAgIGlmKEdyYXBoaWNzLmJveFdpZHRoID4gb3JpZ2luYWxWaWV3V2lkdGgpIHtcclxuICAgIHNjYWxlWCA9IEdyYXBoaWNzLmJveFdpZHRoIC8gb3JpZ2luYWxWaWV3V2lkdGg7XHJcbiAgICB9IGVsc2UgaWYoR3JhcGhpY3MuYm94V2lkdGggPCBvcmlnaW5hbFZpZXdXaWR0aCkge1xyXG4gICAgc2NhbGVYID0gb3JpZ2luYWxWaWV3V2lkdGggLyBHcmFwaGljcy5ib3hXaWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBzY2FsZVkgPSBHcmFwaGljcy5ib3hIZWlnaHQgLyBvcmlnaW5hbFZpZXdIZWlnaHQ7XHJcbiAgICBcclxuICAgIC8vIFBlcmZvcm0gcmUtc2NhbGUgYW5kIHJlLXBvc2l0aW9uLlxyXG4gICAgdGhpcy5zY2FsZS54ID0gc2NhbGVYO1xyXG4gICAgdGhpcy5zY2FsZS55ID0gc2NhbGVZO1xyXG5cclxuICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnBpY3R1cmVQb3NUeXBlID09PSBcIlZpcnR1YWwgQ29vcmRpbmF0ZXNcIikge1xyXG5cclxuICAgIHZhciBzdyA9IGJpdG1hcC53aWR0aCAqIHNjYWxlWDtcclxuICAgIHZhciBzaCA9IGJpdG1hcC5oZWlnaHQgKiBzY2FsZVk7XHJcbiAgICB2YXIgZHggPSB4ICogKHN3IC8gZHcpO1xyXG4gICAgdmFyIGR5ID0geSAqIChzaCAvIGRoKTtcclxuXHJcbiAgICB0aGlzLnggPSBNYXRoLmZsb29yKGR4KTtcclxuICAgIHRoaXMueSA9IE1hdGguZmxvb3IoZHkpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgdGhpcy54ID0gTWF0aC5mbG9vcih4KTtcclxuICAgIHRoaXMueSA9IE1hdGguZmxvb3IoeSk7XHJcblxyXG4gICAgfVxyXG5cclxufTtcclxuXHJcbnZhciBhbGlhc19TcHJpdGVfUGljdHVyZV91cGRhdGUgPSBTcHJpdGVfUGljdHVyZS5wcm90b3R5cGUudXBkYXRlO1xyXG5TcHJpdGVfUGljdHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBhbGlhc19TcHJpdGVfUGljdHVyZV91cGRhdGUuY2FsbCh0aGlzKTtcclxuICAgIGlmKHRoaXMudmlzaWJsZSAmJiBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5pc0F1dG9TY2FsZWRQaWN0dXJlKSB7XHJcbiAgICB0aGlzLnVwZGF0ZUF1dG9TY2FsZSgpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy8jZW5kcmVnaW9uXHJcblxyXG4vLyNyZWdpb24gUmVzY2FsaW5nIEJhY2tncm91bmRcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNjZW5lX0Jhc2VcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5TY2VuZV9CYXNlLnByb3RvdHlwZS5yZXF1ZXN0U3RyZXRjaCA9IGZ1bmN0aW9uIChzcHJpdGUpIHtcclxuICAgIGlmKCFzcHJpdGUuYml0bWFwKSByZXR1cm47XHJcbiAgICB2YXIgYml0bWFwID0gc3ByaXRlLmJpdG1hcDtcclxuICAgIGlmKGJpdG1hcC53aWR0aCA8PSAwKSByZXR1cm47XHJcbiAgICBpZihiaXRtYXAuaGVpZ2h0IDw9IDApIHJldHVybjtcclxuICAgIHZhciBzY2FsZVggPSBHcmFwaGljcy5ib3hXaWR0aCAvIGJpdG1hcC53aWR0aDtcclxuICAgIHZhciBzY2FsZVkgPSBHcmFwaGljcy5ib3hIZWlnaHQgLyBiaXRtYXAuaGVpZ2h0O1xyXG4gICAgc3ByaXRlLnNjYWxlLnggPSAoc2NhbGVYID4gMS4wKSA/IHNjYWxlWCA6IDEuMDtcclxuICAgIHNwcml0ZS5zY2FsZS55ID0gKHNjYWxlWSA+IDEuMCkgPyBzY2FsZVkgOiAxLjA7XHJcbiAgICBzcHJpdGUueCA9IEdyYXBoaWNzLmJveFdpZHRoIC8gMjtcclxuICAgIHNwcml0ZS55ID0gR3JhcGhpY3MuYm94SGVpZ2h0IC8gMjtcclxuICAgIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcclxuICAgIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcclxufTtcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBTY2VuZV9NZW51QmFzZVxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnZhciBhbGlhc19TY2VuZV9NZW51QmFzZV9zdGFydCA9IFNjZW5lX01lbnVCYXNlLnByb3RvdHlwZS5zdGFydDtcclxuU2NlbmVfTWVudUJhc2UucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBhbGlhc19TY2VuZV9NZW51QmFzZV9zdGFydC5jYWxsKHRoaXMpO1xyXG4gICAgdGhpcy5yZXF1ZXN0U3RyZXRjaCh0aGlzLl9iYWNrZ3JvdW5kU3ByaXRlKTtcclxufTtcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBXaW5kb3dcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pZihSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5kZWZhdWx0U2NyZWVuU2l6ZS54IDw9IDMyMCAmJiBcclxuICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLmRlZmF1bHRTY3JlZW5TaXplLnkgPD0gMjQwKSB7XHJcbiAgICB2YXIgYWxpYXNfV2luZG93X0NvbW1hbmRfd2luZG93V2lkdGggPSBXaW5kb3dfQ29tbWFuZC5wcm90b3R5cGUud2luZG93V2lkdGg7XHJcbiAgICBXaW5kb3dfQ29tbWFuZC5wcm90b3R5cGUud2luZG93V2lkdGggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKGFsaWFzX1dpbmRvd19Db21tYW5kX3dpbmRvd1dpZHRoLmNhbGwodGhpcykpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdmFyIGFsaWFzX1dpbmRvd19Db21tYW5kX2xpbmVIZWlnaHQgPSBXaW5kb3dfQ29tbWFuZC5wcm90b3R5cGUubGluZUhlaWdodDtcclxuICAgIFdpbmRvd19Db21tYW5kLnByb3RvdHlwZS5saW5lSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoaWNzLmdldFZpcnR1YWxIZWlnaHQoYWxpYXNfV2luZG93X0NvbW1hbmRfbGluZUhlaWdodC5jYWxsKHRoaXMpKTtcclxuICAgIH07ICBcclxuICAgIFxyXG4gICAgdmFyIGFsaWFzX1dpbmRvd19CYXNlX3N0YW5kYXJkRm9udFNpemUgPSBXaW5kb3dfQmFzZS5wcm90b3R5cGUuc3RhbmRhcmRGb250U2l6ZTtcclxuICAgIFdpbmRvd19CYXNlLnByb3RvdHlwZS5zdGFuZGFyZEZvbnRTaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoaWNzLmdldFZpcnR1YWxIZWlnaHQoYWxpYXNfV2luZG93X0Jhc2Vfc3RhbmRhcmRGb250U2l6ZS5jYWxsKHRoaXMpKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHZhciBhbGlhc19XaW5kb3dfQmFzZV9zdGFuZGFyZFBhZGRpbmcgPSBXaW5kb3dfQmFzZS5wcm90b3R5cGUuc3RhbmRhcmRQYWRkaW5nO1xyXG4gICAgV2luZG93X0Jhc2UucHJvdG90eXBlLnN0YW5kYXJkUGFkZGluZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBHcmFwaGljcy5nZXRWaXJ0dWFsV2lkdGgoYWxpYXNfV2luZG93X0Jhc2Vfc3RhbmRhcmRQYWRkaW5nLmNhbGwodGhpcykpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdmFyIGFsaWFzX1dpbmRvd19TZWxlY3RhYmxlX3NwYWNpbmcgPSBXaW5kb3dfU2VsZWN0YWJsZS5wcm90b3R5cGUuc3BhY2luZztcclxuICAgIFdpbmRvd19TZWxlY3RhYmxlLnByb3RvdHlwZS5zcGFjaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoaWNzLmdldFZpcnR1YWxXaWR0aChhbGlhc19XaW5kb3dfU2VsZWN0YWJsZV9zcGFjaW5nLmNhbGwodGhpcykpO1xyXG4gICAgfTsgIFxyXG4gICAgXHJcbiAgICB2YXIgYWxpYXNfV2luZG93X09wdGlvbnNfd2luZG93V2lkdGggPSBXaW5kb3dfT3B0aW9ucy5wcm90b3R5cGUud2luZG93V2lkdGg7XHJcbiAgICBXaW5kb3dfT3B0aW9ucy5wcm90b3R5cGUud2luZG93V2lkdGggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKCBhbGlhc19XaW5kb3dfT3B0aW9uc193aW5kb3dXaWR0aC5jYWxsKHRoaXMpICk7XHJcbiAgICB9OyAgICAgICAgICAgICAgIFxyXG4gICAgXHJcbiAgICB2YXIgYWxpYXNfV2luZG93X09wdGlvbnNfc3RhdHVzV2lkdGggPSBXaW5kb3dfT3B0aW9ucy5wcm90b3R5cGUuc3RhdHVzV2lkdGg7XHJcbiAgICBXaW5kb3dfT3B0aW9ucy5wcm90b3R5cGUuc3RhdHVzV2lkdGggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKCBhbGlhc19XaW5kb3dfT3B0aW9uc19zdGF0dXNXaWR0aC5jYWxsKHRoaXMpICk7XHJcbiAgICB9OyAgICAgICAgICBcclxuICAgIFxyXG4gICAgY2xhc3MgV2luZG93X01lbnVDb21tYW5kSW1wbCBleHRlbmRzIFdpbmRvd19NZW51Q29tbWFuZCB7XHJcbiAgICAgICAgd2luZG93V2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoaWNzLmdldFZpcnR1YWxXaWR0aChzdXBlci53aW5kb3dXaWR0aCgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHdpbmRvdy5XaW5kb3dfTWVudUNvbW1hbmQgPSBXaW5kb3dfTWVudUNvbW1hbmRJbXBsOyAgIFxyXG4gICAgXHJcbiAgICBjbGFzcyBXaW5kb3dfTWVudVN0YXR1c0ltcGwgZXh0ZW5kcyBXaW5kb3dfTWVudVN0YXR1cyB7XHJcbiAgICAgICAgd2luZG93V2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoaWNzLmJveFdpZHRoIC0gR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKDI0MCk7XHJcbiAgICAgICAgfSAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB3aW5kb3cuV2luZG93X01lbnVTdGF0dXMgPSBXaW5kb3dfTWVudVN0YXR1c0ltcGw7ICAgIFxyXG4gICAgXHJcbiAgICBjbGFzcyBXaW5kb3dfR29sZEltcGwgZXh0ZW5kcyBXaW5kb3dfR29sZCB7XHJcbiAgICAgICAgd2luZG93V2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoaWNzLmdldFZpcnR1YWxXaWR0aCggc3VwZXIud2luZG93V2lkdGgoKSApO1xyXG4gICAgICAgIH0gICAgXHJcbiAgICB9ICAgXHJcbiAgICBcclxuICAgIHdpbmRvdy5XaW5kb3dfR29sZCA9IFdpbmRvd19Hb2xkSW1wbDtcclxuICAgIFxyXG4gICAgY2xhc3MgV2luZG93X0dhbWVFbmRJbXBsIGV4dGVuZHMgV2luZG93X0dhbWVFbmQge1xyXG4gICAgICAgIHdpbmRvd1dpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiBHcmFwaGljcy5nZXRWaXJ0dWFsV2lkdGgoIHN1cGVyLndpbmRvd1dpZHRoKCkgKTtcclxuICAgICAgICB9ICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgd2luZG93LldpbmRvd19HYW1lRW5kID0gV2luZG93X0dhbWVFbmRJbXBsO1xyXG59XHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU2NlbmVfVGl0bGVcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jbGFzcyBXaW5kb3dfVGl0bGVDb21tYW5kSW1wbCBleHRlbmRzIFdpbmRvd19UaXRsZUNvbW1hbmQge1xyXG5cclxuICAgIHVwZGF0ZVBsYWNlbWVudCgpIHtcclxuICAgIHRoaXMueCA9IChHcmFwaGljcy5ib3hXaWR0aCAtIHRoaXMud2lkdGgpIC8gMjtcclxuICAgIHRoaXMueSA9IEdyYXBoaWNzLmJveEhlaWdodCAtIHRoaXMuaGVpZ2h0IC0gR3JhcGhpY3MuZ2V0VmlydHVhbEhlaWdodCg5Nik7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93V2lkdGgoKSB7XHJcbiAgICByZXR1cm4gR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKHN1cGVyLndpbmRvd1dpZHRoKCkpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxud2luZG93LldpbmRvd19UaXRsZUNvbW1hbmQgPSBXaW5kb3dfVGl0bGVDb21tYW5kSW1wbDtcclxuXHJcbnZhciBhbGlhc19TY2VuZV9UaXRsZV9zdGFydCA9IFNjZW5lX1RpdGxlLnByb3RvdHlwZS5zdGFydDtcclxuU2NlbmVfVGl0bGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBhbGlhc19TY2VuZV9UaXRsZV9zdGFydC5jYWxsKHRoaXMpO1xyXG4gICAgdGhpcy5yZXF1ZXN0U3RyZXRjaCh0aGlzLl9iYWNrU3ByaXRlMSk7XHJcbiAgICB0aGlzLnJlcXVlc3RTdHJldGNoKHRoaXMuX2JhY2tTcHJpdGUyKTtcclxufTtcclxuXHJcblNjZW5lX1RpdGxlLnByb3RvdHlwZS5kcmF3R2FtZVRpdGxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgeCA9IDIwO1xyXG4gICAgdmFyIHkgPSBHcmFwaGljcy5oZWlnaHQgLyA0O1xyXG4gICAgdmFyIG1heFdpZHRoID0gR3JhcGhpY3Mud2lkdGggLSB4ICogMjtcclxuICAgIHZhciB0ZXh0ID0gJGRhdGFTeXN0ZW0uZ2FtZVRpdGxlO1xyXG5cclxuICAgIHRoaXMuX2dhbWVUaXRsZVNwcml0ZS5iaXRtYXAub3V0bGluZUNvbG9yID0gJ2JsYWNrJztcclxuICAgIHRoaXMuX2dhbWVUaXRsZVNwcml0ZS5iaXRtYXAub3V0bGluZVdpZHRoID0gR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKDgpO1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlLmJpdG1hcC5mb250U2l6ZSA9IEdyYXBoaWNzLmdldFZpcnR1YWxIZWlnaHQoNzIpO1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlLmJpdG1hcC5kcmF3VGV4dCh0ZXh0LCB4LCB5LCBtYXhXaWR0aCwgR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKDQ4KSwgJ2NlbnRlcicpO1xyXG59O1xyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNjZW5lX0dhbWVvdmVyXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIGFsaWFzX1NjZW5lX0dhbWVvdmVyX3N0YXJ0ID0gU2NlbmVfR2FtZW92ZXIucHJvdG90eXBlLnN0YXJ0O1xyXG5TY2VuZV9HYW1lb3Zlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcclxuICAgIGFsaWFzX1NjZW5lX0dhbWVvdmVyX3N0YXJ0LmNhbGwodGhpcyk7XHJcbiAgICB0aGlzLnJlcXVlc3RTdHJldGNoKHRoaXMuX2JhY2tTcHJpdGUpO1xyXG59O1xyXG5cclxuLy8jZW5kcmVnaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n')},function(module,exports){eval("//============================================================================\r\n// Game_Interpreter\r\n//============================================================================\r\n\r\nvar alias_Game_Interpreter_pluginCommand = Game_Interpreter.prototype.pluginCommand;\r\nGame_Interpreter.prototype.pluginCommand = function(command, args) {\r\n    alias_Game_Interpreter_pluginCommand.call(this, command, args);\r\n    if(command === \"ScreenManager\") {\r\n        switch(args[0]) {\r\n        case 'Start':\r\n            if(Utils.isNwjs()) {\r\n            SceneManager.push(ScreenManager);\r\n            }\r\n            break;\r\n        }\r\n    }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvR2FtZV9JbnRlcnByZXRlci5qcz80ZmQ2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBHYW1lX0ludGVycHJldGVyXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIGFsaWFzX0dhbWVfSW50ZXJwcmV0ZXJfcGx1Z2luQ29tbWFuZCA9IEdhbWVfSW50ZXJwcmV0ZXIucHJvdG90eXBlLnBsdWdpbkNvbW1hbmQ7XHJcbkdhbWVfSW50ZXJwcmV0ZXIucHJvdG90eXBlLnBsdWdpbkNvbW1hbmQgPSBmdW5jdGlvbihjb21tYW5kLCBhcmdzKSB7XHJcbiAgICBhbGlhc19HYW1lX0ludGVycHJldGVyX3BsdWdpbkNvbW1hbmQuY2FsbCh0aGlzLCBjb21tYW5kLCBhcmdzKTtcclxuICAgIGlmKGNvbW1hbmQgPT09IFwiU2NyZWVuTWFuYWdlclwiKSB7XHJcbiAgICAgICAgc3dpdGNoKGFyZ3NbMF0pIHtcclxuICAgICAgICBjYXNlICdTdGFydCc6XHJcbiAgICAgICAgICAgIGlmKFV0aWxzLmlzTndqcygpKSB7XHJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5wdXNoKFNjcmVlbk1hbmFnZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./lib/parameters.js\nvar parameters = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./lib/public.js\n\r\n\r\nwindow.Imported = Imported || {};\r\nwindow.Imported.RS_ScreenManager = true;\r\n\r\nwindow.RS = RS || {};\r\nwindow.RS.ScreenManager = RS.ScreenManager || {};\r\nwindow.RS.ScreenManager.Params = RS.ScreenManager.Params || {};\r\n\r\n\r\n\r\nRS.ScreenManager.jsonParse = function (str) {\r\n    var retData = JSON.parse(str, function (k, v) {\r\n    try { return RS.ScreenManager.jsonParse(v); } catch (e) { return v; }\r\n    });\r\n    return retData;\r\n};\r\n\r\nvar getTargetRegex = /(\\d+)[ ]x[ ](\\d+)/i;\r\n\r\n/**\r\n * @type {{resize: Boolean, autoScaling: Boolean, minWidth: Boolean, minHeight: Boolean, recreate: Boolean, allResolutions: Boolean, aspectRatio: Boolean, isAutoSyncManifest: Boolean}}\r\n */\r\nvar options = {};\r\nvar settings = {};\r\n\r\noptions.resize = Boolean(parameters["a" /* default */][\'isGraphicsRendererResize\'] === \'true\');\r\noptions.autoScaling = Boolean(parameters["a" /* default */][\'isGraphicsRendererResize\'] === \'true\');\r\noptions.minWidth = Boolean(parameters["a" /* default */][\'isMaintainingMinimumWidth\'] === \'true\');\r\noptions.minHeight = Boolean(parameters["a" /* default */][\'isMaintainingMinimumHeight\'] === \'true\');\r\noptions.recreate = Boolean(parameters["a" /* default */][\'isMaintainingMinimumHeight\'] === \'true\');\r\noptions.allResolutions = Boolean(parameters["a" /* default */][\'Use All Resolutions\'] === \'true\');\r\noptions.aspectRatio = Boolean(parameters["a" /* default */][\'Enable Custom Aspect Ratio\'] === \'true\');\r\noptions.isAutoSyncManifest = Boolean(parameters["a" /* default */][\'Auto Sync Manifest file\'] === \'true\');\r\n\r\nsettings.customAspectRatio = parameters["a" /* default */][\'Custom Aspect Ratio\'] || "16:9";\r\nsettings.customAspectRatio = settings.customAspectRatio.trim().split(":");\r\nsettings.ptCustomScreenSize = String(parameters["a" /* default */]["Default Screen Size"] || \'1280 x 720\').split(\' x \');\r\nsettings.defaultScreenSize = new Point(\r\n    (parseInt(settings.ptCustomScreenSize[0]) || 1280),\r\n    (parseInt(settings.ptCustomScreenSize[1]) || 720));\r\nsettings.pcGraphicsArray = [];\r\nsettings.pcGraphicsTempArray = RS.ScreenManager.jsonParse(parameters["a" /* default */]["PC"]);\r\nsettings.mobileGraphicsArray = RS.ScreenManager.jsonParse(parameters["a" /* default */]["Mobile"]);\r\nsettings.resolutionQualityOnMobile = RS.ScreenManager.jsonParse(parameters["a" /* default */]["Mobile Simple"]);\r\nsettings.state = "ready";\r\n\r\n// Parameters\r\nRS.ScreenManager.Params.settings = settings;\r\nRS.ScreenManager.Params.options = options;\r\nRS.ScreenManager.Params.fullscreenFlag = false;\r\nRS.ScreenManager.Params.isUsedNodeLibrary = Boolean(parameters["a" /* default */]["Bind Node Library"] === "true");\r\n\r\nRS.ScreenManager.Params.isAutoScaledPicture = Boolean(parameters["a" /* default */]["Scaled Picture"] === "true");\r\n\r\nRS.ScreenManager.Params.ignoreAutoScalePictures = RS.ScreenManager.jsonParse(parameters["a" /* default */]["Ignore Auto Scale"]);\r\n\r\nRS.ScreenManager.Params.originalPictureViewSize = RS.ScreenManager.jsonParse(parameters["a" /* default */]["Original View Size"]);\r\n\r\n/**\r\n * Screen Size : 1280, 720\r\n * Picture\'s Size : 816, 614,\r\n * Picture\'s Position : 816, 614\r\n * Actual Coordinates : 816, 614\r\n * Virtual Coordinates (Maintain ratio) : 1280, 720\r\n */\r\nRS.ScreenManager.Params.picturePosType = parameters["a" /* default */]["Picture Position Type"] || "Actual Coordinates";\r\n\r\n/**\r\n * if it is to true, it adds resolution select button in the option window.\r\n */\r\nRS.ScreenManager.Params.isValidOptionWindow = Utils.isMobileDevice() ? false : true;\r\n\r\nRS.ScreenManager.Params.isValidScaledBattleback = Boolean(parameters["a" /* default */]["Scaled Battleback"] === "true");\r\n\r\nRS.ScreenManager.Params.actorFunc = {\r\n    moveToStartPosition: RS.ScreenManager.jsonParse(parameters["a" /* default */]["ActorFunc.moveToStartPosition"]),\r\n    setActorHome: RS.ScreenManager.jsonParse(parameters["a" /* default */]["ActorFunc.setActorHome"]),\r\n    stepForward: RS.ScreenManager.jsonParse(parameters["a" /* default */]["ActorFunc.stepForward"]),\r\n    stepBack: RS.ScreenManager.jsonParse(parameters["a" /* default */]["ActorFunc.stepBack"]),\r\n    retreat: RS.ScreenManager.jsonParse(parameters["a" /* default */]["ActorFunc.retreat"]),\r\n};\n// EXTERNAL MODULE: ./lib/core.js\nvar core = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./lib/localization.js\nvar localization = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./lib/utils.js\nvar utils = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./lib/loadDLL.js\nvar loadDLL = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./lib/ScreenConfig.js\nvar ScreenConfig = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./lib/Graphics.js\nvar Graphics = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./lib/Scene_Boot.js\nvar Scene_Boot = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./lib/SceneManager.js\nvar SceneManager = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./lib/ScreenManager.js\nvar ScreenManager = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./lib/Game_System.js\nvar Game_System = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./lib/Window_Options.js\nvar Window_Options = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./lib/Window_ResolutionList.js\nvar Window_ResolutionList = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./lib/ResizeGraphicsObjects.js\nvar ResizeGraphicsObjects = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./lib/Game_Interpreter.js\nvar Game_Interpreter = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./lib/index.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvcHVibGljLmpzPzkwNGEiLCJ3ZWJwYWNrOi8vLy4vbGliL2luZGV4LmpzPzliMGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7O0FBRWI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRXNDOztBQUV0QztBQUNBO0FBQ0EsU0FBUyxzQ0FBc0MsRUFBRSxZQUFZLFVBQVU7QUFDdkUsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBLHlCQUF5Qiw2QkFBVTtBQUNuQyw4QkFBOEIsNkJBQVU7QUFDeEMsMkJBQTJCLDZCQUFVO0FBQ3JDLDRCQUE0Qiw2QkFBVTtBQUN0QywyQkFBMkIsNkJBQVU7QUFDckMsaUNBQWlDLDZCQUFVO0FBQzNDLDhCQUE4Qiw2QkFBVTtBQUN4QyxxQ0FBcUMsNkJBQVU7O0FBRS9DLDZCQUE2Qiw2QkFBVTtBQUN2QztBQUNBLHFDQUFxQyw2QkFBVTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCw2QkFBVTtBQUNwRSwwREFBMEQsNkJBQVU7QUFDcEUsZ0VBQWdFLDZCQUFVO0FBQzFFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELDZCQUFVOztBQUU5RCxzREFBc0QsNkJBQVU7O0FBRWhFLDZFQUE2RSw2QkFBVTs7QUFFdkYsNkVBQTZFLDZCQUFVOztBQUV2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyw2QkFBVTs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMERBQTBELDZCQUFVOztBQUVwRTtBQUNBLG9EQUFvRCw2QkFBVTtBQUM5RCw2Q0FBNkMsNkJBQVU7QUFDdkQsNENBQTRDLDZCQUFVO0FBQ3RELHlDQUF5Qyw2QkFBVTtBQUNuRCx3Q0FBd0MsNkJBQVU7QUFDbEQsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqRnFCO0FBQ0Y7QUFDUTtBQUNQO0FBQ0U7QUFDSztBQUNKO0FBQ0U7QUFDRTtBQUNDO0FBQ0Y7QUFDRztBQUNPO0FBQ0EiLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbndpbmRvdy5JbXBvcnRlZCA9IEltcG9ydGVkIHx8IHt9O1xyXG53aW5kb3cuSW1wb3J0ZWQuUlNfU2NyZWVuTWFuYWdlciA9IHRydWU7XHJcblxyXG53aW5kb3cuUlMgPSBSUyB8fCB7fTtcclxud2luZG93LlJTLlNjcmVlbk1hbmFnZXIgPSBSUy5TY3JlZW5NYW5hZ2VyIHx8IHt9O1xyXG53aW5kb3cuUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMgPSBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcyB8fCB7fTtcclxuXHJcbmltcG9ydCBwYXJhbWV0ZXJzIGZyb20gXCIuL3BhcmFtZXRlcnNcIjtcclxuXHJcblJTLlNjcmVlbk1hbmFnZXIuanNvblBhcnNlID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgdmFyIHJldERhdGEgPSBKU09OLnBhcnNlKHN0ciwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgIHRyeSB7IHJldHVybiBSUy5TY3JlZW5NYW5hZ2VyLmpzb25QYXJzZSh2KTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gdjsgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmV0RGF0YTtcclxufTtcclxuXHJcbnZhciBnZXRUYXJnZXRSZWdleCA9IC8oXFxkKylbIF14WyBdKFxcZCspL2k7XHJcblxyXG4vKipcclxuICogQHR5cGUge3tyZXNpemU6IEJvb2xlYW4sIGF1dG9TY2FsaW5nOiBCb29sZWFuLCBtaW5XaWR0aDogQm9vbGVhbiwgbWluSGVpZ2h0OiBCb29sZWFuLCByZWNyZWF0ZTogQm9vbGVhbiwgYWxsUmVzb2x1dGlvbnM6IEJvb2xlYW4sIGFzcGVjdFJhdGlvOiBCb29sZWFuLCBpc0F1dG9TeW5jTWFuaWZlc3Q6IEJvb2xlYW59fVxyXG4gKi9cclxudmFyIG9wdGlvbnMgPSB7fTtcclxudmFyIHNldHRpbmdzID0ge307XHJcblxyXG5vcHRpb25zLnJlc2l6ZSA9IEJvb2xlYW4ocGFyYW1ldGVyc1snaXNHcmFwaGljc1JlbmRlcmVyUmVzaXplJ10gPT09ICd0cnVlJyk7XHJcbm9wdGlvbnMuYXV0b1NjYWxpbmcgPSBCb29sZWFuKHBhcmFtZXRlcnNbJ2lzR3JhcGhpY3NSZW5kZXJlclJlc2l6ZSddID09PSAndHJ1ZScpO1xyXG5vcHRpb25zLm1pbldpZHRoID0gQm9vbGVhbihwYXJhbWV0ZXJzWydpc01haW50YWluaW5nTWluaW11bVdpZHRoJ10gPT09ICd0cnVlJyk7XHJcbm9wdGlvbnMubWluSGVpZ2h0ID0gQm9vbGVhbihwYXJhbWV0ZXJzWydpc01haW50YWluaW5nTWluaW11bUhlaWdodCddID09PSAndHJ1ZScpO1xyXG5vcHRpb25zLnJlY3JlYXRlID0gQm9vbGVhbihwYXJhbWV0ZXJzWydpc01haW50YWluaW5nTWluaW11bUhlaWdodCddID09PSAndHJ1ZScpO1xyXG5vcHRpb25zLmFsbFJlc29sdXRpb25zID0gQm9vbGVhbihwYXJhbWV0ZXJzWydVc2UgQWxsIFJlc29sdXRpb25zJ10gPT09ICd0cnVlJyk7XHJcbm9wdGlvbnMuYXNwZWN0UmF0aW8gPSBCb29sZWFuKHBhcmFtZXRlcnNbJ0VuYWJsZSBDdXN0b20gQXNwZWN0IFJhdGlvJ10gPT09ICd0cnVlJyk7XHJcbm9wdGlvbnMuaXNBdXRvU3luY01hbmlmZXN0ID0gQm9vbGVhbihwYXJhbWV0ZXJzWydBdXRvIFN5bmMgTWFuaWZlc3QgZmlsZSddID09PSAndHJ1ZScpO1xyXG5cclxuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW8gPSBwYXJhbWV0ZXJzWydDdXN0b20gQXNwZWN0IFJhdGlvJ10gfHwgXCIxNjo5XCI7XHJcbnNldHRpbmdzLmN1c3RvbUFzcGVjdFJhdGlvID0gc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW8udHJpbSgpLnNwbGl0KFwiOlwiKTtcclxuc2V0dGluZ3MucHRDdXN0b21TY3JlZW5TaXplID0gU3RyaW5nKHBhcmFtZXRlcnNbXCJEZWZhdWx0IFNjcmVlbiBTaXplXCJdIHx8ICcxMjgwIHggNzIwJykuc3BsaXQoJyB4ICcpO1xyXG5zZXR0aW5ncy5kZWZhdWx0U2NyZWVuU2l6ZSA9IG5ldyBQb2ludChcclxuICAgIChwYXJzZUludChzZXR0aW5ncy5wdEN1c3RvbVNjcmVlblNpemVbMF0pIHx8IDEyODApLFxyXG4gICAgKHBhcnNlSW50KHNldHRpbmdzLnB0Q3VzdG9tU2NyZWVuU2l6ZVsxXSkgfHwgNzIwKSk7XHJcbnNldHRpbmdzLnBjR3JhcGhpY3NBcnJheSA9IFtdO1xyXG5zZXR0aW5ncy5wY0dyYXBoaWNzVGVtcEFycmF5ID0gUlMuU2NyZWVuTWFuYWdlci5qc29uUGFyc2UocGFyYW1ldGVyc1tcIlBDXCJdKTtcclxuc2V0dGluZ3MubW9iaWxlR3JhcGhpY3NBcnJheSA9IFJTLlNjcmVlbk1hbmFnZXIuanNvblBhcnNlKHBhcmFtZXRlcnNbXCJNb2JpbGVcIl0pO1xyXG5zZXR0aW5ncy5yZXNvbHV0aW9uUXVhbGl0eU9uTW9iaWxlID0gUlMuU2NyZWVuTWFuYWdlci5qc29uUGFyc2UocGFyYW1ldGVyc1tcIk1vYmlsZSBTaW1wbGVcIl0pO1xyXG5zZXR0aW5ncy5zdGF0ZSA9IFwicmVhZHlcIjtcclxuXHJcbi8vIFBhcmFtZXRlcnNcclxuUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcblJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmZ1bGxzY3JlZW5GbGFnID0gZmFsc2U7XHJcblJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmlzVXNlZE5vZGVMaWJyYXJ5ID0gQm9vbGVhbihwYXJhbWV0ZXJzW1wiQmluZCBOb2RlIExpYnJhcnlcIl0gPT09IFwidHJ1ZVwiKTtcclxuXHJcblJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmlzQXV0b1NjYWxlZFBpY3R1cmUgPSBCb29sZWFuKHBhcmFtZXRlcnNbXCJTY2FsZWQgUGljdHVyZVwiXSA9PT0gXCJ0cnVlXCIpO1xyXG5cclxuUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuaWdub3JlQXV0b1NjYWxlUGljdHVyZXMgPSBSUy5TY3JlZW5NYW5hZ2VyLmpzb25QYXJzZShwYXJhbWV0ZXJzW1wiSWdub3JlIEF1dG8gU2NhbGVcIl0pO1xyXG5cclxuUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3JpZ2luYWxQaWN0dXJlVmlld1NpemUgPSBSUy5TY3JlZW5NYW5hZ2VyLmpzb25QYXJzZShwYXJhbWV0ZXJzW1wiT3JpZ2luYWwgVmlldyBTaXplXCJdKTtcclxuXHJcbi8qKlxyXG4gKiBTY3JlZW4gU2l6ZSA6IDEyODAsIDcyMFxyXG4gKiBQaWN0dXJlJ3MgU2l6ZSA6IDgxNiwgNjE0LFxyXG4gKiBQaWN0dXJlJ3MgUG9zaXRpb24gOiA4MTYsIDYxNFxyXG4gKiBBY3R1YWwgQ29vcmRpbmF0ZXMgOiA4MTYsIDYxNFxyXG4gKiBWaXJ0dWFsIENvb3JkaW5hdGVzIChNYWludGFpbiByYXRpbykgOiAxMjgwLCA3MjBcclxuICovXHJcblJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnBpY3R1cmVQb3NUeXBlID0gcGFyYW1ldGVyc1tcIlBpY3R1cmUgUG9zaXRpb24gVHlwZVwiXSB8fCBcIkFjdHVhbCBDb29yZGluYXRlc1wiO1xyXG5cclxuLyoqXHJcbiAqIGlmIGl0IGlzIHRvIHRydWUsIGl0IGFkZHMgcmVzb2x1dGlvbiBzZWxlY3QgYnV0dG9uIGluIHRoZSBvcHRpb24gd2luZG93LlxyXG4gKi9cclxuUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuaXNWYWxpZE9wdGlvbldpbmRvdyA9IFV0aWxzLmlzTW9iaWxlRGV2aWNlKCkgPyBmYWxzZSA6IHRydWU7XHJcblxyXG5SUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5pc1ZhbGlkU2NhbGVkQmF0dGxlYmFjayA9IEJvb2xlYW4ocGFyYW1ldGVyc1tcIlNjYWxlZCBCYXR0bGViYWNrXCJdID09PSBcInRydWVcIik7XHJcblxyXG5SUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5hY3RvckZ1bmMgPSB7XHJcbiAgICBtb3ZlVG9TdGFydFBvc2l0aW9uOiBSUy5TY3JlZW5NYW5hZ2VyLmpzb25QYXJzZShwYXJhbWV0ZXJzW1wiQWN0b3JGdW5jLm1vdmVUb1N0YXJ0UG9zaXRpb25cIl0pLFxyXG4gICAgc2V0QWN0b3JIb21lOiBSUy5TY3JlZW5NYW5hZ2VyLmpzb25QYXJzZShwYXJhbWV0ZXJzW1wiQWN0b3JGdW5jLnNldEFjdG9ySG9tZVwiXSksXHJcbiAgICBzdGVwRm9yd2FyZDogUlMuU2NyZWVuTWFuYWdlci5qc29uUGFyc2UocGFyYW1ldGVyc1tcIkFjdG9yRnVuYy5zdGVwRm9yd2FyZFwiXSksXHJcbiAgICBzdGVwQmFjazogUlMuU2NyZWVuTWFuYWdlci5qc29uUGFyc2UocGFyYW1ldGVyc1tcIkFjdG9yRnVuYy5zdGVwQmFja1wiXSksXHJcbiAgICByZXRyZWF0OiBSUy5TY3JlZW5NYW5hZ2VyLmpzb25QYXJzZShwYXJhbWV0ZXJzW1wiQWN0b3JGdW5jLnJldHJlYXRcIl0pLFxyXG59OyIsImltcG9ydCBcIi4vcHVibGljLmpzXCI7XHJcbmltcG9ydCBcIi4vY29yZS5qc1wiO1xyXG5pbXBvcnQgXCIuL2xvY2FsaXphdGlvbi5qc1wiO1xyXG5pbXBvcnQgXCIuL3V0aWxzLmpzXCI7XHJcbmltcG9ydCBcIi4vbG9hZERMTC5qc1wiO1xyXG5pbXBvcnQgXCIuL1NjcmVlbkNvbmZpZy5qc1wiO1xyXG5pbXBvcnQgXCIuL0dyYXBoaWNzLmpzXCI7XHJcbmltcG9ydCBcIi4vU2NlbmVfQm9vdC5qc1wiO1xyXG5pbXBvcnQgXCIuL1NjZW5lTWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgXCIuL1NjcmVlbk1hbmFnZXIuanNcIjtcclxuaW1wb3J0IFwiLi9HYW1lX1N5c3RlbS5qc1wiO1xyXG5pbXBvcnQgXCIuL1dpbmRvd19PcHRpb25zLmpzXCI7XHJcbmltcG9ydCBcIi4vV2luZG93X1Jlc29sdXRpb25MaXN0LmpzXCI7XHJcbmltcG9ydCBcIi4vUmVzaXplR3JhcGhpY3NPYmplY3RzLmpzXCI7XHJcbmltcG9ydCBcIi4vR2FtZV9JbnRlcnByZXRlci5qc1wiOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n')}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFBT0EsSUFDdEQsRUFBUEUsR0FBNEIsaUJBQVRGLEVBQW1CLElBQUksSUFBSU0sS0FBT04sRUFBT3JCLEVBQW9CVSxFQUFFZSxFQUFJRSxFQUFLLFNBQVNBLEdBQU8sT0FBT04sRUFBTU0sSUFBUUMsS0FBSyxLQUFNRCxJQUM5SSxPQUFPRixHQUlSekIsRUFBb0I2QixFQUFJLFNBQVMxQixHQUNoQyxJQUFJUyxFQUFTVCxHQUFVQSxFQUFPcUIsV0FDN0IsV0FBd0IsT0FBT3JCLEVBQWdCLFNBQy9DLFdBQThCLE9BQU9BLEdBRXRDLE9BREFILEVBQW9CVSxFQUFFRSxFQUFRLElBQUtBLEdBQzVCQSxHQUlSWixFQUFvQmEsRUFBSSxTQUFTaUIsRUFBUUMsR0FBWSxPQUFPakIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLdUIsRUFBUUMsSUFHekcvQixFQUFvQmtDLEVBQUksR0FJakJsQyxFQUFvQkEsRUFBb0JtQyxFQUFJLEkiLCJmaWxlIjoiUlNfU2NyZWVuTWFuYWdlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyMCk7XG4iXSwic291cmNlUm9vdCI6IiJ9