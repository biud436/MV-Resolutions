//================================================================
// RS_ScreenManager.js
// ---------------------------------------------------------------
// The MIT License
// Copyright (c) 2016 biud436
// ---------------------------------------------------------------
// Free for commercial and non commercial use.
//================================================================

/*:
 * @plugindesc (v1.0.21) <RS_ScreenManager>
 * @author biud436
 *
 * @param Test Options
 * @text Options
 *
 * @param options.resize
 * @text options.resize
 * @type boolean
 * @parent Test Options
 * @desc This is the parameter for resizing the graphics renderer
 * @default false
 * @on true
 * @off false
 *
 * @param options.autoScaling
 * @text options.autoScaling
 * @type boolean
 * @parent Test Options
 * @desc This is the parameter for scaling the graphics objects.
 * @default false
 * @on true
 * @off false
 *
 * @param options.minWidth
 * @text options.minWidth
 * @parent Test Options
 * @type boolean
 * @desc Set whether it can not set the width is less than minimum width
 * @default true
 * @on true
 * @off false
 *
 * @param options.minHeight
 * @text options.minHeight
 * @parent Test Options
 * @type boolean
 * @desc Set whether it can not set the width is less than minimum height
 * @default true
 * @on true
 * @off false
 *
 * @param Scene Options
 * @text Scene Options
 *
 * @param Recreate Scene
 * @text Recreate Scene
 * @parent Scene Options
 * @type boolean
 * @desc To set as true, the current scene will recreate after changing screen size
 * @default true
 *
 * @param Use All Resolutions
 * @text Use All Resolutions
 * @parent Scene Options
 * @type boolean
 * @desc Sets whether resolution gets even if the resolution of your device is not supported.
 * @default false
 *
 * @param Enable Custom Aspect Ratio
 * @text Enable Custom Aspect Ratio
 * @parent Scene Options
 * @type boolean
 * @desc In case of true, the screen size will convert to fit a custom aspect ratio.
 * @default true
 *
 * @param Custom Aspect Ratio
 * @text Custom Aspect Ratio
 * @parent Scene Options
 * @type select
 * @desc Specify the aspect ratio as you want.
 * @default 16:9
 * @option 16:9 (Wide Screen)
 * @value 16:9
 * @option 4:3
 * @value 4:3
 * 
 * @param Auto Sync Manifest file
 * @text Auto Sync Manifest file
 * @parent Scene Options
 * @type boolean
 * @desc if true, it can be changed the manifest file when resizing the window in RPG Maker MV v1.6.1 with NwJs
 * @default false
 * @on true
 * @off false
 *
 * @param Screen Size
 * @text Screen Size
 *
 * @param Default Screen Size
 * @text Default Screen Size
 * @parent Screen Size
 * @type select
 * @desc This parameter allows you to change your default game screen size
 * Note that the screen size limited on you available screen size
 * @default 1280 x 720
 * @option 320 x 240 (4:3)
 * @value 320 x 240
 * @option 544 x 416 (17:13)
 * @value 544 x 416
 * @option 640 x 480 (4:3)
 * @value 640 x 480
 * @option 800 x 600 (4:3)
 * @value 800 x 600
 * @option 816 x 624 (17:13)
 * @value 816 x 624
 * @option 1024 x 768 (4:3)
 * @value 1024 x 768
 * @option 1152 x 864 (4:3)
 * @value 1152 x 864
 * @option 1280 x 720 (16:9)
 * @value 1280 x 720
 * @option 1280 x 800 (8:5)
 * @value 1280 x 800
 * @option 1280 x 960 (4:3)
 * @value 1280 x 960
 * @option 1360 x 768 (85:48)
 * @value 1360 x 768
 * @option 1366 x 768 (683:384)
 * @value 1366 x 768
 * @option 1400 x 1050 (4:3)
 * @value 1400 x 1050
 * @option 1440 x 900 (8:5)
 * @value 1440 x 900
 * @option 1600 x 900 (16:9)
 * @value 1600 x 900
 * @option 1600 x 1200 (4:3)
 * @value 1600 x 1200
 * @option 1680 x 1050 (8:5)
 * @value 1680 x 1050
 * @option 1920 x 1080 (16:9)
 * @value 1920 x 1080
 * @option 1920 x 1200 (8:5)
 * @value 1920 x 1200
 * @option 2048 x 1152 (16:9)
 * @value 2048 x 1152
 * @option 2560 x 1440 (16:9)
 * @value 2560 x 1440
 * @option 2560 x 1600 (8:5)
 * @value 2560 x 1600
 *
 * @param Default Graphics Size
 * @text Default Graphics Size
 * @parent Screen Size
 * @type select
 * @desc This parameter allows you to change your default graphics size
 * @default 1280 x 720
 * @option 320 x 240 (4:3)
 * @value 320 x 240
 * @option 544 x 416 (17:13)
 * @value 544 x 416
 * @option 640 x 480 (4:3)
 * @value 640 x 480
 * @option 800 x 600 (4:3)
 * @value 800 x 600
 * @option 816 x 624 (17:13)
 * @value 816 x 624
 * @option 1024 x 768 (4:3)
 * @value 1024 x 768
 * @option 1152 x 864 (4:3)
 * @value 1152 x 864
 * @option 1280 x 720 (16:9)
 * @value 1280 x 720
 * @option 1280 x 800 (8:5)
 * @value 1280 x 800
 * @option 1280 x 960 (4:3)
 * @value 1280 x 960
 * @option 1360 x 768 (85:48)
 * @value 1360 x 768
 * @option 1366 x 768 (683:384)
 * @value 1366 x 768
 * @option 1400 x 1050 (4:3)
 * @value 1400 x 1050
 * @option 1440 x 900 (8:5)
 * @value 1440 x 900
 * @option 1600 x 900 (16:9)
 * @value 1600 x 900
 * @option 1600 x 1200 (4:3)
 * @value 1600 x 1200
 * @option 1680 x 1050 (8:5)
 * @value 1680 x 1050
 * @option 1920 x 1080 (16:9)
 * @value 1920 x 1080
 * @option 1920 x 1200 (8:5)
 * @value 1920 x 1200
 * @option 2048 x 1152 (16:9)
 * @value 2048 x 1152
 * @option 2560 x 1440 (16:9)
 * @value 2560 x 1440
 * @option 2560 x 1600 (8:5)
 * @value 2560 x 1600
 * 
 * @param Temp
 * 
 * @param PC
 * @parent Temp
 * @type struct<ScreenSize>[]
 * @desc it is using pre-written resolutions when it failed to bind node extension.
 * @default ["{\"width\":\"640\",\"height\":\"480\"}","{\"width\":\"800\",\"height\":\"600\"}","{\"width\":\"1024\",\"height\":\"768\"}","{\"width\":\"1152\",\"height\":\"864\"}","{\"width\":\"1280\",\"height\":\"720\"}","{\"width\":\"1280\",\"height\":\"800\"}","{\"width\":\"1280\",\"height\":\"960\"}","{\"width\":\"1360\",\"height\":\"768\"}","{\"width\":\"1360\",\"height\":\"768\"}","{\"width\":\"1366\",\"height\":\"768\"}","{\"width\":\"1400\",\"height\":\"1050\"}","{\"width\":\"1440\",\"height\":\"900\"}","{\"width\":\"1600\",\"height\":\"900\"}","{\"width\":\"1600\",\"height\":\"1200\"}","{\"width\":\"1680\",\"height\":\"1050\"}","{\"width\":\"1920\",\"height\":\"1080\"}","{\"width\":\"1920\",\"height\":\"1200\"}","{\"width\":\"2048\",\"height\":\"1152\"}","{\"width\":\"2560\",\"height\":\"1440\"}","{\"width\":\"2560\",\"height\":\"1600\"}"]
 * 
 * @param Mobile
 * @parent Temp
 * @type struct<ScreenSize>[]
 * @desc Set as the resolution list automatically in the mobile device.
 * @default ["{\"width\":\"120\",\"height\":\"160\"}","{\"width\":\"160\",\"height\":\"240\"}","{\"width\":\"240\",\"height\":\"320\"}","{\"width\":\"240\",\"height\":\"400\"}","{\"width\":\"320\",\"height\":\"480\"}","{\"width\":\"480\",\"height\":\"800\"}","{\"width\":\"640\",\"height\":\"960\"}","{\"width\":\"640\",\"height\":\"1136\"}","{\"width\":\"720\",\"height\":\"1280\"}","{\"width\":\"750\",\"height\":\"1334\"}","{\"width\":\"768\",\"height\":\"1024\"}","{\"width\":\"768\",\"height\":\"1280\"}","{\"width\":\"800\",\"height\":\"1280\"}","{\"width\":\"1080\",\"height\":\"1920\"}","{\"width\":\"1200\",\"height\":\"1920\"}","{\"width\":\"1242\",\"height\":\"2208\"}","{\"width\":\"1440\",\"height\":\"2560\"}","{\"width\":\"1536\",\"height\":\"2048\"}","{\"width\":\"1600\",\"height\":\"2560\"}","{\"width\":\"2048\",\"height\":\"2732\"}"]
 * 
 * @param Mobile Simple
 * @parent Temp
 * @type struct<ScreenSize>[]
 * @desc Set the list for display resolution.
 * @default ["{\"width\":\"320\",\"height\":\"480\"}","{\"width\":\"480\",\"height\":\"800\"}","{\"width\":\"720\",\"height\":\"1280\"}","{\"width\":\"1080\",\"height\":\"1920\"}"]
 * 
 * @param Localization
 * @type struct<Localization>
 * @desc Set texts that required a localization.
 * @default {"Language":"navigator.language.slice(0, 2)","Localization":"[\"{\\\"lang\\\":\\\"en\\\",\\\"Resolutions\\\":\\\"Resolutions\\\",\\\"Aspect Ratio\\\":\\\"Aspect Ratio\\\",\\\"Display Resolutions\\\":\\\"Display Resolutions\\\",\\\"Full Screen\\\":\\\"Full Screen\\\",\\\"NotFoundError\\\":\\\"Couldn't find the node library needed to set the resolution\\\",\\\"NotFoundNwExe\\\":\\\"Please you must change the name of the executable file to nw.exe\\\",\\\"MobileResolutions\\\":\\\"[\\\\\\\"Low\\\\\\\", \\\\\\\"Medium\\\\\\\", \\\\\\\"High\\\\\\\", \\\\\\\"Very High\\\\\\\"]\\\",\\\"Windowed Mode\\\":\\\"Windowed Mode\\\"}\",\"{\\\"lang\\\":\\\"ko\\\",\\\"Resolutions\\\":\\\"해상도\\\",\\\"Aspect Ratio\\\":\\\"종횡비\\\",\\\"Display Resolutions\\\":\\\"해상도 목록\\\",\\\"Full Screen\\\":\\\"전체 화면\\\",\\\"NotFoundError\\\":\\\"해상도 설정에 필요한 라이브러리를 찾지 못했습니다\\\",\\\"NotFoundNwExe\\\":\\\"실행 파일명을 nw.exe로 변경하시기 바랍니다.\\\",\\\"MobileResolutions\\\":\\\"[\\\\\\\"낮음\\\\\\\",\\\\\\\"보통\\\\\\\",\\\\\\\"높음\\\\\\\",\\\\\\\"매우 높음\\\\\\\"]\\\",\\\"Windowed Mode\\\":\\\"창 모드\\\"}\"]"}
 * 
 * @param Module
 * 
 * @param Bind Node Library
 * @parent Module
 * @type boolean
 * @desc it obtains resolutions from the node extension on Windows. if not, it gets pre-written resolutions in plugin parameters.
 * @default false
 * @on true
 * @off false
 * 
 * @param Pictures
 * 
 * @param Scaled Picture
 * @parent Pictures
 * @type boolean
 * @desc Resize the picture to fit the actual resolution ratio.
 * @default false
 * @on true
 * @off false
 * 
 * @param Picture Position Type
 * @parent Pictures
 * @type combo
 * @desc Please select picture positioning method when resizing.
 * @default Virtual Coordinates
 * @option Actual Coordinates
 * @option Virtual Coordinates
 * 
 * @param Ignore Auto Scale
 * @parent Pictures
 * @type number[]
 * @desc Sometimes it must ignore auto-scale.
 * @min 1
 * @default []
 * 
 * @param Original View Size
 * @parent Pictures
 * @type struct<ScreenSize>
 * @desc Specify the original screen size.
 * @default {"width":"816","height":"624"}
 * 
 * @param BattleField
 * 
 * @param Scaled Battleback
 * @parent BattleField
 * @type boolean
 * @desc it can rescale battle background images to fit with Graphics' area.
 * @default false
 * 
 * @param ActorFunc.moveToStartPosition
 * @parent BattleField
 * @type note
 * @desc it can change certain code blocks.
 * @default "        // This value is the same as 300 in the vanilla mode.\n        var dx = Math.floor(Graphics.boxWidth * 0.36764705882352944);\n        this.startMove(dx, 0, 0);"
 * 
 * @param ActorFunc.setActorHome
 * @parent BattleField
 * @type note
 * @desc it can change certain code blocks.
 * @default "        var dx = Math.floor(Graphics.boxWidth * 0.7352941176470589);\n        var dy = Math.floor(Graphics.boxHeight * 0.44871794871794873);\n        var tileWidth = Math.floor(Graphics.boxWidth * 0.0392156862745098);\n        var tileHeight = Math.floor(Graphics.boxHeight * 0.07692307692307693);\n        this.setHome(dx + index * tileWidth, dy + index * tileHeight);"
 * 
 * @param ActorFunc.stepForward
 * @parent BattleField
 * @type note
 * @desc it can change certain code blocks.
 * @default "        var dx = Math.floor(Graphics.boxWidth * 0.058823529411764705);\n        this.startMove(-dx, 0, 12);"
 * 
 * @param ActorFunc.stepBack
 * @parent BattleField
 * @type note
 * @desc it can change certain code blocks.
 * @default "       this.startMove(0, 0, 12);"
 * 
 * @param ActorFunc.retreat
 * @parent BattleField
 * @type note
 * @desc it can change certain code blocks.
 * @default "        var dx = Math.floor(Graphics.boxWidth * 0.36764705882352944);\n        this.startMove(dx, 0, 30);"
 * 
 * @help
 * =============================================================================
 * Introduction
 * =============================================================================
 * The ScreenManager plugin provides for more resolutions using a native addon written in C++.
 * However, In case of the native addon, it is only available yet in Windows OS x64 or ia32.
 * 
 * =============================================================================
 * Execution Environment
 * =============================================================================
 * In these execution environments, The native addons written in C++ have to need.
 * Native addon files must place it in your js/libs folder. (the file name ends with *.node)
 * 
 * RPG Maker MV v1.6.1 (nwjs : 0.29.4, Windows 10 x64)
 * RPG Maker MV v1.6.1 (nwjs : 0.33.4, Windows 10 x64)
 * RPG Maker MV v1.5.2 (nwjs : 0.12.3, Windows 10 x64)
 * 
 * However, Mac, iOS, Android, linux platforms don't need it.
 * Currently, They get the resolution from pre-written array, which includes width and height values.
 * it can be modified using plugin parameters if you want.
 * 
 * =============================================================================
 * Plugin Commands
 * =============================================================================
 * The ScreenManager scene already included in the game option.
 * But you can call its scene by using the plugin command if you want.
 * 
 * ScreenManager Start
 *
 * =============================================================================
 * Change Log
 * =============================================================================
 * 2016.10.04 (v1.0.0) - First Release.
 * 2016.10.24 (v1.0.1) - Added Resolution Button in Option.
 * 2016.11.26 (v1.0.2) - Added the function that recreates the scene.
 * 2017.05.28 (v1.0.3) - Added a new feature that the game screen size changes
 * automatically depending on an aspect ratio of the screen on mobile device.
 * 2017.05.29 (v1.0.4) - Added a new feature that can apply a custom aspect ratio.
 * 2017.05.30 (v1.0.5) :
 * - Added a new feature that is resized the game screen when starting the game.
 * - Fixed the problem that is not fitted a size of the background image
 * to a new screen size after resizing the screen.
 * 2017.05.30 (v1.0.6) :
 * - Fixed the function to get the width or the height of the screen on mobile.
 * - Added a new feature that relatively changes the area of the UI.
 * 2017.06.12 (v1.0.7) :
 * - Fixed the parameter about default screen width and height.
 * - Fixed an issue to incorrect scale the background (Scene_Title, Scene_MenuBase, Scene_Gameover)
 * - Fixed the default value of the 'Resize All Windows' parameter is to false.
 * 2017.11.24 (v1.0.8) :
 * - Fixed some issues that are not working in RMMV 1.6.0 (Beta)
 * - Now this plugin doesn't use the node webkit extension.
 * 2018.06.05 (v1.0.9) :
 * - Updated and Fixed the library correctly for getting the all resolutions.
 * - Added plugin parameters for setting the size of the screen (RPG Maker MV 1.5.0 Features)
 * 2018.08.01 (v1.0.10) - Added the try-catch statement.
 * 2018.09.02 (v1.0.11) - Fixed the method name called 'rescaleSprite' is to 'requestStretch' due to a crash.
 * 2018.10.11 (v1.0.12) :
 * - In RPG Maker MV 1.6.1, Fixed a nw-version of the node module is to 9.11.1
 * - Fixed the bug that the screen does not align properly to center.
 * 2018.10.23 (v1.0.13) :
 * - Added the feature that would save the option to a manifest file when closing the window in RPG Maker MV v1.6.1.
 * - Added the localization text for 'Windowed Mode'.
 * 2018.11.08 (v1.0.14) :
 * - Fixed the issue that is not set the size of the Graphics object with an aspect ratio when initializing.
 * 2019.03.22 (v1.0.16) :
 * - Fixed an issue that initial resolution was set incorrectly.
 * - The Resolution Option is no longer displayed on the mobile (because it's unstable)
 * - Added JSON Beautifier option in the package.json file.
 * - In the Test-Play mode, Now the alert window is not shown. (1.5.2 or less)
 * 2019.05.27 (v1.0.17) :
 * - Fixed the error that is always indicated the NaN when it couldn't load the addon.
 * 2019.12.16 (v1.0.18) :
 * - Picture rescaling added.
 * 2020.01.09 (v1.0.21) :
 * - Fixed the bug that couldn't change the scale of picture properly.
 * - Added the scaled battle background and then reposition actors (vanilla mode only)
 */
/*~struct~ScreenSize:
 *
 * @param width
 * @type number
 * @min 0
 * @desc Specify the desired width
 * @default 320
 *
 * @param height
 * @type number
 * @min 0
 * @desc Specify the desired height
 * @default 240
 * 
 */
/*~struct~Localization:
 * @param Language
 * @desc Extract the language code.
 * @default navigator.language.slice(0, 2)
 * 
 * @param Localization
 * @type struct<PrivateLocalization>[]
 * @desc Set the struct about the localization.
 * @default ["{\"lang\":\"en\",\"Resolutions\":\"Resolutions\",\"Aspect Ratio\":\"Aspect Ratio\",\"Display Resolutions\":\"Display Resolutions\",\"Full Screen\":\"Full Screen\",\"NotFoundError\":\"Couldn't find the node library needed to set the resolution\",\"NotFoundNwExe\":\"Please you must change the name of the executable file to nw.exe\",\"MobileResolutions\":\"[\\\"Low\\\", \\\"Medium\\\", \\\"High\\\", \\\"Very High\\\"]\"}","{\"lang\":\"ko\",\"Resolutions\":\"해상도\",\"Aspect Ratio\":\"종횡비\",\"Display Resolutions\":\"해상도 목록\",\"Full Screen\":\"전체 화면\",\"NotFoundError\":\"해상도 설정에 필요한 라이브러리를 찾지 못했습니다\",\"NotFoundNwExe\":\"실행 파일명을 nw.exe로 변경하시기 바랍니다.\",\"MobileResolutions\":\"[\\\"낮음\\\",\\\"보통\\\",\\\"높음\\\",\\\"매우 높음\\\"]\"}"]
 * 
 */
/*~struct~PrivateLocalization:
 *
 * @param lang
 * @desc Specify the lang code
 * @default en
 * 
 * @param Resolutions
 * @desc Specify the text for resolution.
 * @default Resolutions
 * 
 * @param Aspect Ratio
 * @desc Specify the text for aspect ratio.
 * @default Aspect Ratio
 * 
 * @param Display Resolutions
 * @desc Specify the text that indicates a diplay resolution.
 * @default Display Resolutions
 * 
 * @param Full Screen
 * @desc Specify the text that indicates a fullscreen option.
 * @default Full Screen
 * 
 * @param NotFoundError
 * @desc Specify the error text that being found the node library in your game directory.
 * @default Couldn't find the node library needed to set the resolution
 * 
 * @param NotFoundNwExe
 * @desc Specify the error text that is not found the nw.exe
 * @default Please you must change the name of the executable file to nw.exe
 * 
 * @param MobileResolutions
 * @type string[]
 * @desc Specify four resolution types in mobile device.
 * @default ["Low", "Medium", "High", "Very High"]
 * 
 * @param Windowed Mode
 * @desc Specify the text that indicates a Windowed Mode option.
 * @default Windowed Mode
 * 
 */!function(c){var n={};function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return c[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=c,l.c=n,l.d=function(c,n,t){l.o(c,n)||Object.defineProperty(c,n,{enumerable:!0,get:t})},l.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},l.t=function(c,n){if(1&n&&(c=l(c)),8&n)return c;if(4&n&&"object"==typeof c&&c&&c.__esModule)return c;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:c}),2&n&&"string"!=typeof c)for(var r in c)l.d(t,r,function(n){return c[n]}.bind(null,r));return t},l.n=function(c){var n=c&&c.__esModule?function(){return c.default}:function(){return c};return l.d(n,"a",n),n},l.o=function(c,n){return Object.prototype.hasOwnProperty.call(c,n)},l.p="",l(l.s=20)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("var parameters = $plugins.filter(function (i) {\r\n    return i.description.contains('<RS_ScreenManager>');\r\n});\r\n\r\nparameters = (parameters.length > 0) && parameters[0].parameters;\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (parameters);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvcGFyYW1ldGVycy5qcz8xMTM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVlLG1FQUFVIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcGFyYW1ldGVycyA9ICRwbHVnaW5zLmZpbHRlcihmdW5jdGlvbiAoaSkge1xyXG4gICAgcmV0dXJuIGkuZGVzY3JpcHRpb24uY29udGFpbnMoJzxSU19TY3JlZW5NYW5hZ2VyPicpO1xyXG59KTtcclxuXHJcbnBhcmFtZXRlcnMgPSAocGFyYW1ldGVycy5sZW5ndGggPiAwKSAmJiBwYXJhbWV0ZXJzWzBdLnBhcmFtZXRlcnM7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwYXJhbWV0ZXJzOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,exports){eval('module.exports = require("nw.gui");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJudy5ndWlcIj8yNTRiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJudy5ndWlcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n')},function(module,exports){eval('module.exports = require("path");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n')},function(module,exports){eval('module.exports = require("fs");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiP2E0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){eval('/**\r\n * Replace by target screen width and height values.\r\n */\r\nRS.ScreenManager.initWithMobile = function() {\r\n\r\n    function replaceBy(mod, cb) {\r\n    var item = JSON.stringify(mod);\r\n    item = item.replace("screen.availWidth", screen.availWidth);\r\n    item = item.replace("screen.availHeight", screen.availHeight);\r\n    item = item.replace("window.outerWidth", window.outerWidth);\r\n    item = item.replace("window.outerHeight", window.outerHeight);\r\n    mod = RS.ScreenManager.jsonParse(item);\r\n    cb(mod);\r\n    }\r\n\r\n    replaceBy(RS.ScreenManager.Params.settings.resolutionQualityOnMobile, function(mod) {\r\n    RS.ScreenManager.Params.settings.resolutionQualityOnMobile = mod;\r\n    });\r\n\r\n    replaceBy(RS.ScreenManager.Params.settings.mobileGraphicsArray, function(mod) {\r\n    RS.ScreenManager.Params.settings.mobileGraphicsArray = mod;\r\n    });    \r\n\r\n};\r\n\r\nRS.ScreenManager.initWithMobile();\r\n\r\n/**\r\n * Read a manifest file called \'package.json\'.\r\n */\r\nRS.ScreenManager.readManifestFile = function() {\r\n    if(Utils.RPGMAKER_VERSION < \'1.6.1\') return;\r\n    if(!Utils.isNwjs()) return;    \r\n    if(!RS.ScreenManager.Params.options.isAutoSyncManifest) return;\r\n    var fs = __webpack_require__(3);\r\n    var path = __webpack_require__(2);\r\n    var dirname = path.dirname(process.mainModule.filename);\r\n    var packageJsonPath = path.join(dirname, "package.json");\r\n    if(fs.existsSync(packageJsonPath)) {\r\n    var packageConfig = JSON.parse(fs.readFileSync(packageJsonPath, "utf8"));\r\n    var config = packageConfig.window;\r\n    if(config && config.fullscreen) {\r\n        RS.ScreenManager.Params.fullscreenFlag = config.fullscreen;\r\n        RS.ScreenManager.Params.settings.defaultScreenSize.x = config.width;\r\n        RS.ScreenManager.Params.settings.defaultScreenSize.y = config.height;\r\n        RS.ScreenManager.Params.settings.ptCustomScreenSize = RS.ScreenManager.Params.settings.defaultScreenSize.toString();\r\n    }\r\n    }    \r\n\r\n    var win = __webpack_require__(1).Window.get();\r\n\r\n    win.on(\'resize\', function(width, height) {\r\n    var f = RS.ScreenManager.isFullscreen();\r\n    RS.ScreenManager.changeManifestFile(width, height, f);\r\n    });\r\n\r\n};\r\n\r\nRS.ScreenManager.isWindowsTaskbarShown = function() {\r\n    return screen.availHeight !== screen.height;\r\n};\r\n\r\nRS.ScreenManager.switchFullScreen = function() {\r\n    if(Utils.isNwjs()) {\r\n    var gui = __webpack_require__(1);\r\n    var win = gui.Window.get(); \r\n    win.toggleFullscreen();\r\n    } else {\r\n    Graphics._switchFullScreen();;\r\n    }\r\n};\r\n\r\nRS.ScreenManager.isFullscreen = function() {\r\n    if(Utils.isNwjs()) {\r\n    var gui = __webpack_require__(1);\r\n    var win = gui.Window.get();\r\n    return win.appWindow.isFullscreen();\r\n    } else {\r\n    return Graphics._isFullScreen();\r\n    }\r\n};\r\n\r\n/**\r\n * Change the manifest file called \'package.json\' and then beautifies line spaces.\r\n */\r\nRS.ScreenManager.changeManifestFile = function(width, height, fullscreen) {\r\n\r\n    if(Utils.RPGMAKER_VERSION < \'1.6.1\') return;\r\n    var fs = __webpack_require__(3);\r\n    var path = __webpack_require__(2);\r\n    var dirname = path.dirname(process.mainModule.filename);\r\n    var packageJsonPath = path.join(dirname, "package.json");\r\n\r\n    var templatePackageConfig = {"name":"mytest","main":"index.html","js-flags":"--expose-gc","crhomium-args":"--disable-sync","window":{"title":"","toolbar":false,"width":RS.ScreenManager.Params.settings.defaultScreenSize.x,"height":RS.ScreenManager.Params.settings.defaultScreenSize.y, "icon":"icon/icon.png"}};    \r\n\r\n    // if the config file exists?\r\n    if(fs.existsSync(packageJsonPath)) {\r\n    var packageConfig = JSON.parse(fs.readFileSync(packageJsonPath, "utf8"));\r\n    packageConfig.window.width = width;\r\n    packageConfig.window.height = height;\r\n    packageConfig.window.fullscreen = fullscreen;\r\n\r\n    fs.writeFileSync(packageJsonPath, JSON.stringify(packageConfig, null, \'\\t\'));\r\n\r\n    } else {\r\n\r\n    fs.writeFileSync(packageJsonPath, JSON.stringify(templatePackageConfig, null, \'\\t\'));\r\n    return RS.ScreenManager.changeManifestFile(width, height, fullscreen);\r\n\r\n    }    \r\n    \r\n};\r\n\r\n/**\r\n * In the RPG Maker MV v1.5.2 or less, \r\n * if the executable file name is the same as Game.exe, it couldn\'t be read the node library. \r\n * So its name must change with \'nw.exe\' and then we must restart the game.\r\n */\r\nRS.ScreenManager.restartGame = function() {\r\n    var childProcess = __webpack_require__(5);\r\n    var path = __webpack_require__(2);\r\n    var projectPath = path.dirname(process.mainModule.filename);\r\n    childProcess.execFile(process.execPath, [projectPath], function(err) {\r\n    if(err) console.warn(err);\r\n    });\r\n};\r\n\r\n/**\r\n * https://stackoverflow.com/a/20339709\r\n * @param {Array} data \r\n */\r\nRS.ScreenManager.uniqArray = function(data) {\r\n    var uniqData = [];\r\n    var foundData = {};\r\n\r\n    data.forEach(function(i) {\r\n    var packData = JSON.stringify(i);\r\n    if(!foundData[packData]) {\r\n        uniqData.push(i);\r\n        foundData[packData] = true;\r\n    }\r\n    }, this);\r\n\r\n    return uniqData;    \r\n\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvMl9jb3JlLmpzPzAwNDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLLEU7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCO0FBQ0E7QUFDQSxhQUFhLG1CQUFPLENBQUMsQ0FBSTtBQUN6QixlQUFlLG1CQUFPLENBQUMsQ0FBTTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSzs7QUFFQSxjQUFjLG1CQUFPLENBQUMsQ0FBUTs7QUFFOUI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsbUJBQU8sQ0FBQyxDQUFRO0FBQzlCLCtCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLG1CQUFPLENBQUMsQ0FBUTtBQUM5QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsbUJBQU8sQ0FBQyxDQUFJO0FBQ3pCLGVBQWUsbUJBQU8sQ0FBQyxDQUFNO0FBQzdCO0FBQ0E7O0FBRUEsaUNBQWlDLHdHQUF3RyxnTDs7QUFFekk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQSxLOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtQkFBTyxDQUFDLENBQWU7QUFDOUMsZUFBZSxtQkFBTyxDQUFDLENBQU07QUFDN0I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTCxvQjs7QUFFQSIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFJlcGxhY2UgYnkgdGFyZ2V0IHNjcmVlbiB3aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcy5cclxuICovXHJcblJTLlNjcmVlbk1hbmFnZXIuaW5pdFdpdGhNb2JpbGUgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICBmdW5jdGlvbiByZXBsYWNlQnkobW9kLCBjYikge1xyXG4gICAgdmFyIGl0ZW0gPSBKU09OLnN0cmluZ2lmeShtb2QpO1xyXG4gICAgaXRlbSA9IGl0ZW0ucmVwbGFjZShcInNjcmVlbi5hdmFpbFdpZHRoXCIsIHNjcmVlbi5hdmFpbFdpZHRoKTtcclxuICAgIGl0ZW0gPSBpdGVtLnJlcGxhY2UoXCJzY3JlZW4uYXZhaWxIZWlnaHRcIiwgc2NyZWVuLmF2YWlsSGVpZ2h0KTtcclxuICAgIGl0ZW0gPSBpdGVtLnJlcGxhY2UoXCJ3aW5kb3cub3V0ZXJXaWR0aFwiLCB3aW5kb3cub3V0ZXJXaWR0aCk7XHJcbiAgICBpdGVtID0gaXRlbS5yZXBsYWNlKFwid2luZG93Lm91dGVySGVpZ2h0XCIsIHdpbmRvdy5vdXRlckhlaWdodCk7XHJcbiAgICBtb2QgPSBSUy5TY3JlZW5NYW5hZ2VyLmpzb25QYXJzZShpdGVtKTtcclxuICAgIGNiKG1vZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVwbGFjZUJ5KFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnJlc29sdXRpb25RdWFsaXR5T25Nb2JpbGUsIGZ1bmN0aW9uKG1vZCkge1xyXG4gICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MucmVzb2x1dGlvblF1YWxpdHlPbk1vYmlsZSA9IG1vZDtcclxuICAgIH0pO1xyXG5cclxuICAgIHJlcGxhY2VCeShSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5tb2JpbGVHcmFwaGljc0FycmF5LCBmdW5jdGlvbihtb2QpIHtcclxuICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLm1vYmlsZUdyYXBoaWNzQXJyYXkgPSBtb2Q7XHJcbiAgICB9KTsgICAgXHJcblxyXG59O1xyXG5cclxuUlMuU2NyZWVuTWFuYWdlci5pbml0V2l0aE1vYmlsZSgpO1xyXG5cclxuLyoqXHJcbiAqIFJlYWQgYSBtYW5pZmVzdCBmaWxlIGNhbGxlZCAncGFja2FnZS5qc29uJy5cclxuICovXHJcblJTLlNjcmVlbk1hbmFnZXIucmVhZE1hbmlmZXN0RmlsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYoVXRpbHMuUlBHTUFLRVJfVkVSU0lPTiA8ICcxLjYuMScpIHJldHVybjtcclxuICAgIGlmKCFVdGlscy5pc053anMoKSkgcmV0dXJuOyAgICBcclxuICAgIGlmKCFSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLmlzQXV0b1N5bmNNYW5pZmVzdCkgcmV0dXJuO1xyXG4gICAgdmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcclxuICAgIHZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG4gICAgdmFyIGRpcm5hbWUgPSBwYXRoLmRpcm5hbWUocHJvY2Vzcy5tYWluTW9kdWxlLmZpbGVuYW1lKTtcclxuICAgIHZhciBwYWNrYWdlSnNvblBhdGggPSBwYXRoLmpvaW4oZGlybmFtZSwgXCJwYWNrYWdlLmpzb25cIik7XHJcbiAgICBpZihmcy5leGlzdHNTeW5jKHBhY2thZ2VKc29uUGF0aCkpIHtcclxuICAgIHZhciBwYWNrYWdlQ29uZmlnID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocGFja2FnZUpzb25QYXRoLCBcInV0ZjhcIikpO1xyXG4gICAgdmFyIGNvbmZpZyA9IHBhY2thZ2VDb25maWcud2luZG93O1xyXG4gICAgaWYoY29uZmlnICYmIGNvbmZpZy5mdWxsc2NyZWVuKSB7XHJcbiAgICAgICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuZnVsbHNjcmVlbkZsYWcgPSBjb25maWcuZnVsbHNjcmVlbjtcclxuICAgICAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5kZWZhdWx0U2NyZWVuU2l6ZS54ID0gY29uZmlnLndpZHRoO1xyXG4gICAgICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLmRlZmF1bHRTY3JlZW5TaXplLnkgPSBjb25maWcuaGVpZ2h0O1xyXG4gICAgICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnB0Q3VzdG9tU2NyZWVuU2l6ZSA9IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLmRlZmF1bHRTY3JlZW5TaXplLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIHZhciB3aW4gPSByZXF1aXJlKCdudy5ndWknKS5XaW5kb3cuZ2V0KCk7XHJcblxyXG4gICAgd2luLm9uKCdyZXNpemUnLCBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICB2YXIgZiA9IFJTLlNjcmVlbk1hbmFnZXIuaXNGdWxsc2NyZWVuKCk7XHJcbiAgICBSUy5TY3JlZW5NYW5hZ2VyLmNoYW5nZU1hbmlmZXN0RmlsZSh3aWR0aCwgaGVpZ2h0LCBmKTtcclxuICAgIH0pO1xyXG5cclxufTtcclxuXHJcblJTLlNjcmVlbk1hbmFnZXIuaXNXaW5kb3dzVGFza2JhclNob3duID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gc2NyZWVuLmF2YWlsSGVpZ2h0ICE9PSBzY3JlZW4uaGVpZ2h0O1xyXG59O1xyXG5cclxuUlMuU2NyZWVuTWFuYWdlci5zd2l0Y2hGdWxsU2NyZWVuID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZihVdGlscy5pc053anMoKSkge1xyXG4gICAgdmFyIGd1aSA9IHJlcXVpcmUoJ253Lmd1aScpO1xyXG4gICAgdmFyIHdpbiA9IGd1aS5XaW5kb3cuZ2V0KCk7IFxyXG4gICAgd2luLnRvZ2dsZUZ1bGxzY3JlZW4oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICBHcmFwaGljcy5fc3dpdGNoRnVsbFNjcmVlbigpOztcclxuICAgIH1cclxufTtcclxuXHJcblJTLlNjcmVlbk1hbmFnZXIuaXNGdWxsc2NyZWVuID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZihVdGlscy5pc053anMoKSkge1xyXG4gICAgdmFyIGd1aSA9IHJlcXVpcmUoJ253Lmd1aScpO1xyXG4gICAgdmFyIHdpbiA9IGd1aS5XaW5kb3cuZ2V0KCk7XHJcbiAgICByZXR1cm4gd2luLmFwcFdpbmRvdy5pc0Z1bGxzY3JlZW4oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gR3JhcGhpY3MuX2lzRnVsbFNjcmVlbigpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoYW5nZSB0aGUgbWFuaWZlc3QgZmlsZSBjYWxsZWQgJ3BhY2thZ2UuanNvbicgYW5kIHRoZW4gYmVhdXRpZmllcyBsaW5lIHNwYWNlcy5cclxuICovXHJcblJTLlNjcmVlbk1hbmFnZXIuY2hhbmdlTWFuaWZlc3RGaWxlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgZnVsbHNjcmVlbikge1xyXG5cclxuICAgIGlmKFV0aWxzLlJQR01BS0VSX1ZFUlNJT04gPCAnMS42LjEnKSByZXR1cm47XHJcbiAgICB2YXIgZnMgPSByZXF1aXJlKCdmcycpO1xyXG4gICAgdmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XHJcbiAgICB2YXIgZGlybmFtZSA9IHBhdGguZGlybmFtZShwcm9jZXNzLm1haW5Nb2R1bGUuZmlsZW5hbWUpO1xyXG4gICAgdmFyIHBhY2thZ2VKc29uUGF0aCA9IHBhdGguam9pbihkaXJuYW1lLCBcInBhY2thZ2UuanNvblwiKTtcclxuXHJcbiAgICB2YXIgdGVtcGxhdGVQYWNrYWdlQ29uZmlnID0ge1wibmFtZVwiOlwibXl0ZXN0XCIsXCJtYWluXCI6XCJpbmRleC5odG1sXCIsXCJqcy1mbGFnc1wiOlwiLS1leHBvc2UtZ2NcIixcImNyaG9taXVtLWFyZ3NcIjpcIi0tZGlzYWJsZS1zeW5jXCIsXCJ3aW5kb3dcIjp7XCJ0aXRsZVwiOlwiXCIsXCJ0b29sYmFyXCI6ZmFsc2UsXCJ3aWR0aFwiOlJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLmRlZmF1bHRTY3JlZW5TaXplLngsXCJoZWlnaHRcIjpSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5kZWZhdWx0U2NyZWVuU2l6ZS55LCBcImljb25cIjpcImljb24vaWNvbi5wbmdcIn19OyAgICBcclxuXHJcbiAgICAvLyBpZiB0aGUgY29uZmlnIGZpbGUgZXhpc3RzP1xyXG4gICAgaWYoZnMuZXhpc3RzU3luYyhwYWNrYWdlSnNvblBhdGgpKSB7XHJcbiAgICB2YXIgcGFja2FnZUNvbmZpZyA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKHBhY2thZ2VKc29uUGF0aCwgXCJ1dGY4XCIpKTtcclxuICAgIHBhY2thZ2VDb25maWcud2luZG93LndpZHRoID0gd2lkdGg7XHJcbiAgICBwYWNrYWdlQ29uZmlnLndpbmRvdy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICBwYWNrYWdlQ29uZmlnLndpbmRvdy5mdWxsc2NyZWVuID0gZnVsbHNjcmVlbjtcclxuXHJcbiAgICBmcy53cml0ZUZpbGVTeW5jKHBhY2thZ2VKc29uUGF0aCwgSlNPTi5zdHJpbmdpZnkocGFja2FnZUNvbmZpZywgbnVsbCwgJ1xcdCcpKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgIGZzLndyaXRlRmlsZVN5bmMocGFja2FnZUpzb25QYXRoLCBKU09OLnN0cmluZ2lmeSh0ZW1wbGF0ZVBhY2thZ2VDb25maWcsIG51bGwsICdcXHQnKSk7XHJcbiAgICByZXR1cm4gUlMuU2NyZWVuTWFuYWdlci5jaGFuZ2VNYW5pZmVzdEZpbGUod2lkdGgsIGhlaWdodCwgZnVsbHNjcmVlbik7XHJcblxyXG4gICAgfSAgICBcclxuICAgIFxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEluIHRoZSBSUEcgTWFrZXIgTVYgdjEuNS4yIG9yIGxlc3MsIFxyXG4gKiBpZiB0aGUgZXhlY3V0YWJsZSBmaWxlIG5hbWUgaXMgdGhlIHNhbWUgYXMgR2FtZS5leGUsIGl0IGNvdWxkbid0IGJlIHJlYWQgdGhlIG5vZGUgbGlicmFyeS4gXHJcbiAqIFNvIGl0cyBuYW1lIG11c3QgY2hhbmdlIHdpdGggJ253LmV4ZScgYW5kIHRoZW4gd2UgbXVzdCByZXN0YXJ0IHRoZSBnYW1lLlxyXG4gKi9cclxuUlMuU2NyZWVuTWFuYWdlci5yZXN0YXJ0R2FtZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNoaWxkUHJvY2VzcyA9IHJlcXVpcmUoXCJjaGlsZF9wcm9jZXNzXCIpO1xyXG4gICAgdmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XHJcbiAgICB2YXIgcHJvamVjdFBhdGggPSBwYXRoLmRpcm5hbWUocHJvY2Vzcy5tYWluTW9kdWxlLmZpbGVuYW1lKTtcclxuICAgIGNoaWxkUHJvY2Vzcy5leGVjRmlsZShwcm9jZXNzLmV4ZWNQYXRoLCBbcHJvamVjdFBhdGhdLCBmdW5jdGlvbihlcnIpIHtcclxuICAgIGlmKGVycikgY29uc29sZS53YXJuKGVycik7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjAzMzk3MDlcclxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBcclxuICovXHJcblJTLlNjcmVlbk1hbmFnZXIudW5pcUFycmF5ID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgdmFyIHVuaXFEYXRhID0gW107XHJcbiAgICB2YXIgZm91bmREYXRhID0ge307XHJcblxyXG4gICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGkpIHtcclxuICAgIHZhciBwYWNrRGF0YSA9IEpTT04uc3RyaW5naWZ5KGkpO1xyXG4gICAgaWYoIWZvdW5kRGF0YVtwYWNrRGF0YV0pIHtcclxuICAgICAgICB1bmlxRGF0YS5wdXNoKGkpO1xyXG4gICAgICAgIGZvdW5kRGF0YVtwYWNrRGF0YV0gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgfSwgdGhpcyk7XHJcblxyXG4gICAgcmV0dXJuIHVuaXFEYXRhOyAgICBcclxuXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n')},function(module,exports){eval('module.exports = require("child_process");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjaGlsZF9wcm9jZXNzXCI/M2RhNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _parameters__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n\r\n\r\nvar PrivateLocalization = function () {};\r\n\r\nvar newLocalization = RS.ScreenManager.jsonParse(_parameters__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]["Localization"]);\r\nvar langCode = navigator.language.slice(0, 2);\r\n\r\nPrivateLocalization.prototype = {\r\n    "code": eval(newLocalization.Language),\r\n    "get": function (type) {\r\n    var code = this.code;\r\n    var lang = PrivateLocalization[code];\r\n    return (lang) ? lang[type] : PrivateLocalization.en[type];\r\n    }    \r\n};\r\n\r\nnewLocalization["Localization"].forEach(function(i) {\r\n    var lang = i.lang;\r\n    PrivateLocalization[lang] = i;\r\n});\r\n\r\nRS.ScreenManager.localization = new PrivateLocalization();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvM19sb2NhbGl6YXRpb24uanM/Nzc0YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFzQzs7QUFFdEM7O0FBRUEsaURBQWlELDJEQUFVO0FBQzNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEs7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGFyYW1ldGVycyBmcm9tIFwiLi9wYXJhbWV0ZXJzXCI7XHJcblxyXG52YXIgUHJpdmF0ZUxvY2FsaXphdGlvbiA9IGZ1bmN0aW9uICgpIHt9O1xyXG5cclxudmFyIG5ld0xvY2FsaXphdGlvbiA9IFJTLlNjcmVlbk1hbmFnZXIuanNvblBhcnNlKHBhcmFtZXRlcnNbXCJMb2NhbGl6YXRpb25cIl0pO1xyXG52YXIgbGFuZ0NvZGUgPSBuYXZpZ2F0b3IubGFuZ3VhZ2Uuc2xpY2UoMCwgMik7XHJcblxyXG5Qcml2YXRlTG9jYWxpemF0aW9uLnByb3RvdHlwZSA9IHtcclxuICAgIFwiY29kZVwiOiBldmFsKG5ld0xvY2FsaXphdGlvbi5MYW5ndWFnZSksXHJcbiAgICBcImdldFwiOiBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgdmFyIGNvZGUgPSB0aGlzLmNvZGU7XHJcbiAgICB2YXIgbGFuZyA9IFByaXZhdGVMb2NhbGl6YXRpb25bY29kZV07XHJcbiAgICByZXR1cm4gKGxhbmcpID8gbGFuZ1t0eXBlXSA6IFByaXZhdGVMb2NhbGl6YXRpb24uZW5bdHlwZV07XHJcbiAgICB9ICAgIFxyXG59O1xyXG5cclxubmV3TG9jYWxpemF0aW9uW1wiTG9jYWxpemF0aW9uXCJdLmZvckVhY2goZnVuY3Rpb24oaSkge1xyXG4gICAgdmFyIGxhbmcgPSBpLmxhbmc7XHJcbiAgICBQcml2YXRlTG9jYWxpemF0aW9uW2xhbmddID0gaTtcclxufSk7XHJcblxyXG5SUy5TY3JlZW5NYW5hZ2VyLmxvY2FsaXphdGlvbiA9IG5ldyBQcml2YXRlTG9jYWxpemF0aW9uKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n')},function(module,exports){eval('Utils.getAbsolutePath = function(defaultPath) {\r\n    var fileName = defaultPath.split("\\\\");\r\n    var driveName = fileName.shift();\r\n    fileName = driveName + "//" + fileName.join("/");\r\n\r\n    return fileName;\r\n\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvNF91dGlscy5qcz8xMDQzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJVdGlscy5nZXRBYnNvbHV0ZVBhdGggPSBmdW5jdGlvbihkZWZhdWx0UGF0aCkge1xyXG4gICAgdmFyIGZpbGVOYW1lID0gZGVmYXVsdFBhdGguc3BsaXQoXCJcXFxcXCIpO1xyXG4gICAgdmFyIGRyaXZlTmFtZSA9IGZpbGVOYW1lLnNoaWZ0KCk7XHJcbiAgICBmaWxlTmFtZSA9IGRyaXZlTmFtZSArIFwiLy9cIiArIGZpbGVOYW1lLmpvaW4oXCIvXCIpO1xyXG5cclxuICAgIHJldHVybiBmaWxlTmFtZTtcclxuXHJcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n')},function(module,exports,__webpack_require__){eval('//============================================================================\r\n// Load the node library and then retrieves information about the display RS.ScreenManager.Params.settings.\r\n// using the Windows API called EnumDisplaySetting(User32.dll)\r\n//============================================================================  \r\n\r\n(function initWithSettings() {\r\n    \r\n    "use strict";\r\n\r\n    try {\r\n    \r\n    if(Utils.isNwjs()) {\r\n\r\n        // if you didn\'t have node library, it will set as a default resolution list.\r\n        if(!RS.ScreenManager.Params.isUsedNodeLibrary) {\r\n            RS.ScreenManager.Params.settings.pcGraphicsArray = RS.ScreenManager.Params.settings.pcGraphicsTempArray;  \r\n            RS.ScreenManager.Params.options.allResolutions = true;\r\n            return;\r\n        }\r\n\r\n        var path = __webpack_require__(2), \r\n            fs = __webpack_require__(3),\r\n            platform = process.platform;\r\n        const base = process.mainModule.filename;\r\n\r\n        switch(platform) {\r\n        case \'win32\':\r\n            \r\n            var fileVersion = "v1.2.0";\r\n            var processArch = process.arch;\r\n\r\n            if(Utils.RPGMAKER_VERSION >= "1.6.1") {\r\n            /**\r\n             * Original Versions in RMMV 1.6.1 : \r\n                 ares: "1.13.0"\r\n                chromium: "65.0.3325.181"\r\n                cldr: "32.0"\r\n                http_parser: "2.8.0"\r\n                icu: "60.1"\r\n                modules: "59"\r\n                napi: "3"\r\n                nghttp2: "1.29.0"\r\n                node: "9.11.1"\r\n                node-webkit: "0.29.4"\r\n                nw: "0.29.4"\r\n                nw-commit-id: "6a254fe-1c00f31-b892847-deb9bc6"\r\n                nw-flavor: "sdk"\r\n                openssl: "1.0.2o"\r\n                tz: "2017c"\r\n                unicode: "10.0"\r\n                uv: "1.19.2"\r\n                v8: "6.5.254.41"\r\n                zlib: "1.2.11"\r\n\r\n            * Node Webkit Version in My Computer:\r\n                ares: "1.14.0"\r\n                chromium: "69.0.3497.100"\r\n                cldr: "33.1"\r\n                http_parser: "2.8.0"\r\n                icu: "62.1"\r\n                modules: "64"\r\n                napi: "3"\r\n                nghttp2: "1.33.0"\r\n                node: "10.11.0"\r\n                node-webkit: "0.33.4"\r\n                nw: "0.33.4"\r\n                nw-commit-id: "3d7302c-de9606e-577bc92-58acf98"\r\n                nw-flavor: "sdk"\r\n                openssl: "1.1.0i"\r\n                tz: "2018e"\r\n                unicode: "11.0"\r\n                uv: "1.23.0"\r\n                v8: "6.9.427.23"\r\n                zlib: "1.2.11"              \r\n                */\r\n            fileVersion = `v${process.versions.node}`;\r\n            }\r\n    \r\n            // It must change the filename as \'nw.exe\' in RPG Maker MV 1.5.2 or less.\r\n            if(process.versions.node == "1.2.0" && process.execPath.contains("Game.exe")) {\r\n\r\n            // if the game plays in the test play mode, it does not show up the alert window.\r\n            if(Utils.isOptionValid(\'test\') || Utils.isOptionValid(\'etest\') || Utils.isOptionValid(\'btest\')) {\r\n\r\n                RS.ScreenManager.Params.settings.state = "initialized";\r\n                RS.ScreenManager.Params.settings.pcGraphicsArray = RS.ScreenManager.Params.settings.pcGraphicsTempArray;\r\n                return;                       \r\n\r\n            } else {\r\n\r\n                window.alert(RS.ScreenManager.localization.get("NotFoundNwExe"));\r\n                var targetName = path.join(process.execPath, "..", "nw.exe");\r\n                fs.copyFile(process.execPath, targetName, "utf8", function(err, data) {});                  \r\n\r\n            }\r\n\r\n            }\r\n    \r\n            var fileName = path.join(base, ".." ,`js/libs/${fileVersion}-winDisplaySettings-${processArch}.node`);\r\n            fileName = Utils.getAbsolutePath(fileName);\r\n    \r\n            // if the library file exists?\r\n            if(fs.existsSync(fileName)) {\r\n    \r\n            var display = __webpack_require__(9)(fileName);\r\n    \r\n            // Remove duplicate items from the list.\r\n            var items = display.GetDisplaySettings();\r\n    \r\n            RS.ScreenManager.Params.settings.pcGraphicsArray = items;\r\n    \r\n            RS.ScreenManager.Params.settings.state = "initialized";\r\n    \r\n            } else {\r\n            window.alert(RS.ScreenManager.localization.get("NotFoundError"));\r\n            RS.ScreenManager.Params.settings.state = "failed";\r\n            // Set Default Resolution\r\n            RS.ScreenManager.Params.settings.pcGraphicsArray = RS.ScreenManager.Params.settings.pcGraphicsTempArray;\r\n            RS.ScreenManager.Params.options.allResolutions = true;\r\n            }     \r\n\r\n            break;\r\n\r\n        default:\r\n            // in case of Mac OS (base on darwin, linux)\r\n            RS.ScreenManager.Params.settings.pcGraphicsArray = RS.ScreenManager.Params.settings.pcGraphicsTempArray;\r\n            RS.ScreenManager.Params.options.allResolutions = true;\r\n            break;\r\n        }\r\n    }\r\n\r\n    } catch (error) {\r\n    console.warn(error);\r\n    RS.ScreenManager.Params.settings.pcGraphicsArray = RS.ScreenManager.Params.settings.pcGraphicsTempArray;\r\n    RS.ScreenManager.Params.options.allResolutions = true;\r\n    }\r\n\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvNV9sb2FkRExMLmpzP2FlZmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLG9IO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixtQkFBTyxDQUFDLENBQU07QUFDakMsaUJBQWlCLG1CQUFPLENBQUMsQ0FBSTtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsc0JBQXNCO0FBQ3BEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUI7O0FBRUEsYUFBYTs7QUFFYjtBQUNBO0FBQ0Esd0ZBQXdGLEU7O0FBRXhGOztBQUVBOztBQUVBLDREQUE0RCxZQUFZLHNCQUFzQixZQUFZO0FBQzFHOztBQUVBO0FBQ0E7O0FBRUEsMEJBQTBCLHVCQUFRLFFBQVEsQ0FBQzs7QUFFM0M7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJmaWxlIjoiOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBMb2FkIHRoZSBub2RlIGxpYnJhcnkgYW5kIHRoZW4gcmV0cmlldmVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBkaXNwbGF5IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLlxyXG4vLyB1c2luZyB0aGUgV2luZG93cyBBUEkgY2FsbGVkIEVudW1EaXNwbGF5U2V0dGluZyhVc2VyMzIuZGxsKVxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gIFxyXG5cclxuKGZ1bmN0aW9uIGluaXRXaXRoU2V0dGluZ3MoKSB7XHJcbiAgICBcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICBcclxuICAgIGlmKFV0aWxzLmlzTndqcygpKSB7XHJcblxyXG4gICAgICAgIC8vIGlmIHlvdSBkaWRuJ3QgaGF2ZSBub2RlIGxpYnJhcnksIGl0IHdpbGwgc2V0IGFzIGEgZGVmYXVsdCByZXNvbHV0aW9uIGxpc3QuXHJcbiAgICAgICAgaWYoIVJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmlzVXNlZE5vZGVMaWJyYXJ5KSB7XHJcbiAgICAgICAgICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnBjR3JhcGhpY3NBcnJheSA9IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnBjR3JhcGhpY3NUZW1wQXJyYXk7ICBcclxuICAgICAgICAgICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hbGxSZXNvbHV0aW9ucyA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpLCBcclxuICAgICAgICAgICAgZnMgPSByZXF1aXJlKCdmcycpLFxyXG4gICAgICAgICAgICBwbGF0Zm9ybSA9IHByb2Nlc3MucGxhdGZvcm07XHJcbiAgICAgICAgY29uc3QgYmFzZSA9IHByb2Nlc3MubWFpbk1vZHVsZS5maWxlbmFtZTtcclxuXHJcbiAgICAgICAgc3dpdGNoKHBsYXRmb3JtKSB7XHJcbiAgICAgICAgY2FzZSAnd2luMzInOlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIGZpbGVWZXJzaW9uID0gXCJ2MS4yLjBcIjtcclxuICAgICAgICAgICAgdmFyIHByb2Nlc3NBcmNoID0gcHJvY2Vzcy5hcmNoO1xyXG5cclxuICAgICAgICAgICAgaWYoVXRpbHMuUlBHTUFLRVJfVkVSU0lPTiA+PSBcIjEuNi4xXCIpIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIE9yaWdpbmFsIFZlcnNpb25zIGluIFJNTVYgMS42LjEgOiBcclxuICAgICAgICAgICAgICAgICBhcmVzOiBcIjEuMTMuMFwiXHJcbiAgICAgICAgICAgICAgICBjaHJvbWl1bTogXCI2NS4wLjMzMjUuMTgxXCJcclxuICAgICAgICAgICAgICAgIGNsZHI6IFwiMzIuMFwiXHJcbiAgICAgICAgICAgICAgICBodHRwX3BhcnNlcjogXCIyLjguMFwiXHJcbiAgICAgICAgICAgICAgICBpY3U6IFwiNjAuMVwiXHJcbiAgICAgICAgICAgICAgICBtb2R1bGVzOiBcIjU5XCJcclxuICAgICAgICAgICAgICAgIG5hcGk6IFwiM1wiXHJcbiAgICAgICAgICAgICAgICBuZ2h0dHAyOiBcIjEuMjkuMFwiXHJcbiAgICAgICAgICAgICAgICBub2RlOiBcIjkuMTEuMVwiXHJcbiAgICAgICAgICAgICAgICBub2RlLXdlYmtpdDogXCIwLjI5LjRcIlxyXG4gICAgICAgICAgICAgICAgbnc6IFwiMC4yOS40XCJcclxuICAgICAgICAgICAgICAgIG53LWNvbW1pdC1pZDogXCI2YTI1NGZlLTFjMDBmMzEtYjg5Mjg0Ny1kZWI5YmM2XCJcclxuICAgICAgICAgICAgICAgIG53LWZsYXZvcjogXCJzZGtcIlxyXG4gICAgICAgICAgICAgICAgb3BlbnNzbDogXCIxLjAuMm9cIlxyXG4gICAgICAgICAgICAgICAgdHo6IFwiMjAxN2NcIlxyXG4gICAgICAgICAgICAgICAgdW5pY29kZTogXCIxMC4wXCJcclxuICAgICAgICAgICAgICAgIHV2OiBcIjEuMTkuMlwiXHJcbiAgICAgICAgICAgICAgICB2ODogXCI2LjUuMjU0LjQxXCJcclxuICAgICAgICAgICAgICAgIHpsaWI6IFwiMS4yLjExXCJcclxuXHJcbiAgICAgICAgICAgICogTm9kZSBXZWJraXQgVmVyc2lvbiBpbiBNeSBDb21wdXRlcjpcclxuICAgICAgICAgICAgICAgIGFyZXM6IFwiMS4xNC4wXCJcclxuICAgICAgICAgICAgICAgIGNocm9taXVtOiBcIjY5LjAuMzQ5Ny4xMDBcIlxyXG4gICAgICAgICAgICAgICAgY2xkcjogXCIzMy4xXCJcclxuICAgICAgICAgICAgICAgIGh0dHBfcGFyc2VyOiBcIjIuOC4wXCJcclxuICAgICAgICAgICAgICAgIGljdTogXCI2Mi4xXCJcclxuICAgICAgICAgICAgICAgIG1vZHVsZXM6IFwiNjRcIlxyXG4gICAgICAgICAgICAgICAgbmFwaTogXCIzXCJcclxuICAgICAgICAgICAgICAgIG5naHR0cDI6IFwiMS4zMy4wXCJcclxuICAgICAgICAgICAgICAgIG5vZGU6IFwiMTAuMTEuMFwiXHJcbiAgICAgICAgICAgICAgICBub2RlLXdlYmtpdDogXCIwLjMzLjRcIlxyXG4gICAgICAgICAgICAgICAgbnc6IFwiMC4zMy40XCJcclxuICAgICAgICAgICAgICAgIG53LWNvbW1pdC1pZDogXCIzZDczMDJjLWRlOTYwNmUtNTc3YmM5Mi01OGFjZjk4XCJcclxuICAgICAgICAgICAgICAgIG53LWZsYXZvcjogXCJzZGtcIlxyXG4gICAgICAgICAgICAgICAgb3BlbnNzbDogXCIxLjEuMGlcIlxyXG4gICAgICAgICAgICAgICAgdHo6IFwiMjAxOGVcIlxyXG4gICAgICAgICAgICAgICAgdW5pY29kZTogXCIxMS4wXCJcclxuICAgICAgICAgICAgICAgIHV2OiBcIjEuMjMuMFwiXHJcbiAgICAgICAgICAgICAgICB2ODogXCI2LjkuNDI3LjIzXCJcclxuICAgICAgICAgICAgICAgIHpsaWI6IFwiMS4yLjExXCIgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZmlsZVZlcnNpb24gPSBgdiR7cHJvY2Vzcy52ZXJzaW9ucy5ub2RlfWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJdCBtdXN0IGNoYW5nZSB0aGUgZmlsZW5hbWUgYXMgJ253LmV4ZScgaW4gUlBHIE1ha2VyIE1WIDEuNS4yIG9yIGxlc3MuXHJcbiAgICAgICAgICAgIGlmKHByb2Nlc3MudmVyc2lvbnMubm9kZSA9PSBcIjEuMi4wXCIgJiYgcHJvY2Vzcy5leGVjUGF0aC5jb250YWlucyhcIkdhbWUuZXhlXCIpKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiB0aGUgZ2FtZSBwbGF5cyBpbiB0aGUgdGVzdCBwbGF5IG1vZGUsIGl0IGRvZXMgbm90IHNob3cgdXAgdGhlIGFsZXJ0IHdpbmRvdy5cclxuICAgICAgICAgICAgaWYoVXRpbHMuaXNPcHRpb25WYWxpZCgndGVzdCcpIHx8IFV0aWxzLmlzT3B0aW9uVmFsaWQoJ2V0ZXN0JykgfHwgVXRpbHMuaXNPcHRpb25WYWxpZCgnYnRlc3QnKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnN0YXRlID0gXCJpbml0aWFsaXplZFwiO1xyXG4gICAgICAgICAgICAgICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MucGNHcmFwaGljc0FycmF5ID0gUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MucGNHcmFwaGljc1RlbXBBcnJheTtcclxuICAgICAgICAgICAgICAgIHJldHVybjsgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24uZ2V0KFwiTm90Rm91bmROd0V4ZVwiKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0TmFtZSA9IHBhdGguam9pbihwcm9jZXNzLmV4ZWNQYXRoLCBcIi4uXCIsIFwibncuZXhlXCIpO1xyXG4gICAgICAgICAgICAgICAgZnMuY29weUZpbGUocHJvY2Vzcy5leGVjUGF0aCwgdGFyZ2V0TmFtZSwgXCJ1dGY4XCIsIGZ1bmN0aW9uKGVyciwgZGF0YSkge30pOyAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciBmaWxlTmFtZSA9IHBhdGguam9pbihiYXNlLCBcIi4uXCIgLGBqcy9saWJzLyR7ZmlsZVZlcnNpb259LXdpbkRpc3BsYXlTZXR0aW5ncy0ke3Byb2Nlc3NBcmNofS5ub2RlYCk7XHJcbiAgICAgICAgICAgIGZpbGVOYW1lID0gVXRpbHMuZ2V0QWJzb2x1dGVQYXRoKGZpbGVOYW1lKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBpZiB0aGUgbGlicmFyeSBmaWxlIGV4aXN0cz9cclxuICAgICAgICAgICAgaWYoZnMuZXhpc3RzU3luYyhmaWxlTmFtZSkpIHtcclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgZGlzcGxheSA9IHJlcXVpcmUoZmlsZU5hbWUpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBkdXBsaWNhdGUgaXRlbXMgZnJvbSB0aGUgbGlzdC5cclxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gZGlzcGxheS5HZXREaXNwbGF5U2V0dGluZ3MoKTtcclxuICAgIFxyXG4gICAgICAgICAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5wY0dyYXBoaWNzQXJyYXkgPSBpdGVtcztcclxuICAgIFxyXG4gICAgICAgICAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5zdGF0ZSA9IFwiaW5pdGlhbGl6ZWRcIjtcclxuICAgIFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aW5kb3cuYWxlcnQoUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24uZ2V0KFwiTm90Rm91bmRFcnJvclwiKSk7XHJcbiAgICAgICAgICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnN0YXRlID0gXCJmYWlsZWRcIjtcclxuICAgICAgICAgICAgLy8gU2V0IERlZmF1bHQgUmVzb2x1dGlvblxyXG4gICAgICAgICAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5wY0dyYXBoaWNzQXJyYXkgPSBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5wY0dyYXBoaWNzVGVtcEFycmF5O1xyXG4gICAgICAgICAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLmFsbFJlc29sdXRpb25zID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSAgICAgXHJcblxyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgLy8gaW4gY2FzZSBvZiBNYWMgT1MgKGJhc2Ugb24gZGFyd2luLCBsaW51eClcclxuICAgICAgICAgICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MucGNHcmFwaGljc0FycmF5ID0gUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MucGNHcmFwaGljc1RlbXBBcnJheTtcclxuICAgICAgICAgICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hbGxSZXNvbHV0aW9ucyA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS53YXJuKGVycm9yKTtcclxuICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnBjR3JhcGhpY3NBcnJheSA9IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnBjR3JhcGhpY3NUZW1wQXJyYXk7XHJcbiAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLmFsbFJlc29sdXRpb25zID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbn0pKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n')},function(module,exports){eval("function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 9;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIgc3luYz9mODFmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsV0FBVztBQUNsRDtBQUNBO0FBQ0EiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHdlYnBhY2tFbXB0eUNvbnRleHQocmVxKSB7XG5cdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHR0aHJvdyBlO1xufVxud2VicGFja0VtcHR5Q29udGV4dC5rZXlzID0gZnVuY3Rpb24oKSB7IHJldHVybiBbXTsgfTtcbndlYnBhY2tFbXB0eUNvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG53ZWJwYWNrRW1wdHlDb250ZXh0LmlkID0gOTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n")},function(module,exports){eval("//============================================================================\r\n// ScreenConfig\r\n//============================================================================\r\n\r\nfunction ScreenConfig() {\r\n    this.initialize.apply(this, arguments);\r\n};\r\n\r\nScreenConfig.prototype.constructor = ScreenConfig;\r\nScreenConfig.prototype.initialize = function (originWidth, originHeight, orientation) {\r\n    this._originWidth = originWidth;\r\n    this._originHeight = originHeight;\r\n    this._orientation = orientation;\r\n    this._aspectRatio = this.getRatio(originWidth, originHeight);\r\n};\r\n\r\nScreenConfig.prototype.gcd = function (p, q) {\r\n    var self = this;\r\n    if(q === 0) return p;\r\n\r\n    return this.gcd(q, p % q);\r\n\r\n};\r\n\r\nScreenConfig.prototype.getSize = function (virtualWidth) {\r\n    var ret, w, h;\r\n\r\n    w = parseInt(virtualWidth);\r\n    h = parseInt(Math.round(this.getHeight(virtualWidth)));\r\n    ret = [w, h];\r\n\r\n    return ret;\r\n};\r\n\r\nScreenConfig.prototype.getRatio = function (width, height) {\r\n    var gcd, ret;\r\n    if(width === height) return [1, 1];\r\n    gcd = this.gcd(width, height);\r\n    ret = [(width / gcd), (height / gcd)];\r\n    return ret;\r\n};\r\n\r\nScreenConfig.prototype.getRatioAsString = function (width, height) {\r\n    var gcd, temp, ret;\r\n    if(width === height) return [1, 1];\r\n    if(width < height) {\r\n    temp = width;\r\n    width = height;\r\n    height = temp;\r\n    }\r\n    gcd = this.gcd(width, height);\r\n    ret = Number(width / gcd) + ':' + Number(height / gcd);\r\n\r\n    return ret;\r\n\r\n};\r\n\r\nScreenConfig.prototype.getWidth = function (newHeight) {\r\n    var ar = this._aspectRatio;\r\n    var ratio = parseFloat(ar[0] / ar[1]);\r\n\r\n    return ratio * newHeight;\r\n\r\n};\r\n\r\nScreenConfig.prototype.getHeight = function (newWidth) {\r\n    var ar = this._aspectRatio;\r\n    var ratio = parseFloat(ar[1] / ar[0]);\r\n\r\n    return ratio * newWidth;\r\n\r\n};\r\n\r\nwindow.ScreenConfig = ScreenConfig;\r\n\r\n//============================================================================\r\n// CustomScreenConfig\r\n//============================================================================\r\nfunction CustomScreenConfig() {\r\n    this.initialize.apply(this, arguments);\r\n};\r\n\r\nCustomScreenConfig.prototype = Object.create(ScreenConfig.prototype);\r\nCustomScreenConfig.prototype.constructor = CustomScreenConfig;\r\n\r\nCustomScreenConfig.prototype.initialize = function (a, b) {\r\n    // We don't need parameters,\r\n    // But it is just for calling the constructor of corresponding superclass.\r\n    ScreenConfig.prototype.initialize.call(this, 1600, 900, 'landscape');\r\n    a = a || 16;\r\n    b = b || 9;\r\n    this._aspectRatio = [a, b];\r\n};\r\n\r\nwindow.CustomScreenConfig = CustomScreenConfig;\r\n\r\n//============================================================================\r\n// Point\r\n//============================================================================\r\nPoint.prototype.toString = function () {\r\n    return this.x + ' x ' +  this.y;\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvNl9TY3JlZW5Db25maWcuanM/ZjkwMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU2NyZWVuQ29uZmlnXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZnVuY3Rpb24gU2NyZWVuQ29uZmlnKCkge1xyXG4gICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5TY3JlZW5Db25maWcucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2NyZWVuQ29uZmlnO1xyXG5TY3JlZW5Db25maWcucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAob3JpZ2luV2lkdGgsIG9yaWdpbkhlaWdodCwgb3JpZW50YXRpb24pIHtcclxuICAgIHRoaXMuX29yaWdpbldpZHRoID0gb3JpZ2luV2lkdGg7XHJcbiAgICB0aGlzLl9vcmlnaW5IZWlnaHQgPSBvcmlnaW5IZWlnaHQ7XHJcbiAgICB0aGlzLl9vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xyXG4gICAgdGhpcy5fYXNwZWN0UmF0aW8gPSB0aGlzLmdldFJhdGlvKG9yaWdpbldpZHRoLCBvcmlnaW5IZWlnaHQpO1xyXG59O1xyXG5cclxuU2NyZWVuQ29uZmlnLnByb3RvdHlwZS5nY2QgPSBmdW5jdGlvbiAocCwgcSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgaWYocSA9PT0gMCkgcmV0dXJuIHA7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZ2NkKHEsIHAgJSBxKTtcclxuXHJcbn07XHJcblxyXG5TY3JlZW5Db25maWcucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAodmlydHVhbFdpZHRoKSB7XHJcbiAgICB2YXIgcmV0LCB3LCBoO1xyXG5cclxuICAgIHcgPSBwYXJzZUludCh2aXJ0dWFsV2lkdGgpO1xyXG4gICAgaCA9IHBhcnNlSW50KE1hdGgucm91bmQodGhpcy5nZXRIZWlnaHQodmlydHVhbFdpZHRoKSkpO1xyXG4gICAgcmV0ID0gW3csIGhdO1xyXG5cclxuICAgIHJldHVybiByZXQ7XHJcbn07XHJcblxyXG5TY3JlZW5Db25maWcucHJvdG90eXBlLmdldFJhdGlvID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIHZhciBnY2QsIHJldDtcclxuICAgIGlmKHdpZHRoID09PSBoZWlnaHQpIHJldHVybiBbMSwgMV07XHJcbiAgICBnY2QgPSB0aGlzLmdjZCh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIHJldCA9IFsod2lkdGggLyBnY2QpLCAoaGVpZ2h0IC8gZ2NkKV07XHJcbiAgICByZXR1cm4gcmV0O1xyXG59O1xyXG5cclxuU2NyZWVuQ29uZmlnLnByb3RvdHlwZS5nZXRSYXRpb0FzU3RyaW5nID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIHZhciBnY2QsIHRlbXAsIHJldDtcclxuICAgIGlmKHdpZHRoID09PSBoZWlnaHQpIHJldHVybiBbMSwgMV07XHJcbiAgICBpZih3aWR0aCA8IGhlaWdodCkge1xyXG4gICAgdGVtcCA9IHdpZHRoO1xyXG4gICAgd2lkdGggPSBoZWlnaHQ7XHJcbiAgICBoZWlnaHQgPSB0ZW1wO1xyXG4gICAgfVxyXG4gICAgZ2NkID0gdGhpcy5nY2Qod2lkdGgsIGhlaWdodCk7XHJcbiAgICByZXQgPSBOdW1iZXIod2lkdGggLyBnY2QpICsgJzonICsgTnVtYmVyKGhlaWdodCAvIGdjZCk7XHJcblxyXG4gICAgcmV0dXJuIHJldDtcclxuXHJcbn07XHJcblxyXG5TY3JlZW5Db25maWcucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24gKG5ld0hlaWdodCkge1xyXG4gICAgdmFyIGFyID0gdGhpcy5fYXNwZWN0UmF0aW87XHJcbiAgICB2YXIgcmF0aW8gPSBwYXJzZUZsb2F0KGFyWzBdIC8gYXJbMV0pO1xyXG5cclxuICAgIHJldHVybiByYXRpbyAqIG5ld0hlaWdodDtcclxuXHJcbn07XHJcblxyXG5TY3JlZW5Db25maWcucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uIChuZXdXaWR0aCkge1xyXG4gICAgdmFyIGFyID0gdGhpcy5fYXNwZWN0UmF0aW87XHJcbiAgICB2YXIgcmF0aW8gPSBwYXJzZUZsb2F0KGFyWzFdIC8gYXJbMF0pO1xyXG5cclxuICAgIHJldHVybiByYXRpbyAqIG5ld1dpZHRoO1xyXG5cclxufTtcclxuXHJcbndpbmRvdy5TY3JlZW5Db25maWcgPSBTY3JlZW5Db25maWc7XHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ3VzdG9tU2NyZWVuQ29uZmlnXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5mdW5jdGlvbiBDdXN0b21TY3JlZW5Db25maWcoKSB7XHJcbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuXHJcbkN1c3RvbVNjcmVlbkNvbmZpZy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNjcmVlbkNvbmZpZy5wcm90b3R5cGUpO1xyXG5DdXN0b21TY3JlZW5Db25maWcucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3VzdG9tU2NyZWVuQ29uZmlnO1xyXG5cclxuQ3VzdG9tU2NyZWVuQ29uZmlnLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgIC8vIFdlIGRvbid0IG5lZWQgcGFyYW1ldGVycyxcclxuICAgIC8vIEJ1dCBpdCBpcyBqdXN0IGZvciBjYWxsaW5nIHRoZSBjb25zdHJ1Y3RvciBvZiBjb3JyZXNwb25kaW5nIHN1cGVyY2xhc3MuXHJcbiAgICBTY3JlZW5Db25maWcucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCAxNjAwLCA5MDAsICdsYW5kc2NhcGUnKTtcclxuICAgIGEgPSBhIHx8IDE2O1xyXG4gICAgYiA9IGIgfHwgOTtcclxuICAgIHRoaXMuX2FzcGVjdFJhdGlvID0gW2EsIGJdO1xyXG59O1xyXG5cclxud2luZG93LkN1c3RvbVNjcmVlbkNvbmZpZyA9IEN1c3RvbVNjcmVlbkNvbmZpZztcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQb2ludFxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuUG9pbnQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMueCArICcgeCAnICsgIHRoaXMueTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n")},function(module,exports,__webpack_require__){eval("//============================================================================\r\n// Graphics\r\n//============================================================================\r\n\r\nGraphics.getAvailGraphicsArray = function (returnType) {\r\n    var data, tw, th, pt, gArray, result, maxSW, maxSH, type;\r\n    var orientation, config, aspectRatio;\r\n    var temp, ret;\r\n\r\n    gArray = [];\r\n    result = [];\r\n\r\n    // outerWidth : 브라우저 윈도우의 사이드바와 가장자리 경계선을 포함한 폭.\r\n    // screen.availWidth : OS의 상태바나 작업 표시줄을 제외한 폭.\r\n    maxSW = Utils.isMobileDevice() ? window.outerWidth : window.screen.availWidth;\r\n    maxSH = Utils.isMobileDevice() ? window.outerHeight : window.screen.availHeight;\r\n\r\n    // Obtain the screen orientation.\r\n    if(Utils.isNwjs()) {\r\n    type = (maxSW > maxSH) ? 'landscape' : 'portrait';\r\n    if(maxSW === maxSH) type = 'landscape';\r\n    } else {\r\n    type = screen.orientation.type.match(/landscape/) ? 'landscape' : 'portrait';\r\n    }\r\n\r\n    data = (Utils.isNwjs()) ? RS.ScreenManager.Params.settings.pcGraphicsArray : RS.ScreenManager.Params.settings.resolutionQualityOnMobile;\r\n    // if( Utils.isMobileDevice()) data = RS.ScreenManager.Params.settings.mobileGraphicsArray;\r\n\r\n    // Set a custom aspect ratio\r\n    config = new CustomScreenConfig(RS.ScreenManager.Params.settings.customAspectRatio[0], RS.ScreenManager.Params.settings.customAspectRatio[1]);\r\n\r\n    data = RS.ScreenManager.uniqArray(data);\r\n\r\n    data.forEach(function (i) {\r\n\r\n    var sw = 0;\r\n    var sh = 0;\r\n\r\n    if('width' in i) {\r\n        sw = i.width;\r\n    } else {\r\n        sw = i[0];\r\n    }\r\n\r\n    if('height' in i) {\r\n        sh = i.height;\r\n    } else {\r\n        sh = i[1];\r\n    }\r\n\r\n    tw = Number(sw);\r\n    th = Number(sh);\r\n\r\n    // Swap\r\n    if(type === 'portrait' && (maxSW > maxSH) ) {\r\n        var temp = tw;\r\n        tw = th;\r\n        th = temp;\r\n    }\r\n\r\n    if(tw >= 0 && tw <= maxSW && th >= 0 && th <= maxSH) {\r\n\r\n        // Convert the screen using an Aspect Ratio\r\n        if(RS.ScreenManager.Params.options.aspectRatio) {\r\n        temp = config.getSize(tw);\r\n        tw = temp[0];\r\n        th = temp[1];\r\n        }\r\n\r\n        pt = new Point(tw, th);\r\n        gArray.push(pt);\r\n        result.push(pt.toString());\r\n\r\n    } else {\r\n\r\n        if(RS.ScreenManager.Params.options.allResolutions) {\r\n\r\n        // Convert the screen using an Aspect Ratio\r\n        if(RS.ScreenManager.Params.options.aspectRatio) {\r\n            temp = config.getSize(tw);\r\n            tw = temp[0];\r\n            th = temp[1];\r\n        }\r\n\r\n        pt = new Point(tw, th);\r\n        gArray.push(pt);\r\n        result.push(pt.toString());\r\n\r\n        }\r\n    }\r\n\r\n    }, this);\r\n\r\n    return (returnType === 'String')? result : gArray;\r\n\r\n};\r\n\r\nGraphics.getOrientation = function (inner) {\r\n    var maxSW = (inner === true) ? window.innerWidth : window.screen.availWidth;\r\n    var maxSH = (inner === true) ? window.innerHeight : window.screen.availHeight;\r\n    var orientation = 'landscape';\r\n    if(Utils.isNwjs() || !screen.orientation) {\r\n    orientation = (maxSW > maxSH) ? 'landscape' : 'portrait';\r\n    if(maxSW === maxSH) orientation = 'landscape';\r\n    } else {\r\n    orientation = screen.orientation.type.match(/landscape/) ? 'landscape' : 'portrait';\r\n    }\r\n    return orientation;\r\n};\r\n\r\nGraphics.isAvailScreenHeight = function(height) {\r\n    var task_height = screen.height - screen.availHeight;\r\n    var maxHeight = screen.availHeight - task_height;\r\n    return height <= maxHeight;\r\n};  \r\n\r\nGraphics.uniqWithPoint = function (data, callback) {\r\n    var ret = [];\r\n    ret = data.filter(function(e, i, a) {\r\n\r\n    if(a[i-1] instanceof Point) {\r\n\r\n        if(a[i-1].x === e.x && a[i-1].y === e.y) {\r\n\r\n        return false;\r\n\r\n        }\r\n\r\n        return true;\r\n\r\n    } else {\r\n\r\n        return true;\r\n\r\n    }\r\n    });\r\n\r\n    callback(ret);\r\n\r\n};\r\n\r\nGraphics.getVirtualWidth = function(originValue) {\r\n    var ratio = 816.0 / Graphics.boxWidth;\r\n    return Math.floor(originValue / ratio);\r\n};\r\n\r\nGraphics.getVirtualHeight = function(originValue) {\r\n    var ratio = 624.0 / Graphics.boxHeight;\r\n    return Math.floor(originValue / ratio);\r\n};\r\n\r\nGraphics.setScreenResize = function (newScr) {\r\n    var cx, cy, xPadding, yPadding;\r\n    var tw, th, minW, minH;\r\n    var orientation, config, aspectRatio;\r\n    var maxSW, maxSH;\r\n    var temp;\r\n    \r\n    var taskHeight = 0;\r\n\r\n    // Get the screen width and height (Excepted in Windows Taskbar)\r\n    maxSW = window.screen.availWidth;\r\n    maxSH = window.screen.availHeight;\r\n\r\n    // Get an orientation in your screen\r\n    orientation = this.getOrientation(false);\r\n\r\n    // Get an aspect ratio of a new screen size.\r\n    config = new ScreenConfig(newScr.x, newScr.y, orientation);\r\n    aspectRatio = config._aspectRatio || [17, 13];   \r\n\r\n    if(RS.ScreenManager.Params.options.aspectRatio) {\r\n    config = new CustomScreenConfig(RS.ScreenManager.Params.settings.customAspectRatio[0], RS.ScreenManager.Params.settings.customAspectRatio[1]);\r\n    aspectRatio = config._aspectRatio;\r\n    temp = config.getSize(newScr.x);\r\n    newScr.x = temp[0];\r\n    newScr.y = temp[1];\r\n    }\r\n\r\n    SceneManager._screenWidth       = newScr.x;\r\n    SceneManager._screenHeight      = newScr.y;\r\n    SceneManager._boxWidth          = newScr.x;\r\n    SceneManager._boxHeight         = newScr.y;\r\n\r\n    // 화면 중앙 좌표\r\n    cx = (window.screen.availWidth / 2) - (newScr.x / 2);\r\n    cy = (window.screen.availHeight / 2) - (newScr.y / 2);\r\n\r\n    // 화면 패딩\r\n    xPadding = window.outerWidth - window.innerWidth;\r\n    yPadding = window.outerHeight - window.innerHeight;\r\n\r\n    // 타일 크기\r\n    tw = ($gameMap && $gameMap.tileWidth) ? $gameMap.tileWidth() : 48;\r\n    th = ($gameMap && $gameMap.tileHeight) ? $gameMap.tileHeight() : 48;\r\n\r\n    // 최소 크기\r\n    minW = (tw * aspectRatio[0]) || Graphics._renderer.width;\r\n    minH = (th * aspectRatio[1]) || Graphics._renderer.height;\r\n\r\n    // 작업 표시줄의 크기 때문에 수용할 수 없는 해상도라면 한 단계 낮춘다.\r\n    if(RS.ScreenManager.isWindowsTaskbarShown() && \r\n    !this.isAvailScreenHeight(newScr.y) && \r\n    !Utils.isMobileDevice() &&\r\n    RS.ScreenManager.Params.options.autoScaling ) {\r\n\r\n    var data = Graphics.getAvailGraphicsArray('Number');\r\n    var ret = [];\r\n\r\n    this.uniqWithPoint(data.slice(0), function (newData) {\r\n        ret = newData;\r\n    });    \r\n\r\n    ret = ret.filter(function(i) {\r\n        return i.y < (newScr.y); \r\n    }, this);\r\n\r\n    var item = ret.pop();\r\n\r\n    if(item) {\r\n        newScr = item;\r\n    }\r\n    }\r\n\r\n    // 화면 크기를 절대 값으로 지정\r\n    window.resizeTo(newScr.x + xPadding, newScr.y + yPadding);\r\n    window.moveTo(cx, cy);\r\n\r\n    // 해상도 최소값 & 최대값 설정 부분, 자동으로 조절하는 것에 맞겼다면.\r\n    if(RS.ScreenManager.Params.options.autoScaling && (tw/th >= 1.0) && tw >= 48) {\r\n\r\n    // 새로운 해상도 값이 최소값(tileWidth * aspectRatio) 값보다 작으면 해상도를 최소값으로 제한한다.\r\n    if(RS.ScreenManager.Params.options.minWidth) Graphics.width = Graphics.boxWidth = Math.max(minW, newScr.x);\r\n    if(RS.ScreenManager.Params.options.minHeight) Graphics.height = Graphics.boxHeight = Math.max(minH, newScr.y);\r\n\r\n    // 최소 최대 제한이 없을 경우,\r\n    if(!RS.ScreenManager.Params.options.minWidth && !RS.ScreenManager.Params.options.minHeight) {\r\n        Graphics.width = Graphics.boxWidth = newScr.x.clamp(minW, window.outerWidth);\r\n        Graphics.height = Graphics.boxHeight = newScr.x.clamp(minH, window.outerHeight);\r\n    }\r\n\r\n    } else {\r\n    // 그냥 설정한다.\r\n    Graphics.width = Graphics.boxWidth = newScr.x;\r\n    Graphics.height = Graphics.boxHeight = newScr.y;\r\n    }\r\n\r\n    // Reset graphics' size\r\n    if(RS.ScreenManager.Params.options.resize) {\r\n        Graphics._renderer.resize(newScr.x, newScr.y);\r\n    }\r\n\r\n    // Reset the scene (Unsaved changes will be lost)\r\n    if(RS.ScreenManager.Params.options.recreate && !(SceneManager._scene instanceof Scene_Boot)) {\r\n    if(SceneManager._scene) SceneManager.push(SceneManager._scene.constructor);\r\n    }\r\n\r\n};\r\n\r\n/**\r\n * Disarms the behavior of Community_Basic plugin.\r\n */\r\nif(PluginManager._scripts.contains(\"Community_Basic\")) {\r\n    SceneManager.initNwjs = function() {\r\n        if (Utils.isNwjs()) {\r\n            var gui = __webpack_require__(1);\r\n            var win = gui.Window.get();\r\n            if (process.platform === 'darwin' && !win.menu) {\r\n                var menubar = new gui.Menu({ type: 'menubar' });\r\n                var option = { hideEdit: true, hideWindow: true };\r\n                menubar.createMacBuiltin('Game', option);\r\n                win.menu = menubar;\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\n/**\r\n * Disarms the behavior of YEP_CoreEngine and ScreenResolution plugins.\r\n */\r\nif( SceneManager.run.toString().match(/Yanfly/i) ) {\r\n    SceneManager.run = function(sceneClass) {\r\n        try {\r\n            this.initialize();\r\n            this.goto(sceneClass);\r\n            this.requestUpdate();\r\n        } catch (e) {\r\n            this.catchException(e);\r\n        }\r\n    };\r\n}\r\n\r\nvar alias_Graphics_onWindowResize = Graphics._onWindowResize;\r\nGraphics._onWindowResize = function() {\r\n    alias_Graphics_onWindowResize.call(this);\r\n    if(Utils.isNwjs()) {\r\n    //   var canvas = document.querySelector('canvas');\r\n    //   var dx = parseInt(canvas.style.width);\r\n    //   var dy = parseInt(canvas.style.height);\r\n    //   var xPadding = window.outerWidth - window.innerWidth;\r\n    //   var yPadding = window.outerHeight - window.innerHeight;\r\n    //   var cx = (window.screen.availWidth / 2) - (Graphics.boxWidth / 2);\r\n    //   var cy = (window.screen.availHeight / 2) - (Graphics.boxHeight / 2);\r\n    //   if(dx !== Graphics.boxWidth) {\r\n    //     var mx = (Graphics.boxWidth - dx);\r\n    //     var my = (Graphics.boxHeight - dy);\r\n    //     window.resizeTo(\r\n    //       parseInt(Graphics.boxWidth - mx + xPadding),\r\n    //       parseInt(Graphics.boxHeight - my + yPadding)\r\n    //     );\r\n    //   }\r\n    if(!nw) var nw = __webpack_require__(1);\r\n    var win = nw.Window.get();\r\n    win.setPosition(\"center\");\r\n    }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvN19HcmFwaGljcy5qcz84Nzk2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxLQUFLOztBQUVMOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUssRTs7QUFFTDtBQUNBLGdDO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1CQUFPLENBQUMsQ0FBUTtBQUN0QztBQUNBO0FBQ0EsNENBQTRDLGtCQUFrQjtBQUM5RCw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixtQkFBTyxDQUFDLENBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gR3JhcGhpY3NcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5HcmFwaGljcy5nZXRBdmFpbEdyYXBoaWNzQXJyYXkgPSBmdW5jdGlvbiAocmV0dXJuVHlwZSkge1xyXG4gICAgdmFyIGRhdGEsIHR3LCB0aCwgcHQsIGdBcnJheSwgcmVzdWx0LCBtYXhTVywgbWF4U0gsIHR5cGU7XHJcbiAgICB2YXIgb3JpZW50YXRpb24sIGNvbmZpZywgYXNwZWN0UmF0aW87XHJcbiAgICB2YXIgdGVtcCwgcmV0O1xyXG5cclxuICAgIGdBcnJheSA9IFtdO1xyXG4gICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgLy8gb3V0ZXJXaWR0aCA6IOu4jOudvOyasOyggCDsnIjrj4TsmrDsnZgg7IKs7J2065Oc67CU7JmAIOqwgOyepeyekOumrCDqsr3qs4TshKDsnYQg7Y+s7ZWo7ZWcIO2PrS5cclxuICAgIC8vIHNjcmVlbi5hdmFpbFdpZHRoIDogT1PsnZgg7IOB7YOc67CU64KYIOyekeyXhSDtkZzsi5zspITsnYQg7KCc7Jm47ZWcIO2PrS5cclxuICAgIG1heFNXID0gVXRpbHMuaXNNb2JpbGVEZXZpY2UoKSA/IHdpbmRvdy5vdXRlcldpZHRoIDogd2luZG93LnNjcmVlbi5hdmFpbFdpZHRoO1xyXG4gICAgbWF4U0ggPSBVdGlscy5pc01vYmlsZURldmljZSgpID8gd2luZG93Lm91dGVySGVpZ2h0IDogd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodDtcclxuXHJcbiAgICAvLyBPYnRhaW4gdGhlIHNjcmVlbiBvcmllbnRhdGlvbi5cclxuICAgIGlmKFV0aWxzLmlzTndqcygpKSB7XHJcbiAgICB0eXBlID0gKG1heFNXID4gbWF4U0gpID8gJ2xhbmRzY2FwZScgOiAncG9ydHJhaXQnO1xyXG4gICAgaWYobWF4U1cgPT09IG1heFNIKSB0eXBlID0gJ2xhbmRzY2FwZSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgdHlwZSA9IHNjcmVlbi5vcmllbnRhdGlvbi50eXBlLm1hdGNoKC9sYW5kc2NhcGUvKSA/ICdsYW5kc2NhcGUnIDogJ3BvcnRyYWl0JztcclxuICAgIH1cclxuXHJcbiAgICBkYXRhID0gKFV0aWxzLmlzTndqcygpKSA/IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnBjR3JhcGhpY3NBcnJheSA6IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLnJlc29sdXRpb25RdWFsaXR5T25Nb2JpbGU7XHJcbiAgICAvLyBpZiggVXRpbHMuaXNNb2JpbGVEZXZpY2UoKSkgZGF0YSA9IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLm1vYmlsZUdyYXBoaWNzQXJyYXk7XHJcblxyXG4gICAgLy8gU2V0IGEgY3VzdG9tIGFzcGVjdCByYXRpb1xyXG4gICAgY29uZmlnID0gbmV3IEN1c3RvbVNjcmVlbkNvbmZpZyhSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5jdXN0b21Bc3BlY3RSYXRpb1swXSwgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW9bMV0pO1xyXG5cclxuICAgIGRhdGEgPSBSUy5TY3JlZW5NYW5hZ2VyLnVuaXFBcnJheShkYXRhKTtcclxuXHJcbiAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGkpIHtcclxuXHJcbiAgICB2YXIgc3cgPSAwO1xyXG4gICAgdmFyIHNoID0gMDtcclxuXHJcbiAgICBpZignd2lkdGgnIGluIGkpIHtcclxuICAgICAgICBzdyA9IGkud2lkdGg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN3ID0gaVswXTtcclxuICAgIH1cclxuXHJcbiAgICBpZignaGVpZ2h0JyBpbiBpKSB7XHJcbiAgICAgICAgc2ggPSBpLmhlaWdodDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2ggPSBpWzFdO1xyXG4gICAgfVxyXG5cclxuICAgIHR3ID0gTnVtYmVyKHN3KTtcclxuICAgIHRoID0gTnVtYmVyKHNoKTtcclxuXHJcbiAgICAvLyBTd2FwXHJcbiAgICBpZih0eXBlID09PSAncG9ydHJhaXQnICYmIChtYXhTVyA+IG1heFNIKSApIHtcclxuICAgICAgICB2YXIgdGVtcCA9IHR3O1xyXG4gICAgICAgIHR3ID0gdGg7XHJcbiAgICAgICAgdGggPSB0ZW1wO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHR3ID49IDAgJiYgdHcgPD0gbWF4U1cgJiYgdGggPj0gMCAmJiB0aCA8PSBtYXhTSCkge1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0IHRoZSBzY3JlZW4gdXNpbmcgYW4gQXNwZWN0IFJhdGlvXHJcbiAgICAgICAgaWYoUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hc3BlY3RSYXRpbykge1xyXG4gICAgICAgIHRlbXAgPSBjb25maWcuZ2V0U2l6ZSh0dyk7XHJcbiAgICAgICAgdHcgPSB0ZW1wWzBdO1xyXG4gICAgICAgIHRoID0gdGVtcFsxXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB0ID0gbmV3IFBvaW50KHR3LCB0aCk7XHJcbiAgICAgICAgZ0FycmF5LnB1c2gocHQpO1xyXG4gICAgICAgIHJlc3VsdC5wdXNoKHB0LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMuYWxsUmVzb2x1dGlvbnMpIHtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCB0aGUgc2NyZWVuIHVzaW5nIGFuIEFzcGVjdCBSYXRpb1xyXG4gICAgICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMuYXNwZWN0UmF0aW8pIHtcclxuICAgICAgICAgICAgdGVtcCA9IGNvbmZpZy5nZXRTaXplKHR3KTtcclxuICAgICAgICAgICAgdHcgPSB0ZW1wWzBdO1xyXG4gICAgICAgICAgICB0aCA9IHRlbXBbMV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdCA9IG5ldyBQb2ludCh0dywgdGgpO1xyXG4gICAgICAgIGdBcnJheS5wdXNoKHB0KTtcclxuICAgICAgICByZXN1bHQucHVzaChwdC50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIH0sIHRoaXMpO1xyXG5cclxuICAgIHJldHVybiAocmV0dXJuVHlwZSA9PT0gJ1N0cmluZycpPyByZXN1bHQgOiBnQXJyYXk7XHJcblxyXG59O1xyXG5cclxuR3JhcGhpY3MuZ2V0T3JpZW50YXRpb24gPSBmdW5jdGlvbiAoaW5uZXIpIHtcclxuICAgIHZhciBtYXhTVyA9IChpbm5lciA9PT0gdHJ1ZSkgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aDtcclxuICAgIHZhciBtYXhTSCA9IChpbm5lciA9PT0gdHJ1ZSkgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiB3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0O1xyXG4gICAgdmFyIG9yaWVudGF0aW9uID0gJ2xhbmRzY2FwZSc7XHJcbiAgICBpZihVdGlscy5pc053anMoKSB8fCAhc2NyZWVuLm9yaWVudGF0aW9uKSB7XHJcbiAgICBvcmllbnRhdGlvbiA9IChtYXhTVyA+IG1heFNIKSA/ICdsYW5kc2NhcGUnIDogJ3BvcnRyYWl0JztcclxuICAgIGlmKG1heFNXID09PSBtYXhTSCkgb3JpZW50YXRpb24gPSAnbGFuZHNjYXBlJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICBvcmllbnRhdGlvbiA9IHNjcmVlbi5vcmllbnRhdGlvbi50eXBlLm1hdGNoKC9sYW5kc2NhcGUvKSA/ICdsYW5kc2NhcGUnIDogJ3BvcnRyYWl0JztcclxuICAgIH1cclxuICAgIHJldHVybiBvcmllbnRhdGlvbjtcclxufTtcclxuXHJcbkdyYXBoaWNzLmlzQXZhaWxTY3JlZW5IZWlnaHQgPSBmdW5jdGlvbihoZWlnaHQpIHtcclxuICAgIHZhciB0YXNrX2hlaWdodCA9IHNjcmVlbi5oZWlnaHQgLSBzY3JlZW4uYXZhaWxIZWlnaHQ7XHJcbiAgICB2YXIgbWF4SGVpZ2h0ID0gc2NyZWVuLmF2YWlsSGVpZ2h0IC0gdGFza19oZWlnaHQ7XHJcbiAgICByZXR1cm4gaGVpZ2h0IDw9IG1heEhlaWdodDtcclxufTsgIFxyXG5cclxuR3JhcGhpY3MudW5pcVdpdGhQb2ludCA9IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIHJldCA9IFtdO1xyXG4gICAgcmV0ID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24oZSwgaSwgYSkge1xyXG5cclxuICAgIGlmKGFbaS0xXSBpbnN0YW5jZW9mIFBvaW50KSB7XHJcblxyXG4gICAgICAgIGlmKGFbaS0xXS54ID09PSBlLnggJiYgYVtpLTFdLnkgPT09IGUueSkge1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY2FsbGJhY2socmV0KTtcclxuXHJcbn07XHJcblxyXG5HcmFwaGljcy5nZXRWaXJ0dWFsV2lkdGggPSBmdW5jdGlvbihvcmlnaW5WYWx1ZSkge1xyXG4gICAgdmFyIHJhdGlvID0gODE2LjAgLyBHcmFwaGljcy5ib3hXaWR0aDtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKG9yaWdpblZhbHVlIC8gcmF0aW8pO1xyXG59O1xyXG5cclxuR3JhcGhpY3MuZ2V0VmlydHVhbEhlaWdodCA9IGZ1bmN0aW9uKG9yaWdpblZhbHVlKSB7XHJcbiAgICB2YXIgcmF0aW8gPSA2MjQuMCAvIEdyYXBoaWNzLmJveEhlaWdodDtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKG9yaWdpblZhbHVlIC8gcmF0aW8pO1xyXG59O1xyXG5cclxuR3JhcGhpY3Muc2V0U2NyZWVuUmVzaXplID0gZnVuY3Rpb24gKG5ld1Njcikge1xyXG4gICAgdmFyIGN4LCBjeSwgeFBhZGRpbmcsIHlQYWRkaW5nO1xyXG4gICAgdmFyIHR3LCB0aCwgbWluVywgbWluSDtcclxuICAgIHZhciBvcmllbnRhdGlvbiwgY29uZmlnLCBhc3BlY3RSYXRpbztcclxuICAgIHZhciBtYXhTVywgbWF4U0g7XHJcbiAgICB2YXIgdGVtcDtcclxuICAgIFxyXG4gICAgdmFyIHRhc2tIZWlnaHQgPSAwO1xyXG5cclxuICAgIC8vIEdldCB0aGUgc2NyZWVuIHdpZHRoIGFuZCBoZWlnaHQgKEV4Y2VwdGVkIGluIFdpbmRvd3MgVGFza2JhcilcclxuICAgIG1heFNXID0gd2luZG93LnNjcmVlbi5hdmFpbFdpZHRoO1xyXG4gICAgbWF4U0ggPSB3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0O1xyXG5cclxuICAgIC8vIEdldCBhbiBvcmllbnRhdGlvbiBpbiB5b3VyIHNjcmVlblxyXG4gICAgb3JpZW50YXRpb24gPSB0aGlzLmdldE9yaWVudGF0aW9uKGZhbHNlKTtcclxuXHJcbiAgICAvLyBHZXQgYW4gYXNwZWN0IHJhdGlvIG9mIGEgbmV3IHNjcmVlbiBzaXplLlxyXG4gICAgY29uZmlnID0gbmV3IFNjcmVlbkNvbmZpZyhuZXdTY3IueCwgbmV3U2NyLnksIG9yaWVudGF0aW9uKTtcclxuICAgIGFzcGVjdFJhdGlvID0gY29uZmlnLl9hc3BlY3RSYXRpbyB8fCBbMTcsIDEzXTsgICBcclxuXHJcbiAgICBpZihSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLmFzcGVjdFJhdGlvKSB7XHJcbiAgICBjb25maWcgPSBuZXcgQ3VzdG9tU2NyZWVuQ29uZmlnKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLmN1c3RvbUFzcGVjdFJhdGlvWzBdLCBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5jdXN0b21Bc3BlY3RSYXRpb1sxXSk7XHJcbiAgICBhc3BlY3RSYXRpbyA9IGNvbmZpZy5fYXNwZWN0UmF0aW87XHJcbiAgICB0ZW1wID0gY29uZmlnLmdldFNpemUobmV3U2NyLngpO1xyXG4gICAgbmV3U2NyLnggPSB0ZW1wWzBdO1xyXG4gICAgbmV3U2NyLnkgPSB0ZW1wWzFdO1xyXG4gICAgfVxyXG5cclxuICAgIFNjZW5lTWFuYWdlci5fc2NyZWVuV2lkdGggICAgICAgPSBuZXdTY3IueDtcclxuICAgIFNjZW5lTWFuYWdlci5fc2NyZWVuSGVpZ2h0ICAgICAgPSBuZXdTY3IueTtcclxuICAgIFNjZW5lTWFuYWdlci5fYm94V2lkdGggICAgICAgICAgPSBuZXdTY3IueDtcclxuICAgIFNjZW5lTWFuYWdlci5fYm94SGVpZ2h0ICAgICAgICAgPSBuZXdTY3IueTtcclxuXHJcbiAgICAvLyDtmZTrqbQg7KSR7JWZIOyijO2RnFxyXG4gICAgY3ggPSAod2luZG93LnNjcmVlbi5hdmFpbFdpZHRoIC8gMikgLSAobmV3U2NyLnggLyAyKTtcclxuICAgIGN5ID0gKHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQgLyAyKSAtIChuZXdTY3IueSAvIDIpO1xyXG5cclxuICAgIC8vIO2ZlOuptCDtjKjrlKlcclxuICAgIHhQYWRkaW5nID0gd2luZG93Lm91dGVyV2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIHlQYWRkaW5nID0gd2luZG93Lm91dGVySGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0O1xyXG5cclxuICAgIC8vIO2DgOydvCDtgazquLBcclxuICAgIHR3ID0gKCRnYW1lTWFwICYmICRnYW1lTWFwLnRpbGVXaWR0aCkgPyAkZ2FtZU1hcC50aWxlV2lkdGgoKSA6IDQ4O1xyXG4gICAgdGggPSAoJGdhbWVNYXAgJiYgJGdhbWVNYXAudGlsZUhlaWdodCkgPyAkZ2FtZU1hcC50aWxlSGVpZ2h0KCkgOiA0ODtcclxuXHJcbiAgICAvLyDstZzshowg7YGs6riwXHJcbiAgICBtaW5XID0gKHR3ICogYXNwZWN0UmF0aW9bMF0pIHx8IEdyYXBoaWNzLl9yZW5kZXJlci53aWR0aDtcclxuICAgIG1pbkggPSAodGggKiBhc3BlY3RSYXRpb1sxXSkgfHwgR3JhcGhpY3MuX3JlbmRlcmVyLmhlaWdodDtcclxuXHJcbiAgICAvLyDsnpHsl4Ug7ZGc7Iuc7KSE7J2YIO2BrOq4sCDrlYzrrLjsl5Ag7IiY7Jqp7ZWgIOyImCDsl4bripQg7ZW07IOB64+E652866m0IO2VnCDri6jqs4Qg64Ku7LaY64ukLlxyXG4gICAgaWYoUlMuU2NyZWVuTWFuYWdlci5pc1dpbmRvd3NUYXNrYmFyU2hvd24oKSAmJiBcclxuICAgICF0aGlzLmlzQXZhaWxTY3JlZW5IZWlnaHQobmV3U2NyLnkpICYmIFxyXG4gICAgIVV0aWxzLmlzTW9iaWxlRGV2aWNlKCkgJiZcclxuICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMuYXV0b1NjYWxpbmcgKSB7XHJcblxyXG4gICAgdmFyIGRhdGEgPSBHcmFwaGljcy5nZXRBdmFpbEdyYXBoaWNzQXJyYXkoJ051bWJlcicpO1xyXG4gICAgdmFyIHJldCA9IFtdO1xyXG5cclxuICAgIHRoaXMudW5pcVdpdGhQb2ludChkYXRhLnNsaWNlKDApLCBmdW5jdGlvbiAobmV3RGF0YSkge1xyXG4gICAgICAgIHJldCA9IG5ld0RhdGE7XHJcbiAgICB9KTsgICAgXHJcblxyXG4gICAgcmV0ID0gcmV0LmZpbHRlcihmdW5jdGlvbihpKSB7XHJcbiAgICAgICAgcmV0dXJuIGkueSA8IChuZXdTY3IueSk7IFxyXG4gICAgfSwgdGhpcyk7XHJcblxyXG4gICAgdmFyIGl0ZW0gPSByZXQucG9wKCk7XHJcblxyXG4gICAgaWYoaXRlbSkge1xyXG4gICAgICAgIG5ld1NjciA9IGl0ZW07XHJcbiAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g7ZmU66m0IO2BrOq4sOulvCDsoIjrjIAg6rCS7Jy866GcIOyngOyglVxyXG4gICAgd2luZG93LnJlc2l6ZVRvKG5ld1Njci54ICsgeFBhZGRpbmcsIG5ld1Njci55ICsgeVBhZGRpbmcpO1xyXG4gICAgd2luZG93Lm1vdmVUbyhjeCwgY3kpO1xyXG5cclxuICAgIC8vIO2VtOyDgeuPhCDstZzshozqsJIgJiDstZzrjIDqsJIg7ISk7KCVIOu2gOu2hCwg7J6Q64+Z7Jy866GcIOyhsOygiO2VmOuKlCDqsoPsl5Ag66ee6rK864uk66m0LlxyXG4gICAgaWYoUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hdXRvU2NhbGluZyAmJiAodHcvdGggPj0gMS4wKSAmJiB0dyA+PSA0OCkge1xyXG5cclxuICAgIC8vIOyDiOuhnOyatCDtlbTsg4Hrj4Qg6rCS7J20IOy1nOyGjOqwkih0aWxlV2lkdGggKiBhc3BlY3RSYXRpbykg6rCS67O064ukIOyekeycvOuptCDtlbTsg4Hrj4Trpbwg7LWc7IaM6rCS7Jy866GcIOygnO2VnO2VnOuLpC5cclxuICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMubWluV2lkdGgpIEdyYXBoaWNzLndpZHRoID0gR3JhcGhpY3MuYm94V2lkdGggPSBNYXRoLm1heChtaW5XLCBuZXdTY3IueCk7XHJcbiAgICBpZihSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLm1pbkhlaWdodCkgR3JhcGhpY3MuaGVpZ2h0ID0gR3JhcGhpY3MuYm94SGVpZ2h0ID0gTWF0aC5tYXgobWluSCwgbmV3U2NyLnkpO1xyXG5cclxuICAgIC8vIOy1nOyGjCDstZzrjIAg7KCc7ZWc7J20IOyXhuydhCDqsr3smrAsXHJcbiAgICBpZighUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5taW5XaWR0aCAmJiAhUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5taW5IZWlnaHQpIHtcclxuICAgICAgICBHcmFwaGljcy53aWR0aCA9IEdyYXBoaWNzLmJveFdpZHRoID0gbmV3U2NyLnguY2xhbXAobWluVywgd2luZG93Lm91dGVyV2lkdGgpO1xyXG4gICAgICAgIEdyYXBoaWNzLmhlaWdodCA9IEdyYXBoaWNzLmJveEhlaWdodCA9IG5ld1Njci54LmNsYW1wKG1pbkgsIHdpbmRvdy5vdXRlckhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgIC8vIOq3uOuDpSDshKTsoJXtlZzri6QuXHJcbiAgICBHcmFwaGljcy53aWR0aCA9IEdyYXBoaWNzLmJveFdpZHRoID0gbmV3U2NyLng7XHJcbiAgICBHcmFwaGljcy5oZWlnaHQgPSBHcmFwaGljcy5ib3hIZWlnaHQgPSBuZXdTY3IueTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXNldCBncmFwaGljcycgc2l6ZVxyXG4gICAgaWYoUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5yZXNpemUpIHtcclxuICAgICAgICBHcmFwaGljcy5fcmVuZGVyZXIucmVzaXplKG5ld1Njci54LCBuZXdTY3IueSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzZXQgdGhlIHNjZW5lIChVbnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBsb3N0KVxyXG4gICAgaWYoUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5yZWNyZWF0ZSAmJiAhKFNjZW5lTWFuYWdlci5fc2NlbmUgaW5zdGFuY2VvZiBTY2VuZV9Cb290KSkge1xyXG4gICAgaWYoU2NlbmVNYW5hZ2VyLl9zY2VuZSkgU2NlbmVNYW5hZ2VyLnB1c2goU2NlbmVNYW5hZ2VyLl9zY2VuZS5jb25zdHJ1Y3Rvcik7XHJcbiAgICB9XHJcblxyXG59O1xyXG5cclxuLyoqXHJcbiAqIERpc2FybXMgdGhlIGJlaGF2aW9yIG9mIENvbW11bml0eV9CYXNpYyBwbHVnaW4uXHJcbiAqL1xyXG5pZihQbHVnaW5NYW5hZ2VyLl9zY3JpcHRzLmNvbnRhaW5zKFwiQ29tbXVuaXR5X0Jhc2ljXCIpKSB7XHJcbiAgICBTY2VuZU1hbmFnZXIuaW5pdE53anMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoVXRpbHMuaXNOd2pzKCkpIHtcclxuICAgICAgICAgICAgdmFyIGd1aSA9IHJlcXVpcmUoJ253Lmd1aScpO1xyXG4gICAgICAgICAgICB2YXIgd2luID0gZ3VpLldpbmRvdy5nZXQoKTtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09ICdkYXJ3aW4nICYmICF3aW4ubWVudSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lbnViYXIgPSBuZXcgZ3VpLk1lbnUoeyB0eXBlOiAnbWVudWJhcicgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0geyBoaWRlRWRpdDogdHJ1ZSwgaGlkZVdpbmRvdzogdHJ1ZSB9O1xyXG4gICAgICAgICAgICAgICAgbWVudWJhci5jcmVhdGVNYWNCdWlsdGluKCdHYW1lJywgb3B0aW9uKTtcclxuICAgICAgICAgICAgICAgIHdpbi5tZW51ID0gbWVudWJhcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XHJcblxyXG4vKipcclxuICogRGlzYXJtcyB0aGUgYmVoYXZpb3Igb2YgWUVQX0NvcmVFbmdpbmUgYW5kIFNjcmVlblJlc29sdXRpb24gcGx1Z2lucy5cclxuICovXHJcbmlmKCBTY2VuZU1hbmFnZXIucnVuLnRvU3RyaW5nKCkubWF0Y2goL1lhbmZseS9pKSApIHtcclxuICAgIFNjZW5lTWFuYWdlci5ydW4gPSBmdW5jdGlvbihzY2VuZUNsYXNzKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ290byhzY2VuZUNsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhdGNoRXhjZXB0aW9uKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbnZhciBhbGlhc19HcmFwaGljc19vbldpbmRvd1Jlc2l6ZSA9IEdyYXBoaWNzLl9vbldpbmRvd1Jlc2l6ZTtcclxuR3JhcGhpY3MuX29uV2luZG93UmVzaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICBhbGlhc19HcmFwaGljc19vbldpbmRvd1Jlc2l6ZS5jYWxsKHRoaXMpO1xyXG4gICAgaWYoVXRpbHMuaXNOd2pzKCkpIHtcclxuICAgIC8vICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xyXG4gICAgLy8gICB2YXIgZHggPSBwYXJzZUludChjYW52YXMuc3R5bGUud2lkdGgpO1xyXG4gICAgLy8gICB2YXIgZHkgPSBwYXJzZUludChjYW52YXMuc3R5bGUuaGVpZ2h0KTtcclxuICAgIC8vICAgdmFyIHhQYWRkaW5nID0gd2luZG93Lm91dGVyV2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIC8vICAgdmFyIHlQYWRkaW5nID0gd2luZG93Lm91dGVySGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgLy8gICB2YXIgY3ggPSAod2luZG93LnNjcmVlbi5hdmFpbFdpZHRoIC8gMikgLSAoR3JhcGhpY3MuYm94V2lkdGggLyAyKTtcclxuICAgIC8vICAgdmFyIGN5ID0gKHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQgLyAyKSAtIChHcmFwaGljcy5ib3hIZWlnaHQgLyAyKTtcclxuICAgIC8vICAgaWYoZHggIT09IEdyYXBoaWNzLmJveFdpZHRoKSB7XHJcbiAgICAvLyAgICAgdmFyIG14ID0gKEdyYXBoaWNzLmJveFdpZHRoIC0gZHgpO1xyXG4gICAgLy8gICAgIHZhciBteSA9IChHcmFwaGljcy5ib3hIZWlnaHQgLSBkeSk7XHJcbiAgICAvLyAgICAgd2luZG93LnJlc2l6ZVRvKFxyXG4gICAgLy8gICAgICAgcGFyc2VJbnQoR3JhcGhpY3MuYm94V2lkdGggLSBteCArIHhQYWRkaW5nKSxcclxuICAgIC8vICAgICAgIHBhcnNlSW50KEdyYXBoaWNzLmJveEhlaWdodCAtIG15ICsgeVBhZGRpbmcpXHJcbiAgICAvLyAgICAgKTtcclxuICAgIC8vICAgfVxyXG4gICAgaWYoIW53KSB2YXIgbncgPSByZXF1aXJlKFwibncuZ3VpXCIpO1xyXG4gICAgdmFyIHdpbiA9IG53LldpbmRvdy5nZXQoKTtcclxuICAgIHdpbi5zZXRQb3NpdGlvbihcImNlbnRlclwiKTtcclxuICAgIH1cclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n")},function(module,exports){eval("//============================================================================\r\n// Scene_Boot\r\n//============================================================================\r\n\r\nvar alias_Scene_Boot_create = Scene_Boot.prototype.create;\r\nScene_Boot.prototype.create = function () {\r\n    alias_Scene_Boot_create.call(this);\r\n    SceneManager.initResolution();\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvOF9TY2VuZV9Cb290LmpzPzUwNjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU2NlbmVfQm9vdFxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnZhciBhbGlhc19TY2VuZV9Cb290X2NyZWF0ZSA9IFNjZW5lX0Jvb3QucHJvdG90eXBlLmNyZWF0ZTtcclxuU2NlbmVfQm9vdC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgYWxpYXNfU2NlbmVfQm9vdF9jcmVhdGUuY2FsbCh0aGlzKTtcclxuICAgIFNjZW5lTWFuYWdlci5pbml0UmVzb2x1dGlvbigpO1xyXG59OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n")},function(module,exports){eval("//============================================================================\r\n// SceneManager\r\n//============================================================================\r\n\r\nSceneManager.initResolution = function() {\r\n    var self = this;\r\n    var type, size, orientation, config, mobile;\r\n    var sw, sh, bw, bh;\r\n    var maxSW, maxSH;\r\n    var defScrWidth, defScrHeight;\r\n\r\n    RS.ScreenManager.readManifestFile();\r\n\r\n    maxSW = window.innerWidth;\r\n    maxSH = window.innerHeight;\r\n\r\n    // Sets the default screen width and height values.\r\n    defScrWidth = RS.ScreenManager.Params.settings.defaultScreenSize.x;\r\n    defScrHeight = RS.ScreenManager.Params.settings.defaultScreenSize.y;\r\n\r\n    // Obtains the ratio depended on screen orientation.\r\n    orientation = Graphics.getOrientation(true);\r\n    config = new ScreenConfig(maxSW, maxSH, orientation);\r\n\r\n    // Changes the resolution depended on the aspect ratio in the mobile device.\r\n    size = config.getSize(defScrWidth);\r\n\r\n    mobile = !Utils.isNwjs() || RS.ScreenManager.Params.options.aspectRatio;\r\n    sw = (mobile === true) ? size[0] : defScrWidth;\r\n    sh = (mobile === true) ? size[1] : defScrHeight;\r\n    bw = (mobile === true) ? size[0] : defScrWidth;\r\n    bh = (mobile === true) ? size[1] : defScrHeight;\r\n\r\n    // Calls the function changes the resolution in case of the PC.\r\n    if(Utils.isNwjs()) {\r\n    var newSize = new Point(sw, sh);\r\n    Graphics.setScreenResize(newSize);\r\n    } else {\r\n    Graphics.width = sw;\r\n    Graphics.height = sh;\r\n    Graphics.boxWidth = sw;\r\n    Graphics.boxHeight = sh;\r\n    }\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvOV9TY2VuZU1hbmFnZXIuanM/Y2ViMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNjZW5lTWFuYWdlclxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcblNjZW5lTWFuYWdlci5pbml0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHR5cGUsIHNpemUsIG9yaWVudGF0aW9uLCBjb25maWcsIG1vYmlsZTtcclxuICAgIHZhciBzdywgc2gsIGJ3LCBiaDtcclxuICAgIHZhciBtYXhTVywgbWF4U0g7XHJcbiAgICB2YXIgZGVmU2NyV2lkdGgsIGRlZlNjckhlaWdodDtcclxuXHJcbiAgICBSUy5TY3JlZW5NYW5hZ2VyLnJlYWRNYW5pZmVzdEZpbGUoKTtcclxuXHJcbiAgICBtYXhTVyA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgbWF4U0ggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcblxyXG4gICAgLy8gU2V0cyB0aGUgZGVmYXVsdCBzY3JlZW4gd2lkdGggYW5kIGhlaWdodCB2YWx1ZXMuXHJcbiAgICBkZWZTY3JXaWR0aCA9IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLmRlZmF1bHRTY3JlZW5TaXplLng7XHJcbiAgICBkZWZTY3JIZWlnaHQgPSBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5kZWZhdWx0U2NyZWVuU2l6ZS55O1xyXG5cclxuICAgIC8vIE9idGFpbnMgdGhlIHJhdGlvIGRlcGVuZGVkIG9uIHNjcmVlbiBvcmllbnRhdGlvbi5cclxuICAgIG9yaWVudGF0aW9uID0gR3JhcGhpY3MuZ2V0T3JpZW50YXRpb24odHJ1ZSk7XHJcbiAgICBjb25maWcgPSBuZXcgU2NyZWVuQ29uZmlnKG1heFNXLCBtYXhTSCwgb3JpZW50YXRpb24pO1xyXG5cclxuICAgIC8vIENoYW5nZXMgdGhlIHJlc29sdXRpb24gZGVwZW5kZWQgb24gdGhlIGFzcGVjdCByYXRpbyBpbiB0aGUgbW9iaWxlIGRldmljZS5cclxuICAgIHNpemUgPSBjb25maWcuZ2V0U2l6ZShkZWZTY3JXaWR0aCk7XHJcblxyXG4gICAgbW9iaWxlID0gIVV0aWxzLmlzTndqcygpIHx8IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMuYXNwZWN0UmF0aW87XHJcbiAgICBzdyA9IChtb2JpbGUgPT09IHRydWUpID8gc2l6ZVswXSA6IGRlZlNjcldpZHRoO1xyXG4gICAgc2ggPSAobW9iaWxlID09PSB0cnVlKSA/IHNpemVbMV0gOiBkZWZTY3JIZWlnaHQ7XHJcbiAgICBidyA9IChtb2JpbGUgPT09IHRydWUpID8gc2l6ZVswXSA6IGRlZlNjcldpZHRoO1xyXG4gICAgYmggPSAobW9iaWxlID09PSB0cnVlKSA/IHNpemVbMV0gOiBkZWZTY3JIZWlnaHQ7XHJcblxyXG4gICAgLy8gQ2FsbHMgdGhlIGZ1bmN0aW9uIGNoYW5nZXMgdGhlIHJlc29sdXRpb24gaW4gY2FzZSBvZiB0aGUgUEMuXHJcbiAgICBpZihVdGlscy5pc053anMoKSkge1xyXG4gICAgdmFyIG5ld1NpemUgPSBuZXcgUG9pbnQoc3csIHNoKTtcclxuICAgIEdyYXBoaWNzLnNldFNjcmVlblJlc2l6ZShuZXdTaXplKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICBHcmFwaGljcy53aWR0aCA9IHN3O1xyXG4gICAgR3JhcGhpY3MuaGVpZ2h0ID0gc2g7XHJcbiAgICBHcmFwaGljcy5ib3hXaWR0aCA9IHN3O1xyXG4gICAgR3JhcGhpY3MuYm94SGVpZ2h0ID0gc2g7XHJcbiAgICB9XHJcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n")},function(module,exports){eval("//============================================================================\r\n//#region ScreenManager\r\n//============================================================================\r\n\r\nfunction ScreenManager() {\r\n    this.initialize.apply(this, arguments);\r\n}\r\n\r\nScreenManager.prototype = Object.create(Scene_Base.prototype);\r\nScreenManager.prototype.constructor = ScreenManager;\r\n\r\nScreenManager.prototype.initialize = function () {\r\n    Scene_Base.prototype.initialize.call(this);\r\n};\r\n\r\nScreenManager.prototype.create = function () {\r\n    Scene_Base.prototype.create.call(this);\r\n\r\n    this.createWindowLayer();\r\n    this.createAvailGraphicsList();\r\n    this.createPanel();\r\n\r\n};\r\n\r\nScreenManager.prototype.makeSpriteForPanel = function (height) {\r\n    var color1 = Window_Base.prototype.dimColor1();\r\n    var color2 = Window_Base.prototype.dimColor2();\r\n    var x = 0;\r\n    var y = 0;\r\n    var width = Math.floor(Graphics.boxWidth / 3);\r\n    var sprite = new Sprite(new Bitmap(width, height * 2));\r\n\r\n    if(navigator.userAgent.match(/Chrome/)) {\r\n    sprite.bitmap.fillAll(color1);\r\n    } else {\r\n    sprite.bitmap.gradientFillRect(x, y, Math.floor(width / 2), height, color2, color1);\r\n    sprite.bitmap.gradientFillRect(Math.floor(x + width / 2), y, Math.floor(width / 2), height, color1, color2);\r\n    }\r\n    sprite.bitmap.drawText(RS.ScreenManager.localization.get(\"Display Resolutions\"), x, y, width, height, 'center');\r\n\r\n    return sprite;\r\n\r\n};\r\n\r\nScreenManager.prototype.createPanel = function () {\r\n    var height = Math.floor(Graphics.boxHeight / 17);\r\n    var nx = this._availGraphicsList.x;\r\n    var ny = this._availGraphicsList.y - height - 10;\r\n\r\n    this._panel = this.makeSpriteForPanel(height);\r\n    this.setPosition(this._panel, nx, ny).addChild(this._panel);\r\n\r\n};\r\n\r\nScreenManager.prototype.setPosition = function (type, x, y) {\r\n    if(!type) return;\r\n\r\n    type.x = x;\r\n    type.y = y;\r\n\r\n    return this;\r\n\r\n};\r\n\r\nScreenManager.prototype.setHandler = function () {\r\n    if(!this._availGraphicsList) return;\r\n\r\n    this._availGraphicsList.setHandler('ok', this.convertScreenSize.bind(this));\r\n    this._availGraphicsList.setHandler('cancel', this.popScene.bind(this));\r\n\r\n    return this;\r\n\r\n};\r\n\r\nScreenManager.prototype.createDisplayList = function (x, y, width, height) {\r\n    var ClassType = Utils.isNwjs() ? Window_ResolutionList : Window_ResolutionListForMobile;\r\n\r\n    return new ClassType(x, y, width, height);\r\n\r\n};\r\n\r\nScreenManager.prototype.createAvailGraphicsList = function () {\r\n    var width = Math.floor(Graphics.boxWidth / 3);\r\n    var height = Math.floor(Graphics.boxWidth / 2.5);\r\n    var nx = Graphics.boxWidth / 2 - (width / 2);\r\n    var ny = Graphics.boxHeight / 2 - (height / 2);\r\n\r\n    this._availGraphicsList = this.createDisplayList(0, 0, width, height);\r\n    this.setPosition(this._availGraphicsList, nx, ny )\r\n    .setHandler()\r\n    .addWindow(this._availGraphicsList);\r\n\r\n};\r\n\r\nScreenManager.prototype.convertWithAspectRatio = function () {\r\n    var config = new CustomScreenConfig(RS.ScreenManager.Params.settings.customAspectRatio[0], RS.ScreenManager.Params.settings.customAspectRatio[1]);\r\n    var insData = parseInt(window.screen.availWidth / RS.ScreenManager.Params.settings.customAspectRatio[0]) * RS.ScreenManager.Params.settings.customAspectRatio[0];\r\n    var data = config.getSize(insData);\r\n\r\n    Graphics.setScreenResize(new Point(data[0], data[1]));\r\n\r\n};\r\n\r\nScreenManager.prototype.convertWithNwjs = function () {\r\n    var scr = this._availGraphicsList.getCurrentItemToPoint();\r\n\r\n    if(scr) {\r\n    Graphics.setScreenResize(scr);\r\n    } else {\r\n    this.convertWithAspectRatio();\r\n    }\r\n\r\n    if(this._availGraphicsList.item() === RS.ScreenManager.localization.get(\"Full Screen\") ||\r\n    this._availGraphicsList.item() === RS.ScreenManager.localization.get(\"Windowed Mode\")) {\r\n    RS.ScreenManager.switchFullScreen();\r\n    }\r\n\r\n};\r\n\r\nScreenManager.prototype.convertWithOther = function () {\r\n    var scr = this._availGraphicsList.getCurrentItemToPoint();\r\n\r\n    if(scr) {\r\n    var temp = [];\r\n    temp.push(RS.ScreenManager.Params.options.aspectRatio);\r\n    temp.push(RS.ScreenManager.Params.options.resize);\r\n    RS.ScreenManager.Params.options.resize = true;\r\n    RS.ScreenManager.Params.options.aspectRatio = true;\r\n    Graphics.setScreenResize(scr);\r\n    RS.ScreenManager.Params.options.resize = temp.pop();\r\n    RS.ScreenManager.Params.options.aspectRatio = temp.pop();\r\n\r\n    } else {\r\n\r\n    this.convertWithAspectRatio();\r\n\r\n    }\r\n};\r\n\r\nScreenManager.prototype.flushScreen = function () {\r\n    $gameSystem._lastScreenManagerItem = this._availGraphicsList.index();\r\n\r\n    this.popScene();\r\n\r\n};\r\n\r\nScreenManager.prototype.convertScreenSize = function () {\r\n    // PC인가?\r\n    if(Utils.isNwjs()) {\r\n\r\n    this.convertWithNwjs();\r\n\r\n    // 다른 플랫폼인가?\r\n    } else {\r\n\r\n    this.convertWithOther();\r\n\r\n    }\r\n\r\n    // 빠져나간다.\r\n    this.flushScreen();\r\n\r\n};\r\n\r\nwindow.ScreenManager = ScreenManager;\r\n\r\n//#endregion//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvMTBfU2NyZWVuTWFuYWdlci5qcz8xODY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSIsImZpbGUiOiIxNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyNyZWdpb24gU2NyZWVuTWFuYWdlclxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmZ1bmN0aW9uIFNjcmVlbk1hbmFnZXIoKSB7XHJcbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNjZW5lX0Jhc2UucHJvdG90eXBlKTtcclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTY3JlZW5NYW5hZ2VyO1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFNjZW5lX0Jhc2UucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzKTtcclxufTtcclxuXHJcblNjcmVlbk1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFNjZW5lX0Jhc2UucHJvdG90eXBlLmNyZWF0ZS5jYWxsKHRoaXMpO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlV2luZG93TGF5ZXIoKTtcclxuICAgIHRoaXMuY3JlYXRlQXZhaWxHcmFwaGljc0xpc3QoKTtcclxuICAgIHRoaXMuY3JlYXRlUGFuZWwoKTtcclxuXHJcbn07XHJcblxyXG5TY3JlZW5NYW5hZ2VyLnByb3RvdHlwZS5tYWtlU3ByaXRlRm9yUGFuZWwgPSBmdW5jdGlvbiAoaGVpZ2h0KSB7XHJcbiAgICB2YXIgY29sb3IxID0gV2luZG93X0Jhc2UucHJvdG90eXBlLmRpbUNvbG9yMSgpO1xyXG4gICAgdmFyIGNvbG9yMiA9IFdpbmRvd19CYXNlLnByb3RvdHlwZS5kaW1Db2xvcjIoKTtcclxuICAgIHZhciB4ID0gMDtcclxuICAgIHZhciB5ID0gMDtcclxuICAgIHZhciB3aWR0aCA9IE1hdGguZmxvb3IoR3JhcGhpY3MuYm94V2lkdGggLyAzKTtcclxuICAgIHZhciBzcHJpdGUgPSBuZXcgU3ByaXRlKG5ldyBCaXRtYXAod2lkdGgsIGhlaWdodCAqIDIpKTtcclxuXHJcbiAgICBpZihuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWUvKSkge1xyXG4gICAgc3ByaXRlLmJpdG1hcC5maWxsQWxsKGNvbG9yMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgc3ByaXRlLmJpdG1hcC5ncmFkaWVudEZpbGxSZWN0KHgsIHksIE1hdGguZmxvb3Iod2lkdGggLyAyKSwgaGVpZ2h0LCBjb2xvcjIsIGNvbG9yMSk7XHJcbiAgICBzcHJpdGUuYml0bWFwLmdyYWRpZW50RmlsbFJlY3QoTWF0aC5mbG9vcih4ICsgd2lkdGggLyAyKSwgeSwgTWF0aC5mbG9vcih3aWR0aCAvIDIpLCBoZWlnaHQsIGNvbG9yMSwgY29sb3IyKTtcclxuICAgIH1cclxuICAgIHNwcml0ZS5iaXRtYXAuZHJhd1RleHQoUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24uZ2V0KFwiRGlzcGxheSBSZXNvbHV0aW9uc1wiKSwgeCwgeSwgd2lkdGgsIGhlaWdodCwgJ2NlbnRlcicpO1xyXG5cclxuICAgIHJldHVybiBzcHJpdGU7XHJcblxyXG59O1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuY3JlYXRlUGFuZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcihHcmFwaGljcy5ib3hIZWlnaHQgLyAxNyk7XHJcbiAgICB2YXIgbnggPSB0aGlzLl9hdmFpbEdyYXBoaWNzTGlzdC54O1xyXG4gICAgdmFyIG55ID0gdGhpcy5fYXZhaWxHcmFwaGljc0xpc3QueSAtIGhlaWdodCAtIDEwO1xyXG5cclxuICAgIHRoaXMuX3BhbmVsID0gdGhpcy5tYWtlU3ByaXRlRm9yUGFuZWwoaGVpZ2h0KTtcclxuICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5fcGFuZWwsIG54LCBueSkuYWRkQ2hpbGQodGhpcy5fcGFuZWwpO1xyXG5cclxufTtcclxuXHJcblNjcmVlbk1hbmFnZXIucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24gKHR5cGUsIHgsIHkpIHtcclxuICAgIGlmKCF0eXBlKSByZXR1cm47XHJcblxyXG4gICAgdHlwZS54ID0geDtcclxuICAgIHR5cGUueSA9IHk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcblxyXG59O1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuc2V0SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmKCF0aGlzLl9hdmFpbEdyYXBoaWNzTGlzdCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX2F2YWlsR3JhcGhpY3NMaXN0LnNldEhhbmRsZXIoJ29rJywgdGhpcy5jb252ZXJ0U2NyZWVuU2l6ZS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuX2F2YWlsR3JhcGhpY3NMaXN0LnNldEhhbmRsZXIoJ2NhbmNlbCcsIHRoaXMucG9wU2NlbmUuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcblxyXG59O1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuY3JlYXRlRGlzcGxheUxpc3QgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgdmFyIENsYXNzVHlwZSA9IFV0aWxzLmlzTndqcygpID8gV2luZG93X1Jlc29sdXRpb25MaXN0IDogV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlO1xyXG5cclxuICAgIHJldHVybiBuZXcgQ2xhc3NUeXBlKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxufTtcclxuXHJcblNjcmVlbk1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZUF2YWlsR3JhcGhpY3NMaXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHdpZHRoID0gTWF0aC5mbG9vcihHcmFwaGljcy5ib3hXaWR0aCAvIDMpO1xyXG4gICAgdmFyIGhlaWdodCA9IE1hdGguZmxvb3IoR3JhcGhpY3MuYm94V2lkdGggLyAyLjUpO1xyXG4gICAgdmFyIG54ID0gR3JhcGhpY3MuYm94V2lkdGggLyAyIC0gKHdpZHRoIC8gMik7XHJcbiAgICB2YXIgbnkgPSBHcmFwaGljcy5ib3hIZWlnaHQgLyAyIC0gKGhlaWdodCAvIDIpO1xyXG5cclxuICAgIHRoaXMuX2F2YWlsR3JhcGhpY3NMaXN0ID0gdGhpcy5jcmVhdGVEaXNwbGF5TGlzdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5fYXZhaWxHcmFwaGljc0xpc3QsIG54LCBueSApXHJcbiAgICAuc2V0SGFuZGxlcigpXHJcbiAgICAuYWRkV2luZG93KHRoaXMuX2F2YWlsR3JhcGhpY3NMaXN0KTtcclxuXHJcbn07XHJcblxyXG5TY3JlZW5NYW5hZ2VyLnByb3RvdHlwZS5jb252ZXJ0V2l0aEFzcGVjdFJhdGlvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvbmZpZyA9IG5ldyBDdXN0b21TY3JlZW5Db25maWcoUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW9bMF0sIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLmN1c3RvbUFzcGVjdFJhdGlvWzFdKTtcclxuICAgIHZhciBpbnNEYXRhID0gcGFyc2VJbnQod2luZG93LnNjcmVlbi5hdmFpbFdpZHRoIC8gUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW9bMF0pICogUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW9bMF07XHJcbiAgICB2YXIgZGF0YSA9IGNvbmZpZy5nZXRTaXplKGluc0RhdGEpO1xyXG5cclxuICAgIEdyYXBoaWNzLnNldFNjcmVlblJlc2l6ZShuZXcgUG9pbnQoZGF0YVswXSwgZGF0YVsxXSkpO1xyXG5cclxufTtcclxuXHJcblNjcmVlbk1hbmFnZXIucHJvdG90eXBlLmNvbnZlcnRXaXRoTndqcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzY3IgPSB0aGlzLl9hdmFpbEdyYXBoaWNzTGlzdC5nZXRDdXJyZW50SXRlbVRvUG9pbnQoKTtcclxuXHJcbiAgICBpZihzY3IpIHtcclxuICAgIEdyYXBoaWNzLnNldFNjcmVlblJlc2l6ZShzY3IpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgIHRoaXMuY29udmVydFdpdGhBc3BlY3RSYXRpbygpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMuX2F2YWlsR3JhcGhpY3NMaXN0Lml0ZW0oKSA9PT0gUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24uZ2V0KFwiRnVsbCBTY3JlZW5cIikgfHxcclxuICAgIHRoaXMuX2F2YWlsR3JhcGhpY3NMaXN0Lml0ZW0oKSA9PT0gUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24uZ2V0KFwiV2luZG93ZWQgTW9kZVwiKSkge1xyXG4gICAgUlMuU2NyZWVuTWFuYWdlci5zd2l0Y2hGdWxsU2NyZWVuKCk7XHJcbiAgICB9XHJcblxyXG59O1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuY29udmVydFdpdGhPdGhlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzY3IgPSB0aGlzLl9hdmFpbEdyYXBoaWNzTGlzdC5nZXRDdXJyZW50SXRlbVRvUG9pbnQoKTtcclxuXHJcbiAgICBpZihzY3IpIHtcclxuICAgIHZhciB0ZW1wID0gW107XHJcbiAgICB0ZW1wLnB1c2goUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hc3BlY3RSYXRpbyk7XHJcbiAgICB0ZW1wLnB1c2goUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5yZXNpemUpO1xyXG4gICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5yZXNpemUgPSB0cnVlO1xyXG4gICAgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hc3BlY3RSYXRpbyA9IHRydWU7XHJcbiAgICBHcmFwaGljcy5zZXRTY3JlZW5SZXNpemUoc2NyKTtcclxuICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMucmVzaXplID0gdGVtcC5wb3AoKTtcclxuICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMuYXNwZWN0UmF0aW8gPSB0ZW1wLnBvcCgpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgdGhpcy5jb252ZXJ0V2l0aEFzcGVjdFJhdGlvKCk7XHJcblxyXG4gICAgfVxyXG59O1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuZmx1c2hTY3JlZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkZ2FtZVN5c3RlbS5fbGFzdFNjcmVlbk1hbmFnZXJJdGVtID0gdGhpcy5fYXZhaWxHcmFwaGljc0xpc3QuaW5kZXgoKTtcclxuXHJcbiAgICB0aGlzLnBvcFNjZW5lKCk7XHJcblxyXG59O1xyXG5cclxuU2NyZWVuTWFuYWdlci5wcm90b3R5cGUuY29udmVydFNjcmVlblNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBQQ+yduOqwgD9cclxuICAgIGlmKFV0aWxzLmlzTndqcygpKSB7XHJcblxyXG4gICAgdGhpcy5jb252ZXJ0V2l0aE53anMoKTtcclxuXHJcbiAgICAvLyDri6Trpbgg7ZSM656r7Y+87J246rCAP1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICB0aGlzLmNvbnZlcnRXaXRoT3RoZXIoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g67mg7KC464KY6rCE64ukLlxyXG4gICAgdGhpcy5mbHVzaFNjcmVlbigpO1xyXG5cclxufTtcclxuXHJcbndpbmRvdy5TY3JlZW5NYW5hZ2VyID0gU2NyZWVuTWFuYWdlcjtcclxuXHJcbi8vI2VuZHJlZ2lvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n")},function(module,exports){eval("//============================================================================\r\n// Game_System\r\n//============================================================================\r\n\r\nvar alias_Game_System_initialize = Game_System.prototype.initialize;\r\nGame_System.prototype.initialize = function() {\r\n    alias_Game_System_initialize.call(this);\r\n    this._lastScreenManagerItem = 0;\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvMTFfR2FtZV9TeXN0ZW0uanM/MGQ4NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBHYW1lX1N5c3RlbVxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnZhciBhbGlhc19HYW1lX1N5c3RlbV9pbml0aWFsaXplID0gR2FtZV9TeXN0ZW0ucHJvdG90eXBlLmluaXRpYWxpemU7XHJcbkdhbWVfU3lzdGVtLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICBhbGlhc19HYW1lX1N5c3RlbV9pbml0aWFsaXplLmNhbGwodGhpcyk7XHJcbiAgICB0aGlzLl9sYXN0U2NyZWVuTWFuYWdlckl0ZW0gPSAwO1xyXG59OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15\n")},function(module,exports){eval("//#region Option Window\r\n//============================================================================\r\n// Window_Options\r\n//============================================================================\r\n\r\nif(RS.ScreenManager.Params.isValidOptionWindow) {\r\n\r\n    var alias_Window_Options_initialize = Window_Options.prototype.initialize;\r\n    Window_Options.prototype.initialize = function() {\r\n    alias_Window_Options_initialize.call(this);\r\n    this._lastIndex = $gameSystem._lastScreenManagerItem || 0;\r\n    };\r\n\r\n    Window_Options.prototype.isResolution = function (symbol) {\r\n    return symbol.contains('Resolutions');\r\n    };\r\n\r\n    Window_Options.prototype.isAspectRatio = function (symbol) {\r\n    return symbol.contains('Aspect Ratio');\r\n    };\r\n\r\n    Window_Options.prototype.processOk = function() {\r\n    var index = this.index();\r\n    var symbol = this.commandSymbol(index);\r\n    var value = this.getConfigValue(symbol);\r\n    if (this.isVolumeSymbol(symbol)) {\r\n        value += this.volumeOffset();\r\n        if (value > 100) {\r\n            value = 0;\r\n        }\r\n        value = value.clamp(0, 100);\r\n        this.changeValue(symbol, value);\r\n    } else {\r\n        if(this.isResolution( symbol ) ) {\r\n            SceneManager.push( ScreenManager );\r\n        } else {\r\n            this.changeValue(symbol, !value);\r\n        }\r\n    }\r\n    };\r\n\r\n    var alias_Window_Options_cursorRight = Window_Options.prototype.cursorRight;\r\n    Window_Options.prototype.cursorRight = function(wrap) {\r\n    var index = this.index();\r\n    var symbol = this.commandSymbol(index);\r\n    if(!this.isResolution(symbol) || !this.isAspectRatio(symbol)) {\r\n        return alias_Window_Options_cursorRight.call(this, wrap);\r\n    }\r\n    };\r\n\r\n    var alias_Window_Options_cursorLeft = Window_Options.prototype.cursorLeft;  \r\n    Window_Options.prototype.cursorLeft = function(wrap) {\r\n    var index = this.index();\r\n    var symbol = this.commandSymbol(index);\r\n    if(!this.isResolution(symbol) || !this.isAspectRatio(symbol)) {\r\n        return alias_Window_Options_cursorLeft.call(this, wrap);\r\n    }      \r\n    };  \r\n\r\n    Window_Options.prototype.statusText = function(idx) {\r\n    var symbol = this.commandSymbol(idx);\r\n    var value = this.getConfigValue(symbol);\r\n    if (this.isVolumeSymbol(symbol)) {\r\n        return this.volumeStatusText(value);\r\n    } else {\r\n        // 해상도 조절\r\n        if(this.isResolution( symbol ) ) {\r\n        idx = this._lastIndex;\r\n        var item;\r\n\r\n        // PC라면 해상도 표시\r\n        if(Utils.isNwjs()) {\r\n            item = Graphics.getAvailGraphicsArray('String');\r\n            if(!RS.ScreenManager.isFullscreen()) {\r\n                item.push(RS.ScreenManager.localization.get(\"Full Screen\"));\r\n            } else {\r\n                item.push(RS.ScreenManager.localization.get(\"Windowed Mode\"));            \r\n            }\r\n        } else {\r\n            // 그외 플랫폼은 낮음, 보통, 높음, 매우 높음으로 표시\r\n            item = RS.ScreenManager.localization.get(\"MobileResolutions\");\r\n        }\r\n\r\n        return String(Graphics.boxWidth + \" x \" + Graphics.boxHeight);\r\n\r\n        // 종횡비 표시\r\n        } else {\r\n        if( this.isAspectRatio( symbol ) ) {\r\n            return new ScreenConfig(0, 0, '').getRatioAsString(Graphics.boxWidth, Graphics.boxHeight);\r\n        } else {\r\n            return this.booleanStatusText(value);\r\n        }\r\n        }\r\n    }\r\n    };\r\n\r\n    var alias_Window_Options_addVolumeOptions = Window_Options.prototype.addVolumeOptions;\r\n    Window_Options.prototype.addVolumeOptions = function() {\r\n        alias_Window_Options_addVolumeOptions.call(this);\r\n        this.addCommand(RS.ScreenManager.localization.get('Resolutions'), 'Resolutions');\r\n        this.addCommand(RS.ScreenManager.localization.get('Aspect Ratio'), 'Aspect Ratio');\r\n    };\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvMTJfV2luZG93X09wdGlvbnMuanM/MDZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSztBQUNBLE07O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLDhFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBPcHRpb24gV2luZG93XHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBXaW5kb3dfT3B0aW9uc1xyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmlzVmFsaWRPcHRpb25XaW5kb3cpIHtcclxuXHJcbiAgICB2YXIgYWxpYXNfV2luZG93X09wdGlvbnNfaW5pdGlhbGl6ZSA9IFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5pbml0aWFsaXplO1xyXG4gICAgV2luZG93X09wdGlvbnMucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcclxuICAgIGFsaWFzX1dpbmRvd19PcHRpb25zX2luaXRpYWxpemUuY2FsbCh0aGlzKTtcclxuICAgIHRoaXMuX2xhc3RJbmRleCA9ICRnYW1lU3lzdGVtLl9sYXN0U2NyZWVuTWFuYWdlckl0ZW0gfHwgMDtcclxuICAgIH07XHJcblxyXG4gICAgV2luZG93X09wdGlvbnMucHJvdG90eXBlLmlzUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChzeW1ib2wpIHtcclxuICAgIHJldHVybiBzeW1ib2wuY29udGFpbnMoJ1Jlc29sdXRpb25zJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5pc0FzcGVjdFJhdGlvID0gZnVuY3Rpb24gKHN5bWJvbCkge1xyXG4gICAgcmV0dXJuIHN5bWJvbC5jb250YWlucygnQXNwZWN0IFJhdGlvJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5wcm9jZXNzT2sgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgoKTtcclxuICAgIHZhciBzeW1ib2wgPSB0aGlzLmNvbW1hbmRTeW1ib2woaW5kZXgpO1xyXG4gICAgdmFyIHZhbHVlID0gdGhpcy5nZXRDb25maWdWYWx1ZShzeW1ib2wpO1xyXG4gICAgaWYgKHRoaXMuaXNWb2x1bWVTeW1ib2woc3ltYm9sKSkge1xyXG4gICAgICAgIHZhbHVlICs9IHRoaXMudm9sdW1lT2Zmc2V0KCk7XHJcbiAgICAgICAgaWYgKHZhbHVlID4gMTAwKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5jbGFtcCgwLCAxMDApO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlVmFsdWUoc3ltYm9sLCB2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmKHRoaXMuaXNSZXNvbHV0aW9uKCBzeW1ib2wgKSApIHtcclxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLnB1c2goIFNjcmVlbk1hbmFnZXIgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVZhbHVlKHN5bWJvbCwgIXZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBhbGlhc19XaW5kb3dfT3B0aW9uc19jdXJzb3JSaWdodCA9IFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5jdXJzb3JSaWdodDtcclxuICAgIFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5jdXJzb3JSaWdodCA9IGZ1bmN0aW9uKHdyYXApIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgoKTtcclxuICAgIHZhciBzeW1ib2wgPSB0aGlzLmNvbW1hbmRTeW1ib2woaW5kZXgpO1xyXG4gICAgaWYoIXRoaXMuaXNSZXNvbHV0aW9uKHN5bWJvbCkgfHwgIXRoaXMuaXNBc3BlY3RSYXRpbyhzeW1ib2wpKSB7XHJcbiAgICAgICAgcmV0dXJuIGFsaWFzX1dpbmRvd19PcHRpb25zX2N1cnNvclJpZ2h0LmNhbGwodGhpcywgd3JhcCk7XHJcbiAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBhbGlhc19XaW5kb3dfT3B0aW9uc19jdXJzb3JMZWZ0ID0gV2luZG93X09wdGlvbnMucHJvdG90eXBlLmN1cnNvckxlZnQ7ICBcclxuICAgIFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5jdXJzb3JMZWZ0ID0gZnVuY3Rpb24od3JhcCkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCgpO1xyXG4gICAgdmFyIHN5bWJvbCA9IHRoaXMuY29tbWFuZFN5bWJvbChpbmRleCk7XHJcbiAgICBpZighdGhpcy5pc1Jlc29sdXRpb24oc3ltYm9sKSB8fCAhdGhpcy5pc0FzcGVjdFJhdGlvKHN5bWJvbCkpIHtcclxuICAgICAgICByZXR1cm4gYWxpYXNfV2luZG93X09wdGlvbnNfY3Vyc29yTGVmdC5jYWxsKHRoaXMsIHdyYXApO1xyXG4gICAgfSAgICAgIFxyXG4gICAgfTsgIFxyXG5cclxuICAgIFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5zdGF0dXNUZXh0ID0gZnVuY3Rpb24oaWR4KSB7XHJcbiAgICB2YXIgc3ltYm9sID0gdGhpcy5jb21tYW5kU3ltYm9sKGlkeCk7XHJcbiAgICB2YXIgdmFsdWUgPSB0aGlzLmdldENvbmZpZ1ZhbHVlKHN5bWJvbCk7XHJcbiAgICBpZiAodGhpcy5pc1ZvbHVtZVN5bWJvbChzeW1ib2wpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudm9sdW1lU3RhdHVzVGV4dCh2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIO2VtOyDgeuPhCDsobDsoIhcclxuICAgICAgICBpZih0aGlzLmlzUmVzb2x1dGlvbiggc3ltYm9sICkgKSB7XHJcbiAgICAgICAgaWR4ID0gdGhpcy5fbGFzdEluZGV4O1xyXG4gICAgICAgIHZhciBpdGVtO1xyXG5cclxuICAgICAgICAvLyBQQ+udvOuptCDtlbTsg4Hrj4Qg7ZGc7IucXHJcbiAgICAgICAgaWYoVXRpbHMuaXNOd2pzKCkpIHtcclxuICAgICAgICAgICAgaXRlbSA9IEdyYXBoaWNzLmdldEF2YWlsR3JhcGhpY3NBcnJheSgnU3RyaW5nJyk7XHJcbiAgICAgICAgICAgIGlmKCFSUy5TY3JlZW5NYW5hZ2VyLmlzRnVsbHNjcmVlbigpKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnB1c2goUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24uZ2V0KFwiRnVsbCBTY3JlZW5cIikpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5wdXNoKFJTLlNjcmVlbk1hbmFnZXIubG9jYWxpemF0aW9uLmdldChcIldpbmRvd2VkIE1vZGVcIikpOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8g6re47Jm4IO2UjOueq+2PvOydgCDrgq7snYwsIOuztO2GtSwg64aS7J2MLCDrp6TsmrAg64aS7J2M7Jy866GcIO2RnOyLnFxyXG4gICAgICAgICAgICBpdGVtID0gUlMuU2NyZWVuTWFuYWdlci5sb2NhbGl6YXRpb24uZ2V0KFwiTW9iaWxlUmVzb2x1dGlvbnNcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gU3RyaW5nKEdyYXBoaWNzLmJveFdpZHRoICsgXCIgeCBcIiArIEdyYXBoaWNzLmJveEhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIOyihe2aoeu5hCDtkZzsi5xcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmKCB0aGlzLmlzQXNwZWN0UmF0aW8oIHN5bWJvbCApICkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNjcmVlbkNvbmZpZygwLCAwLCAnJykuZ2V0UmF0aW9Bc1N0cmluZyhHcmFwaGljcy5ib3hXaWR0aCwgR3JhcGhpY3MuYm94SGVpZ2h0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ib29sZWFuU3RhdHVzVGV4dCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGFsaWFzX1dpbmRvd19PcHRpb25zX2FkZFZvbHVtZU9wdGlvbnMgPSBXaW5kb3dfT3B0aW9ucy5wcm90b3R5cGUuYWRkVm9sdW1lT3B0aW9ucztcclxuICAgIFdpbmRvd19PcHRpb25zLnByb3RvdHlwZS5hZGRWb2x1bWVPcHRpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgYWxpYXNfV2luZG93X09wdGlvbnNfYWRkVm9sdW1lT3B0aW9ucy5jYWxsKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZChSUy5TY3JlZW5NYW5hZ2VyLmxvY2FsaXphdGlvbi5nZXQoJ1Jlc29sdXRpb25zJyksICdSZXNvbHV0aW9ucycpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZChSUy5TY3JlZW5NYW5hZ2VyLmxvY2FsaXphdGlvbi5nZXQoJ0FzcGVjdCBSYXRpbycpLCAnQXNwZWN0IFJhdGlvJyk7XHJcbiAgICB9O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n")},function(module,exports){eval("\r\n//============================================================================\r\n// Window_ResolutionList\r\n//============================================================================\r\n\r\nfunction Window_ResolutionList() {\r\n    this.initialize.apply(this, arguments);\r\n};\r\n\r\nWindow_ResolutionList.prototype = Object.create(Window_Selectable.prototype);\r\nWindow_ResolutionList.prototype.constructor = Window_ResolutionList;\r\n\r\nWindow_ResolutionList.prototype.initialize = function (x, y, width, height) {\r\n    Window_Selectable.prototype.initialize.call(this, x, y, width, height);\r\n\r\n    this.initMembers();\r\n    this.initWithItemPoint();\r\n    this.refresh();\r\n    this.activate();\r\n\r\n    this.select($gameSystem._lastScreenManagerItem || 0);\r\n\r\n};\r\n\r\nWindow_ResolutionList.prototype.initMembers = function () {\r\n    this._windowFrameSprite.visible = false;\r\n\r\n    this._index = 0;\r\n    this._item = [];\r\n\r\n};\r\n\r\nWindow_ResolutionList.prototype.lineHeight = function () {\r\n    return Math.round(Graphics.boxHeight / 16);\r\n};\r\n\r\nWindow_ResolutionList.prototype.initWithAspectRatio = function (data) {\r\n    if(RS.ScreenManager.Params.options.aspectRatio) {\r\n\r\n    var config = new CustomScreenConfig(RS.ScreenManager.Params.settings.customAspectRatio[0], RS.ScreenManager.Params.settings.customAspectRatio[1]);\r\n    var insData = parseInt(window.screen.availWidth / RS.ScreenManager.Params.settings.customAspectRatio[0]) * RS.ScreenManager.Params.settings.customAspectRatio[0];\r\n    var fullscreenData = config.getSize(insData);\r\n\r\n    data.push(new Point(fullscreenData[0], fullscreenData[1]));\r\n\r\n    }\r\n\r\n    return data;\r\n\r\n};\r\n\r\nWindow_ResolutionList.prototype.initWithItemPoint = function () {\r\n    var data = Graphics.getAvailGraphicsArray('Number');\r\n    var ret = [];\r\n\r\n    // 배열 내 중복된 데이터를 제거합니다.\r\n    this.uniqWithPoint(data.slice(0), function (newData) {\r\n    ret = newData;\r\n    });\r\n\r\n    ret = this.initWithAspectRatio(ret);\r\n\r\n    this._itemToPoint = ret;\r\n};\r\n\r\nWindow_ResolutionList.prototype.uniqWithPoint = function (data, callback) {\r\n    var ret = [];\r\n    ret = data.filter(function(e, i, a) {\r\n\r\n    if(a[i-1] instanceof Point) {\r\n\r\n        if(a[i-1].x === e.x && a[i-1].y === e.y) {\r\n\r\n        return false;\r\n\r\n        }\r\n\r\n        return true;\r\n\r\n    } else {\r\n\r\n        return true;\r\n\r\n    }\r\n    });\r\n\r\n    callback(ret);\r\n\r\n};\r\n\r\nWindow_ResolutionList.prototype.getCurrentItemToPoint = function () {\r\n    return this._itemToPoint && this._index >= 0 ? this._itemToPoint[this._index] : null;\r\n};\r\n\r\nWindow_ResolutionList.prototype.maxItems = function() {\r\n    return this._data ? this._data.length : 1;\r\n};\r\n\r\nWindow_ResolutionList.prototype.item = function() {\r\n    return this._data && this._index >= 0 ? this._data[this._index] : null;\r\n};\r\n\r\nWindow_ResolutionList.prototype.makeItemList = function() {\r\n    this._data = Graphics.getAvailGraphicsArray('String');\r\n    if(RS.ScreenManager.Params.options.aspectRatio) this._data = this.uniq(this._data.slice(0));\r\n    if(!RS.ScreenManager.isFullscreen()) {\r\n    this._data.push(RS.ScreenManager.localization.get(\"Full Screen\"));\r\n    } else {\r\n    this._data.push(RS.ScreenManager.localization.get(\"Windowed Mode\"));\r\n    }\r\n};\r\n\r\nWindow_ResolutionList.prototype.isCurrentItemEnabled = function() {\r\n    return this.isEnabled(this._data[this.index()]);\r\n};\r\n\r\nWindow_ResolutionList.prototype.isEnabled = function(item) {\r\n    return !!item;\r\n};\r\n\r\nWindow_ResolutionList.prototype.resetFontSettings = function() {\r\n    this.contents.fontFace = this.standardFontFace();\r\n    this.contents.fontSize = this.standardFontSize();\r\n    this.contents.outlineColor = Utils.rgbToCssColor(128, 0, 0);\r\n    this.contents.outlineWidth = 2;\r\n    this.resetTextColor();\r\n};\r\n\r\nWindow_ResolutionList.prototype.drawItem = function(index) {\r\n    var rect = this.itemRectForText(index);\r\n    var text = this._data[index];\r\n\r\n    this.resetTextColor();\r\n\r\n    this.drawText(text, rect.x, rect.y, rect.width, 'center');\r\n\r\n};\r\n\r\nWindow_ResolutionList.prototype.refresh = function() {\r\n    this.makeItemList();\r\n    this.createContents();\r\n    this.drawAllItems();\r\n};\r\n\r\nWindow_ResolutionList.prototype.uniq = function (data) {\r\n    data = data.filter(function (e, i, a) {\r\n    return a.indexOf(e) === i;\r\n    }, this);\r\n    return data;\r\n};\r\n//#endregion\r\n\r\n//============================================================================\r\n//#region Window_ResolutionListForMobile\r\n//============================================================================\r\n/**\r\n * PC가 아닌 플랫폼에서는 창 사이즈가 변경되지 않으므로 그래픽 객체 크기를 변경한다.\r\n * @class Window_ResolutionListForMobile\r\n */\r\nfunction Window_ResolutionListForMobile() {\r\n    this.initialize.apply(this, arguments);\r\n};\r\n\r\nWindow_ResolutionListForMobile.prototype = Object.create(Window_ResolutionList.prototype);\r\nWindow_ResolutionListForMobile.prototype.constructor = Window_ResolutionListForMobile;\r\n\r\nWindow_ResolutionListForMobile.prototype.initialize = function (x, y, width, height) {\r\n    Window_ResolutionList.prototype.initialize.call(this, x, y, width, height);\r\n};\r\n\r\nWindow_ResolutionListForMobile.prototype.initWithItemPoint = function () {\r\n    var temp = RS.ScreenManager.Params.options.allResolutions;\r\n    var ret, data = Graphics.getAvailGraphicsArray(\"Number\");\r\n    RS.ScreenManager.Params.options.allResolutions = temp;\r\n\r\n    ret = this.initWithAspectRatio(data);\r\n\r\n    this._itemToPoint = ret;\r\n};\r\n\r\nWindow_ResolutionListForMobile.prototype.lineHeight = function () {\r\n    return Math.round(Graphics.boxHeight / 10);\r\n};\r\n\r\nWindow_ResolutionListForMobile.prototype.makeItemList = function() {\r\n    this._data = RS.ScreenManager.localization.get(\"MobileResolutions\");\r\n};\r\n\r\nWindow_ResolutionListForMobile.prototype.getCurrentItemToPoint = function () {\r\n    return this._itemToPoint && this._index >= 0 ? this._itemToPoint[this._index] : null;\r\n};\r\n\r\nWindow_ResolutionListForMobile.prototype.drawItem = function(index) {\r\n    var rect = this.itemRectForText(index);\r\n    var text = this._data[index];\r\n    this.resetTextColor();\r\n    this.drawText(text, rect.x, rect.y, rect.width, 'center');\r\n};\r\n\r\nwindow.Window_ResolutionList = Window_ResolutionList;\r\nwindow.Window_ResolutionListForMobile = Window_ResolutionListForMobile;\r\n\r\n//#endregion//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvMTNfV2luZG93X1Jlc29sdXRpb25MaXN0LmpzPzc4OGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsS0FBSzs7QUFFTDs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFdpbmRvd19SZXNvbHV0aW9uTGlzdFxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmZ1bmN0aW9uIFdpbmRvd19SZXNvbHV0aW9uTGlzdCgpIHtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV2luZG93X1NlbGVjdGFibGUucHJvdG90eXBlKTtcclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFdpbmRvd19SZXNvbHV0aW9uTGlzdDtcclxuXHJcbldpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICBXaW5kb3dfU2VsZWN0YWJsZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgIHRoaXMuaW5pdE1lbWJlcnMoKTtcclxuICAgIHRoaXMuaW5pdFdpdGhJdGVtUG9pbnQoKTtcclxuICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgdGhpcy5hY3RpdmF0ZSgpO1xyXG5cclxuICAgIHRoaXMuc2VsZWN0KCRnYW1lU3lzdGVtLl9sYXN0U2NyZWVuTWFuYWdlckl0ZW0gfHwgMCk7XHJcblxyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5pbml0TWVtYmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuX3dpbmRvd0ZyYW1lU3ByaXRlLnZpc2libGUgPSBmYWxzZTtcclxuXHJcbiAgICB0aGlzLl9pbmRleCA9IDA7XHJcbiAgICB0aGlzLl9pdGVtID0gW107XHJcblxyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5saW5lSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIE1hdGgucm91bmQoR3JhcGhpY3MuYm94SGVpZ2h0IC8gMTYpO1xyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5pbml0V2l0aEFzcGVjdFJhdGlvID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9wdGlvbnMuYXNwZWN0UmF0aW8pIHtcclxuXHJcbiAgICB2YXIgY29uZmlnID0gbmV3IEN1c3RvbVNjcmVlbkNvbmZpZyhSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5jdXN0b21Bc3BlY3RSYXRpb1swXSwgUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW9bMV0pO1xyXG4gICAgdmFyIGluc0RhdGEgPSBwYXJzZUludCh3aW5kb3cuc2NyZWVuLmF2YWlsV2lkdGggLyBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5jdXN0b21Bc3BlY3RSYXRpb1swXSkgKiBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5jdXN0b21Bc3BlY3RSYXRpb1swXTtcclxuICAgIHZhciBmdWxsc2NyZWVuRGF0YSA9IGNvbmZpZy5nZXRTaXplKGluc0RhdGEpO1xyXG5cclxuICAgIGRhdGEucHVzaChuZXcgUG9pbnQoZnVsbHNjcmVlbkRhdGFbMF0sIGZ1bGxzY3JlZW5EYXRhWzFdKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG5cclxufTtcclxuXHJcbldpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUuaW5pdFdpdGhJdGVtUG9pbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZGF0YSA9IEdyYXBoaWNzLmdldEF2YWlsR3JhcGhpY3NBcnJheSgnTnVtYmVyJyk7XHJcbiAgICB2YXIgcmV0ID0gW107XHJcblxyXG4gICAgLy8g67Cw7Je0IOuCtCDspJHrs7XrkJwg642w7J207YSw66W8IOygnOqxsO2VqeuLiOuLpC5cclxuICAgIHRoaXMudW5pcVdpdGhQb2ludChkYXRhLnNsaWNlKDApLCBmdW5jdGlvbiAobmV3RGF0YSkge1xyXG4gICAgcmV0ID0gbmV3RGF0YTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldCA9IHRoaXMuaW5pdFdpdGhBc3BlY3RSYXRpbyhyZXQpO1xyXG5cclxuICAgIHRoaXMuX2l0ZW1Ub1BvaW50ID0gcmV0O1xyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS51bmlxV2l0aFBvaW50ID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgcmV0ID0gW107XHJcbiAgICByZXQgPSBkYXRhLmZpbHRlcihmdW5jdGlvbihlLCBpLCBhKSB7XHJcblxyXG4gICAgaWYoYVtpLTFdIGluc3RhbmNlb2YgUG9pbnQpIHtcclxuXHJcbiAgICAgICAgaWYoYVtpLTFdLnggPT09IGUueCAmJiBhW2ktMV0ueSA9PT0gZS55KSB7XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjYWxsYmFjayhyZXQpO1xyXG5cclxufTtcclxuXHJcbldpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUuZ2V0Q3VycmVudEl0ZW1Ub1BvaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2l0ZW1Ub1BvaW50ICYmIHRoaXMuX2luZGV4ID49IDAgPyB0aGlzLl9pdGVtVG9Qb2ludFt0aGlzLl9pbmRleF0gOiBudWxsO1xyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5tYXhJdGVtcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RhdGEgPyB0aGlzLl9kYXRhLmxlbmd0aCA6IDE7XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3QucHJvdG90eXBlLml0ZW0gPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLl9kYXRhICYmIHRoaXMuX2luZGV4ID49IDAgPyB0aGlzLl9kYXRhW3RoaXMuX2luZGV4XSA6IG51bGw7XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3QucHJvdG90eXBlLm1ha2VJdGVtTGlzdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5fZGF0YSA9IEdyYXBoaWNzLmdldEF2YWlsR3JhcGhpY3NBcnJheSgnU3RyaW5nJyk7XHJcbiAgICBpZihSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLmFzcGVjdFJhdGlvKSB0aGlzLl9kYXRhID0gdGhpcy51bmlxKHRoaXMuX2RhdGEuc2xpY2UoMCkpO1xyXG4gICAgaWYoIVJTLlNjcmVlbk1hbmFnZXIuaXNGdWxsc2NyZWVuKCkpIHtcclxuICAgIHRoaXMuX2RhdGEucHVzaChSUy5TY3JlZW5NYW5hZ2VyLmxvY2FsaXphdGlvbi5nZXQoXCJGdWxsIFNjcmVlblwiKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgdGhpcy5fZGF0YS5wdXNoKFJTLlNjcmVlbk1hbmFnZXIubG9jYWxpemF0aW9uLmdldChcIldpbmRvd2VkIE1vZGVcIikpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5pc0N1cnJlbnRJdGVtRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNFbmFibGVkKHRoaXMuX2RhdGFbdGhpcy5pbmRleCgpXSk7XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3QucHJvdG90eXBlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIHJldHVybiAhIWl0ZW07XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3QucHJvdG90eXBlLnJlc2V0Rm9udFNldHRpbmdzID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmNvbnRlbnRzLmZvbnRGYWNlID0gdGhpcy5zdGFuZGFyZEZvbnRGYWNlKCk7XHJcbiAgICB0aGlzLmNvbnRlbnRzLmZvbnRTaXplID0gdGhpcy5zdGFuZGFyZEZvbnRTaXplKCk7XHJcbiAgICB0aGlzLmNvbnRlbnRzLm91dGxpbmVDb2xvciA9IFV0aWxzLnJnYlRvQ3NzQ29sb3IoMTI4LCAwLCAwKTtcclxuICAgIHRoaXMuY29udGVudHMub3V0bGluZVdpZHRoID0gMjtcclxuICAgIHRoaXMucmVzZXRUZXh0Q29sb3IoKTtcclxufTtcclxuXHJcbldpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUuZHJhd0l0ZW0gPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgdmFyIHJlY3QgPSB0aGlzLml0ZW1SZWN0Rm9yVGV4dChpbmRleCk7XHJcbiAgICB2YXIgdGV4dCA9IHRoaXMuX2RhdGFbaW5kZXhdO1xyXG5cclxuICAgIHRoaXMucmVzZXRUZXh0Q29sb3IoKTtcclxuXHJcbiAgICB0aGlzLmRyYXdUZXh0KHRleHQsIHJlY3QueCwgcmVjdC55LCByZWN0LndpZHRoLCAnY2VudGVyJyk7XHJcblxyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0LnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLm1ha2VJdGVtTGlzdCgpO1xyXG4gICAgdGhpcy5jcmVhdGVDb250ZW50cygpO1xyXG4gICAgdGhpcy5kcmF3QWxsSXRlbXMoKTtcclxufTtcclxuXHJcbldpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUudW5pcSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBkYXRhID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGUsIGksIGEpIHtcclxuICAgIHJldHVybiBhLmluZGV4T2YoZSkgPT09IGk7XHJcbiAgICB9LCB0aGlzKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG59O1xyXG4vLyNlbmRyZWdpb25cclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyNyZWdpb24gV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vKipcclxuICogUEPqsIAg7JWE64uMIO2UjOueq+2PvOyXkOyEnOuKlCDssL0g7IKs7J207KaI6rCAIOuzgOqyveuQmOyngCDslYrsnLzrr4DroZwg6re4656Y7ZS9IOqwneyytCDtgazquLDrpbwg67OA6rK97ZWc64ukLlxyXG4gKiBAY2xhc3MgV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlXHJcbiAqL1xyXG5mdW5jdGlvbiBXaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGUoKSB7XHJcbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuXHJcbldpbmRvd19SZXNvbHV0aW9uTGlzdEZvck1vYmlsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFdpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUpO1xyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlO1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIFdpbmRvd19SZXNvbHV0aW9uTGlzdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlLnByb3RvdHlwZS5pbml0V2l0aEl0ZW1Qb2ludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0ZW1wID0gUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMub3B0aW9ucy5hbGxSZXNvbHV0aW9ucztcclxuICAgIHZhciByZXQsIGRhdGEgPSBHcmFwaGljcy5nZXRBdmFpbEdyYXBoaWNzQXJyYXkoXCJOdW1iZXJcIik7XHJcbiAgICBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zLmFsbFJlc29sdXRpb25zID0gdGVtcDtcclxuXHJcbiAgICByZXQgPSB0aGlzLmluaXRXaXRoQXNwZWN0UmF0aW8oZGF0YSk7XHJcblxyXG4gICAgdGhpcy5faXRlbVRvUG9pbnQgPSByZXQ7XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGUucHJvdG90eXBlLmxpbmVIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChHcmFwaGljcy5ib3hIZWlnaHQgLyAxMCk7XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGUucHJvdG90eXBlLm1ha2VJdGVtTGlzdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5fZGF0YSA9IFJTLlNjcmVlbk1hbmFnZXIubG9jYWxpemF0aW9uLmdldChcIk1vYmlsZVJlc29sdXRpb25zXCIpO1xyXG59O1xyXG5cclxuV2luZG93X1Jlc29sdXRpb25MaXN0Rm9yTW9iaWxlLnByb3RvdHlwZS5nZXRDdXJyZW50SXRlbVRvUG9pbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faXRlbVRvUG9pbnQgJiYgdGhpcy5faW5kZXggPj0gMCA/IHRoaXMuX2l0ZW1Ub1BvaW50W3RoaXMuX2luZGV4XSA6IG51bGw7XHJcbn07XHJcblxyXG5XaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGUucHJvdG90eXBlLmRyYXdJdGVtID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgIHZhciByZWN0ID0gdGhpcy5pdGVtUmVjdEZvclRleHQoaW5kZXgpO1xyXG4gICAgdmFyIHRleHQgPSB0aGlzLl9kYXRhW2luZGV4XTtcclxuICAgIHRoaXMucmVzZXRUZXh0Q29sb3IoKTtcclxuICAgIHRoaXMuZHJhd1RleHQodGV4dCwgcmVjdC54LCByZWN0LnksIHJlY3Qud2lkdGgsICdjZW50ZXInKTtcclxufTtcclxuXHJcbndpbmRvdy5XaW5kb3dfUmVzb2x1dGlvbkxpc3QgPSBXaW5kb3dfUmVzb2x1dGlvbkxpc3Q7XHJcbndpbmRvdy5XaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGUgPSBXaW5kb3dfUmVzb2x1dGlvbkxpc3RGb3JNb2JpbGU7XHJcblxyXG4vLyNlbmRyZWdpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n")},function(module,exports){eval('//============================================================================\r\n//#region Sprite_Base\r\n//============================================================================\r\n\r\nSprite_Base.prototype.requestStretch = function (sprite) {\r\n    if(!sprite.bitmap) return;\r\n    var bitmap = sprite.bitmap;\r\n    if(bitmap.width <= 0) return;\r\n    if(bitmap.height <= 0) return;\r\n    var scaleX = Graphics.boxWidth / bitmap.width;\r\n    var scaleY = Graphics.boxHeight / bitmap.height;\r\n    sprite.scale.x = (scaleX > 1.0) ? scaleX : 1.0;\r\n    sprite.scale.y = (scaleY > 1.0) ? scaleY : 1.0;\r\n\r\n    if(RS.ScreenManager.Params.picturePosType === "Virtual Coordinates") {\r\n    var x = sprite.x;\r\n    var y = sprite.y;\r\n    var sw = bitmap.width * sprite.scale.x; // scale width and height\r\n    var sh = bitmap.height * sprite.scale.y;\r\n    var dw = bitmap.width; // original width and original height\r\n    var dh = bitmap.height;\r\n    \r\n    if(dw == 0 || dh == 0) {\r\n        return;\r\n    }\r\n\r\n    var dx = x * (sw / dw); // destination position\r\n    var dy = y * (sh / dh);\r\n\r\n    // position\r\n    sprite.x = Math.floor(dx);\r\n    sprite.y = Math.floor(dy);\r\n\r\n    }\r\n\r\n};\r\n//#endregion\r\n\r\n//============================================================================\r\n//#region TilingSprite\r\n//============================================================================\r\nTilingSprite.prototype.reqeustResizeImage = function() {\r\n\r\n    if(!this.texture.frame) {\r\n    this.texture.frame = new PIXI.Rectangle(0, 0, Graphics.boxWidth, Graphics.boxHeight);\r\n    }\r\n\r\n    this.texture.frame.width = Graphics.boxWidth;\r\n    this.texture.frame.height = Graphics.boxHeight;\r\n\r\n}\r\n\r\nTilingSprite.prototype.isValidResizing = function() {\r\n    if(!RS.ScreenManager.Params.isValidScaledBattleback) return;\r\n    if(!this.bitmap) return false;\r\n    if(this.bitmap.width <= 0) return false;\r\n    if(this.bitmap.height <= 0) return false;\r\n    if(!this.visible) return false;\r\n    if(this.opacity <= 0) return false;\r\n    if(!this.bitmap._url) return false;\r\n    if(!this.texture) return false;\r\n\r\n    var url = this.bitmap._url;\r\n    var fileUri = url.split("/");\r\n    var filename = fileUri.pop();\r\n    var folderName = fileUri.pop();\r\n    \r\n    if([\'battlebacks1\', \'battlebacks2\'].contains(folderName)) {\r\n    this._folderName = folderName;\r\n    return true;\r\n    }\r\n\r\n    return false;\r\n\r\n};\r\n\r\nTilingSprite.prototype.resizeImage = function() {\r\n    if( this.isValidResizing() ) {\r\n    this.reqeustResizeImage();\r\n    }\r\n};\r\n\r\nvar alias_TilingSprite__onBitmapLoad = TilingSprite.prototype._onBitmapLoad;\r\nTilingSprite.prototype._onBitmapLoad = function() {\r\n    alias_TilingSprite__onBitmapLoad.call(this);\r\n    this.resizeImage();\r\n};\r\n\r\n//#endregion\r\n\r\n//============================================================================\r\n// Sprite_Actor\r\n//============================================================================  \r\n\r\n    // These functions are worked fine in the vanilla mode only!!\r\n    // I couldn\'t test the impact yet when using the plugin named YEP_BattleEngineCore.\r\n    if(!Imported.YEP_BattleEngineCore) {\r\n\r\n        Sprite_Actor.prototype.moveToStartPosition = function() {\r\n          eval($.Params.actorFunc.moveToStartPosition);        \r\n        };\r\n      \r\n        Sprite_Actor.prototype.setActorHome = function(index) {\r\n          eval($.Params.actorFunc.setActorHome);\r\n        };    \r\n  \r\n        Sprite_Actor.prototype.stepForward = function() {\r\n          eval($.Params.actorFunc.stepForward);\r\n        };\r\n        \r\n        Sprite_Actor.prototype.stepBack = function() {\r\n          eval($.Params.actorFunc.stepBack);\r\n        };\r\n        \r\n        Sprite_Actor.prototype.retreat = function() {\r\n          eval($.Params.actorFunc.retreat);\r\n        };   \r\n      \r\n    }    \r\n\r\n//============================================================================\r\n// Spriteset_Battle\r\n//============================================================================    \r\n\r\nif(RS.ScreenManager.Params.isValidScaledBattleback) {\r\n\r\n    /**\r\n     * Override\r\n     * @method createBattleback\r\n     */\r\n    Spriteset_Battle.prototype.createBattleback = function() {\r\n    var margin = 0;\r\n    var x = -this._battleField.x - margin;\r\n    var y = -this._battleField.y - margin;\r\n    var width = Graphics.width + margin * 2;\r\n    var height = Graphics.height + margin * 2;\r\n    this._back1Sprite = new TilingSprite();\r\n    this._back2Sprite = new TilingSprite();\r\n    this._back1Sprite.bitmap = this.battleback1Bitmap();\r\n    this._back2Sprite.bitmap = this.battleback2Bitmap();\r\n    this._back1Sprite.move(x, y, width, height);\r\n    this._back2Sprite.move(x, y, width, height);\r\n    this._battleField.addChild(this._back1Sprite);\r\n    this._battleField.addChild(this._back2Sprite);\r\n    };\r\n\r\n    /**\r\n     * Override\r\n     * @method locateBattleback\r\n     */  \r\n    Spriteset_Battle.prototype.locateBattleback = function() {\r\n\r\n    var sprite1 = this._back1Sprite;\r\n    var sprite2 = this._back2Sprite;\r\n    sprite1.origin.x = 0;\r\n    sprite2.origin.x = 0;\r\n    if ($gameSystem.isSideView()) {\r\n        sprite1.origin.y = 0;\r\n        sprite2.origin.y = 0;\r\n    }\r\n\r\n    };\r\n\r\n}\r\n\r\n//============================================================================\r\n//#region Sprite_Picture\r\n//============================================================================  \r\n\r\n(function() {\r\n\r\n    /**\r\n     * Find a script called "DTextPicture.js"\r\n     */\r\n    PluginManager._scripts.forEach(function(pluginName) {\r\n    if(pluginName === "DTextPicture") {\r\n        Imported.DTextPicture = true;\r\n    }\r\n    }, this);\r\n\r\n})();\r\n\r\nvar alias_Sprite_Picture_updatePosition = Sprite_Picture.prototype.updatePosition;\r\nSprite_Picture.prototype.updatePosition = function() {\r\n    if(RS.ScreenManager.Params.isAutoScaledPicture) return;\r\n    alias_Sprite_Picture_updatePosition.call(this);\r\n};\r\n\r\nvar alias_Sprite_Picture_updateScale = Sprite_Picture.prototype.updateScale;\r\nSprite_Picture.prototype.updateScale = function() {\r\n    if(RS.ScreenManager.Params.isAutoScaledPicture) return;\r\n    alias_Sprite_Picture_updateScale.call(this);\r\n};\r\n\r\nSprite_Picture.prototype.updateOriginScale = function() {\r\n    var picture = this.picture();\r\n    this.x = Math.floor(picture.x());\r\n    this.y = Math.floor(picture.y());\r\n    var originSX = picture.scaleX() / 100;\r\n    var originSY = picture.scaleY() / 100;        \r\n    this.scale.x = originSX;\r\n    this.scale.y = originSY;\r\n};\r\n\r\nSprite_Picture.prototype.updateAutoScale = function() {\r\n\r\n    /**\r\n     * @type {Game_Picture}\r\n     */\r\n    var picture = this.picture();\r\n    var bitmap = this.bitmap;\r\n\r\n    if(!bitmap) {\r\n    this.updateOriginScale();\r\n    return;\r\n    }\r\n    \r\n    // Sometimes the game picture has to use a default scale.\r\n    var blacklist = RS.ScreenManager.Params.ignoreAutoScalePictures || [];\r\n    if(blacklist.contains(this._pictureId)) {\r\n    this.updateOriginScale();  \r\n    return;      \r\n    }\r\n\r\n    var originSX = picture.scaleX() / 100;\r\n    var originSY = picture.scaleY() / 100;\r\n\r\n    // Get the original width and height values\r\n    var dw = bitmap.width * originSX;\r\n    var dh = bitmap.height * originSY;\r\n\r\n    // Can not divide with 0\r\n    if(dw === 0 || dh === 0) {\r\n    this.updateOriginScale();    \r\n    return;\r\n    }\r\n\r\n    // Store the original coordinates before changing its size.\r\n    var x = picture.x();\r\n    var y = picture.y();\r\n\r\n    var originalViewWidth = parseInt(RS.ScreenManager.Params.originalPictureViewSize.width);\r\n    var originalViewHeight = parseInt(RS.ScreenManager.Params.originalPictureViewSize.height);\r\n    var scaleX = originSX;\r\n    var scaleY = originSY;\r\n\r\n    if(Graphics.boxWidth > originalViewWidth) {\r\n    scaleX = Graphics.boxWidth / originalViewWidth;\r\n    } else if(Graphics.boxWidth < originalViewWidth) {\r\n    scaleX = originalViewWidth / Graphics.boxWidth;\r\n    }\r\n\r\n    scaleY = Graphics.boxHeight / originalViewHeight;\r\n    \r\n    // Perform re-scale and re-position.\r\n    this.scale.x = scaleX;\r\n    this.scale.y = scaleY;\r\n\r\n    if(RS.ScreenManager.Params.picturePosType === "Virtual Coordinates") {\r\n\r\n    var sw = bitmap.width * scaleX;\r\n    var sh = bitmap.height * scaleY;\r\n    var dx = x * (sw / dw);\r\n    var dy = y * (sh / dh);\r\n\r\n    this.x = Math.floor(dx);\r\n    this.y = Math.floor(dy);\r\n\r\n    } else {\r\n\r\n    this.x = Math.floor(x);\r\n    this.y = Math.floor(y);\r\n\r\n    }\r\n\r\n};\r\n\r\nvar alias_Sprite_Picture_update = Sprite_Picture.prototype.update;\r\nSprite_Picture.prototype.update = function() {\r\n    alias_Sprite_Picture_update.call(this);\r\n    if(this.visible && RS.ScreenManager.Params.isAutoScaledPicture) {\r\n    this.updateAutoScale();\r\n    }\r\n};\r\n\r\n//#endregion\r\n\r\n//#region Rescaling Background\r\n//============================================================================\r\n// Scene_Base\r\n//============================================================================\r\n\r\nScene_Base.prototype.requestStretch = function (sprite) {\r\n    if(!sprite.bitmap) return;\r\n    var bitmap = sprite.bitmap;\r\n    if(bitmap.width <= 0) return;\r\n    if(bitmap.height <= 0) return;\r\n    var scaleX = Graphics.boxWidth / bitmap.width;\r\n    var scaleY = Graphics.boxHeight / bitmap.height;\r\n    sprite.scale.x = (scaleX > 1.0) ? scaleX : 1.0;\r\n    sprite.scale.y = (scaleY > 1.0) ? scaleY : 1.0;\r\n    sprite.x = Graphics.boxWidth / 2;\r\n    sprite.y = Graphics.boxHeight / 2;\r\n    sprite.anchor.x = 0.5;\r\n    sprite.anchor.y = 0.5;\r\n};\r\n\r\n//============================================================================\r\n// Scene_MenuBase\r\n//============================================================================\r\n\r\nvar alias_Scene_MenuBase_start = Scene_MenuBase.prototype.start;\r\nScene_MenuBase.prototype.start = function() {\r\n    alias_Scene_MenuBase_start.call(this);\r\n    this.requestStretch(this._backgroundSprite);\r\n};\r\n\r\n//============================================================================\r\n// Window\r\n//============================================================================\r\n\r\nif(RS.ScreenManager.Params.settings.defaultScreenSize.x <= 320 && \r\n    RS.ScreenManager.Params.settings.defaultScreenSize.y <= 240) {\r\n    var alias_Window_Command_windowWidth = Window_Command.prototype.windowWidth;\r\n    Window_Command.prototype.windowWidth = function() {\r\n        return Graphics.getVirtualWidth(alias_Window_Command_windowWidth.call(this));\r\n    };\r\n    \r\n    var alias_Window_Command_lineHeight = Window_Command.prototype.lineHeight;\r\n    Window_Command.prototype.lineHeight = function() {\r\n        return Graphics.getVirtualHeight(alias_Window_Command_lineHeight.call(this));\r\n    };  \r\n    \r\n    var alias_Window_Base_standardFontSize = Window_Base.prototype.standardFontSize;\r\n    Window_Base.prototype.standardFontSize = function() {\r\n        return Graphics.getVirtualHeight(alias_Window_Base_standardFontSize.call(this));\r\n    };\r\n    \r\n    var alias_Window_Base_standardPadding = Window_Base.prototype.standardPadding;\r\n    Window_Base.prototype.standardPadding = function() {\r\n        return Graphics.getVirtualWidth(alias_Window_Base_standardPadding.call(this));\r\n    };\r\n    \r\n    var alias_Window_Selectable_spacing = Window_Selectable.prototype.spacing;\r\n    Window_Selectable.prototype.spacing = function() {\r\n        return Graphics.getVirtualWidth(alias_Window_Selectable_spacing.call(this));\r\n    };  \r\n    \r\n    var alias_Window_Options_windowWidth = Window_Options.prototype.windowWidth;\r\n    Window_Options.prototype.windowWidth = function() {\r\n        return Graphics.getVirtualWidth( alias_Window_Options_windowWidth.call(this) );\r\n    };               \r\n    \r\n    var alias_Window_Options_statusWidth = Window_Options.prototype.statusWidth;\r\n    Window_Options.prototype.statusWidth = function() {\r\n        return Graphics.getVirtualWidth( alias_Window_Options_statusWidth.call(this) );\r\n    };          \r\n    \r\n    class Window_MenuCommandImpl extends Window_MenuCommand {\r\n        windowWidth() {\r\n        return Graphics.getVirtualWidth(super.windowWidth());\r\n        }\r\n    }\r\n    \r\n    window.Window_MenuCommand = Window_MenuCommandImpl;   \r\n    \r\n    class Window_MenuStatusImpl extends Window_MenuStatus {\r\n        windowWidth() {\r\n        return Graphics.boxWidth - Graphics.getVirtualWidth(240);\r\n        }   \r\n    }\r\n    \r\n    window.Window_MenuStatus = Window_MenuStatusImpl;    \r\n    \r\n    class Window_GoldImpl extends Window_Gold {\r\n        windowWidth() {\r\n        return Graphics.getVirtualWidth( super.windowWidth() );\r\n        }    \r\n    }   \r\n    \r\n    window.Window_Gold = Window_GoldImpl;\r\n    \r\n    class Window_GameEndImpl extends Window_GameEnd {\r\n        windowWidth() {\r\n        return Graphics.getVirtualWidth( super.windowWidth() );\r\n        }        \r\n    }\r\n    \r\n    window.Window_GameEnd = Window_GameEndImpl;\r\n}\r\n\r\n//============================================================================\r\n// Scene_Title\r\n//============================================================================\r\n\r\nclass Window_TitleCommandImpl extends Window_TitleCommand {\r\n\r\n    updatePlacement() {\r\n    this.x = (Graphics.boxWidth - this.width) / 2;\r\n    this.y = Graphics.boxHeight - this.height - Graphics.getVirtualHeight(96);\r\n    }\r\n\r\n    windowWidth() {\r\n    return Graphics.getVirtualWidth(super.windowWidth());\r\n    }\r\n\r\n}\r\n\r\nwindow.Window_TitleCommand = Window_TitleCommandImpl;\r\n\r\nvar alias_Scene_Title_start = Scene_Title.prototype.start;\r\nScene_Title.prototype.start = function() {\r\n    alias_Scene_Title_start.call(this);\r\n    this.requestStretch(this._backSprite1);\r\n    this.requestStretch(this._backSprite2);\r\n};\r\n\r\nScene_Title.prototype.drawGameTitle = function() {\r\n    var x = 20;\r\n    var y = Graphics.height / 4;\r\n    var maxWidth = Graphics.width - x * 2;\r\n    var text = $dataSystem.gameTitle;\r\n\r\n    this._gameTitleSprite.bitmap.outlineColor = \'black\';\r\n    this._gameTitleSprite.bitmap.outlineWidth = Graphics.getVirtualWidth(8);\r\n    this._gameTitleSprite.bitmap.fontSize = Graphics.getVirtualHeight(72);\r\n    this._gameTitleSprite.bitmap.drawText(text, x, y, maxWidth, Graphics.getVirtualWidth(48), \'center\');\r\n};\r\n\r\n//============================================================================\r\n// Scene_Gameover\r\n//============================================================================\r\n\r\nvar alias_Scene_Gameover_start = Scene_Gameover.prototype.start;\r\nScene_Gameover.prototype.start = function() {\r\n    alias_Scene_Gameover_start.call(this);\r\n    this.requestStretch(this._backSprite);\r\n};\r\n\r\n//#endregion//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvMTRfUmVzaXplR3JhcGhpY3NPYmplY3RzLmpzPzYzOTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQSwwQkFBMEI7QUFDMUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1RDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFU7O0FBRUEsSzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2QjtBQUNBLFc7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE07O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUztBQUNBOztBQUVBLHFEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFM7QUFDQSxLOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIxOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyNyZWdpb24gU3ByaXRlX0Jhc2VcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5TcHJpdGVfQmFzZS5wcm90b3R5cGUucmVxdWVzdFN0cmV0Y2ggPSBmdW5jdGlvbiAoc3ByaXRlKSB7XHJcbiAgICBpZighc3ByaXRlLmJpdG1hcCkgcmV0dXJuO1xyXG4gICAgdmFyIGJpdG1hcCA9IHNwcml0ZS5iaXRtYXA7XHJcbiAgICBpZihiaXRtYXAud2lkdGggPD0gMCkgcmV0dXJuO1xyXG4gICAgaWYoYml0bWFwLmhlaWdodCA8PSAwKSByZXR1cm47XHJcbiAgICB2YXIgc2NhbGVYID0gR3JhcGhpY3MuYm94V2lkdGggLyBiaXRtYXAud2lkdGg7XHJcbiAgICB2YXIgc2NhbGVZID0gR3JhcGhpY3MuYm94SGVpZ2h0IC8gYml0bWFwLmhlaWdodDtcclxuICAgIHNwcml0ZS5zY2FsZS54ID0gKHNjYWxlWCA+IDEuMCkgPyBzY2FsZVggOiAxLjA7XHJcbiAgICBzcHJpdGUuc2NhbGUueSA9IChzY2FsZVkgPiAxLjApID8gc2NhbGVZIDogMS4wO1xyXG5cclxuICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnBpY3R1cmVQb3NUeXBlID09PSBcIlZpcnR1YWwgQ29vcmRpbmF0ZXNcIikge1xyXG4gICAgdmFyIHggPSBzcHJpdGUueDtcclxuICAgIHZhciB5ID0gc3ByaXRlLnk7XHJcbiAgICB2YXIgc3cgPSBiaXRtYXAud2lkdGggKiBzcHJpdGUuc2NhbGUueDsgLy8gc2NhbGUgd2lkdGggYW5kIGhlaWdodFxyXG4gICAgdmFyIHNoID0gYml0bWFwLmhlaWdodCAqIHNwcml0ZS5zY2FsZS55O1xyXG4gICAgdmFyIGR3ID0gYml0bWFwLndpZHRoOyAvLyBvcmlnaW5hbCB3aWR0aCBhbmQgb3JpZ2luYWwgaGVpZ2h0XHJcbiAgICB2YXIgZGggPSBiaXRtYXAuaGVpZ2h0O1xyXG4gICAgXHJcbiAgICBpZihkdyA9PSAwIHx8IGRoID09IDApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGR4ID0geCAqIChzdyAvIGR3KTsgLy8gZGVzdGluYXRpb24gcG9zaXRpb25cclxuICAgIHZhciBkeSA9IHkgKiAoc2ggLyBkaCk7XHJcblxyXG4gICAgLy8gcG9zaXRpb25cclxuICAgIHNwcml0ZS54ID0gTWF0aC5mbG9vcihkeCk7XHJcbiAgICBzcHJpdGUueSA9IE1hdGguZmxvb3IoZHkpO1xyXG5cclxuICAgIH1cclxuXHJcbn07XHJcbi8vI2VuZHJlZ2lvblxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vI3JlZ2lvbiBUaWxpbmdTcHJpdGVcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblRpbGluZ1Nwcml0ZS5wcm90b3R5cGUucmVxZXVzdFJlc2l6ZUltYWdlID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgaWYoIXRoaXMudGV4dHVyZS5mcmFtZSkge1xyXG4gICAgdGhpcy50ZXh0dXJlLmZyYW1lID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIEdyYXBoaWNzLmJveFdpZHRoLCBHcmFwaGljcy5ib3hIZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudGV4dHVyZS5mcmFtZS53aWR0aCA9IEdyYXBoaWNzLmJveFdpZHRoO1xyXG4gICAgdGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodCA9IEdyYXBoaWNzLmJveEhlaWdodDtcclxuXHJcbn1cclxuXHJcblRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuaXNWYWxpZFJlc2l6aW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZighUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuaXNWYWxpZFNjYWxlZEJhdHRsZWJhY2spIHJldHVybjtcclxuICAgIGlmKCF0aGlzLmJpdG1hcCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYodGhpcy5iaXRtYXAud2lkdGggPD0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYodGhpcy5iaXRtYXAuaGVpZ2h0IDw9IDApIHJldHVybiBmYWxzZTtcclxuICAgIGlmKCF0aGlzLnZpc2libGUpIHJldHVybiBmYWxzZTtcclxuICAgIGlmKHRoaXMub3BhY2l0eSA8PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZighdGhpcy5iaXRtYXAuX3VybCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYoIXRoaXMudGV4dHVyZSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIHZhciB1cmwgPSB0aGlzLmJpdG1hcC5fdXJsO1xyXG4gICAgdmFyIGZpbGVVcmkgPSB1cmwuc3BsaXQoXCIvXCIpO1xyXG4gICAgdmFyIGZpbGVuYW1lID0gZmlsZVVyaS5wb3AoKTtcclxuICAgIHZhciBmb2xkZXJOYW1lID0gZmlsZVVyaS5wb3AoKTtcclxuICAgIFxyXG4gICAgaWYoWydiYXR0bGViYWNrczEnLCAnYmF0dGxlYmFja3MyJ10uY29udGFpbnMoZm9sZGVyTmFtZSkpIHtcclxuICAgIHRoaXMuX2ZvbGRlck5hbWUgPSBmb2xkZXJOYW1lO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG5cclxufTtcclxuXHJcblRpbGluZ1Nwcml0ZS5wcm90b3R5cGUucmVzaXplSW1hZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmKCB0aGlzLmlzVmFsaWRSZXNpemluZygpICkge1xyXG4gICAgdGhpcy5yZXFldXN0UmVzaXplSW1hZ2UoKTtcclxuICAgIH1cclxufTtcclxuXHJcbnZhciBhbGlhc19UaWxpbmdTcHJpdGVfX29uQml0bWFwTG9hZCA9IFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX29uQml0bWFwTG9hZDtcclxuVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fb25CaXRtYXBMb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICBhbGlhc19UaWxpbmdTcHJpdGVfX29uQml0bWFwTG9hZC5jYWxsKHRoaXMpO1xyXG4gICAgdGhpcy5yZXNpemVJbWFnZSgpO1xyXG59O1xyXG5cclxuLy8jZW5kcmVnaW9uXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU3ByaXRlX0FjdG9yXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgXHJcblxyXG4gICAgLy8gVGhlc2UgZnVuY3Rpb25zIGFyZSB3b3JrZWQgZmluZSBpbiB0aGUgdmFuaWxsYSBtb2RlIG9ubHkhIVxyXG4gICAgLy8gSSBjb3VsZG4ndCB0ZXN0IHRoZSBpbXBhY3QgeWV0IHdoZW4gdXNpbmcgdGhlIHBsdWdpbiBuYW1lZCBZRVBfQmF0dGxlRW5naW5lQ29yZS5cclxuICAgIGlmKCFJbXBvcnRlZC5ZRVBfQmF0dGxlRW5naW5lQ29yZSkge1xyXG5cclxuICAgICAgICBTcHJpdGVfQWN0b3IucHJvdG90eXBlLm1vdmVUb1N0YXJ0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV2YWwoJC5QYXJhbXMuYWN0b3JGdW5jLm1vdmVUb1N0YXJ0UG9zaXRpb24pOyAgICAgICAgXHJcbiAgICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgICAgU3ByaXRlX0FjdG9yLnByb3RvdHlwZS5zZXRBY3RvckhvbWUgPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgZXZhbCgkLlBhcmFtcy5hY3RvckZ1bmMuc2V0QWN0b3JIb21lKTtcclxuICAgICAgICB9OyAgICBcclxuICBcclxuICAgICAgICBTcHJpdGVfQWN0b3IucHJvdG90eXBlLnN0ZXBGb3J3YXJkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBldmFsKCQuUGFyYW1zLmFjdG9yRnVuYy5zdGVwRm9yd2FyZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICBTcHJpdGVfQWN0b3IucHJvdG90eXBlLnN0ZXBCYWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBldmFsKCQuUGFyYW1zLmFjdG9yRnVuYy5zdGVwQmFjayk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICBTcHJpdGVfQWN0b3IucHJvdG90eXBlLnJldHJlYXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV2YWwoJC5QYXJhbXMuYWN0b3JGdW5jLnJldHJlYXQpO1xyXG4gICAgICAgIH07ICAgXHJcbiAgICAgIFxyXG4gICAgfSAgICBcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBTcHJpdGVzZXRfQmF0dGxlXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgICBcclxuXHJcbmlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmlzVmFsaWRTY2FsZWRCYXR0bGViYWNrKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPdmVycmlkZVxyXG4gICAgICogQG1ldGhvZCBjcmVhdGVCYXR0bGViYWNrXHJcbiAgICAgKi9cclxuICAgIFNwcml0ZXNldF9CYXR0bGUucHJvdG90eXBlLmNyZWF0ZUJhdHRsZWJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBtYXJnaW4gPSAwO1xyXG4gICAgdmFyIHggPSAtdGhpcy5fYmF0dGxlRmllbGQueCAtIG1hcmdpbjtcclxuICAgIHZhciB5ID0gLXRoaXMuX2JhdHRsZUZpZWxkLnkgLSBtYXJnaW47XHJcbiAgICB2YXIgd2lkdGggPSBHcmFwaGljcy53aWR0aCArIG1hcmdpbiAqIDI7XHJcbiAgICB2YXIgaGVpZ2h0ID0gR3JhcGhpY3MuaGVpZ2h0ICsgbWFyZ2luICogMjtcclxuICAgIHRoaXMuX2JhY2sxU3ByaXRlID0gbmV3IFRpbGluZ1Nwcml0ZSgpO1xyXG4gICAgdGhpcy5fYmFjazJTcHJpdGUgPSBuZXcgVGlsaW5nU3ByaXRlKCk7XHJcbiAgICB0aGlzLl9iYWNrMVNwcml0ZS5iaXRtYXAgPSB0aGlzLmJhdHRsZWJhY2sxQml0bWFwKCk7XHJcbiAgICB0aGlzLl9iYWNrMlNwcml0ZS5iaXRtYXAgPSB0aGlzLmJhdHRsZWJhY2syQml0bWFwKCk7XHJcbiAgICB0aGlzLl9iYWNrMVNwcml0ZS5tb3ZlKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgdGhpcy5fYmFjazJTcHJpdGUubW92ZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgIHRoaXMuX2JhdHRsZUZpZWxkLmFkZENoaWxkKHRoaXMuX2JhY2sxU3ByaXRlKTtcclxuICAgIHRoaXMuX2JhdHRsZUZpZWxkLmFkZENoaWxkKHRoaXMuX2JhY2syU3ByaXRlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPdmVycmlkZVxyXG4gICAgICogQG1ldGhvZCBsb2NhdGVCYXR0bGViYWNrXHJcbiAgICAgKi8gIFxyXG4gICAgU3ByaXRlc2V0X0JhdHRsZS5wcm90b3R5cGUubG9jYXRlQmF0dGxlYmFjayA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHZhciBzcHJpdGUxID0gdGhpcy5fYmFjazFTcHJpdGU7XHJcbiAgICB2YXIgc3ByaXRlMiA9IHRoaXMuX2JhY2syU3ByaXRlO1xyXG4gICAgc3ByaXRlMS5vcmlnaW4ueCA9IDA7XHJcbiAgICBzcHJpdGUyLm9yaWdpbi54ID0gMDtcclxuICAgIGlmICgkZ2FtZVN5c3RlbS5pc1NpZGVWaWV3KCkpIHtcclxuICAgICAgICBzcHJpdGUxLm9yaWdpbi55ID0gMDtcclxuICAgICAgICBzcHJpdGUyLm9yaWdpbi55ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxufVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vI3JlZ2lvbiBTcHJpdGVfUGljdHVyZVxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gIFxyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmluZCBhIHNjcmlwdCBjYWxsZWQgXCJEVGV4dFBpY3R1cmUuanNcIlxyXG4gICAgICovXHJcbiAgICBQbHVnaW5NYW5hZ2VyLl9zY3JpcHRzLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luTmFtZSkge1xyXG4gICAgaWYocGx1Z2luTmFtZSA9PT0gXCJEVGV4dFBpY3R1cmVcIikge1xyXG4gICAgICAgIEltcG9ydGVkLkRUZXh0UGljdHVyZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICB9LCB0aGlzKTtcclxuXHJcbn0pKCk7XHJcblxyXG52YXIgYWxpYXNfU3ByaXRlX1BpY3R1cmVfdXBkYXRlUG9zaXRpb24gPSBTcHJpdGVfUGljdHVyZS5wcm90b3R5cGUudXBkYXRlUG9zaXRpb247XHJcblNwcml0ZV9QaWN0dXJlLnByb3RvdHlwZS51cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYoUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuaXNBdXRvU2NhbGVkUGljdHVyZSkgcmV0dXJuO1xyXG4gICAgYWxpYXNfU3ByaXRlX1BpY3R1cmVfdXBkYXRlUG9zaXRpb24uY2FsbCh0aGlzKTtcclxufTtcclxuXHJcbnZhciBhbGlhc19TcHJpdGVfUGljdHVyZV91cGRhdGVTY2FsZSA9IFNwcml0ZV9QaWN0dXJlLnByb3RvdHlwZS51cGRhdGVTY2FsZTtcclxuU3ByaXRlX1BpY3R1cmUucHJvdG90eXBlLnVwZGF0ZVNjYWxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZihSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5pc0F1dG9TY2FsZWRQaWN0dXJlKSByZXR1cm47XHJcbiAgICBhbGlhc19TcHJpdGVfUGljdHVyZV91cGRhdGVTY2FsZS5jYWxsKHRoaXMpO1xyXG59O1xyXG5cclxuU3ByaXRlX1BpY3R1cmUucHJvdG90eXBlLnVwZGF0ZU9yaWdpblNjYWxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcGljdHVyZSA9IHRoaXMucGljdHVyZSgpO1xyXG4gICAgdGhpcy54ID0gTWF0aC5mbG9vcihwaWN0dXJlLngoKSk7XHJcbiAgICB0aGlzLnkgPSBNYXRoLmZsb29yKHBpY3R1cmUueSgpKTtcclxuICAgIHZhciBvcmlnaW5TWCA9IHBpY3R1cmUuc2NhbGVYKCkgLyAxMDA7XHJcbiAgICB2YXIgb3JpZ2luU1kgPSBwaWN0dXJlLnNjYWxlWSgpIC8gMTAwOyAgICAgICAgXHJcbiAgICB0aGlzLnNjYWxlLnggPSBvcmlnaW5TWDtcclxuICAgIHRoaXMuc2NhbGUueSA9IG9yaWdpblNZO1xyXG59O1xyXG5cclxuU3ByaXRlX1BpY3R1cmUucHJvdG90eXBlLnVwZGF0ZUF1dG9TY2FsZSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge0dhbWVfUGljdHVyZX1cclxuICAgICAqL1xyXG4gICAgdmFyIHBpY3R1cmUgPSB0aGlzLnBpY3R1cmUoKTtcclxuICAgIHZhciBiaXRtYXAgPSB0aGlzLmJpdG1hcDtcclxuXHJcbiAgICBpZighYml0bWFwKSB7XHJcbiAgICB0aGlzLnVwZGF0ZU9yaWdpblNjYWxlKCk7XHJcbiAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNvbWV0aW1lcyB0aGUgZ2FtZSBwaWN0dXJlIGhhcyB0byB1c2UgYSBkZWZhdWx0IHNjYWxlLlxyXG4gICAgdmFyIGJsYWNrbGlzdCA9IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmlnbm9yZUF1dG9TY2FsZVBpY3R1cmVzIHx8IFtdO1xyXG4gICAgaWYoYmxhY2tsaXN0LmNvbnRhaW5zKHRoaXMuX3BpY3R1cmVJZCkpIHtcclxuICAgIHRoaXMudXBkYXRlT3JpZ2luU2NhbGUoKTsgIFxyXG4gICAgcmV0dXJuOyAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHZhciBvcmlnaW5TWCA9IHBpY3R1cmUuc2NhbGVYKCkgLyAxMDA7XHJcbiAgICB2YXIgb3JpZ2luU1kgPSBwaWN0dXJlLnNjYWxlWSgpIC8gMTAwO1xyXG5cclxuICAgIC8vIEdldCB0aGUgb3JpZ2luYWwgd2lkdGggYW5kIGhlaWdodCB2YWx1ZXNcclxuICAgIHZhciBkdyA9IGJpdG1hcC53aWR0aCAqIG9yaWdpblNYO1xyXG4gICAgdmFyIGRoID0gYml0bWFwLmhlaWdodCAqIG9yaWdpblNZO1xyXG5cclxuICAgIC8vIENhbiBub3QgZGl2aWRlIHdpdGggMFxyXG4gICAgaWYoZHcgPT09IDAgfHwgZGggPT09IDApIHtcclxuICAgIHRoaXMudXBkYXRlT3JpZ2luU2NhbGUoKTsgICAgXHJcbiAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3RvcmUgdGhlIG9yaWdpbmFsIGNvb3JkaW5hdGVzIGJlZm9yZSBjaGFuZ2luZyBpdHMgc2l6ZS5cclxuICAgIHZhciB4ID0gcGljdHVyZS54KCk7XHJcbiAgICB2YXIgeSA9IHBpY3R1cmUueSgpO1xyXG5cclxuICAgIHZhciBvcmlnaW5hbFZpZXdXaWR0aCA9IHBhcnNlSW50KFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLm9yaWdpbmFsUGljdHVyZVZpZXdTaXplLndpZHRoKTtcclxuICAgIHZhciBvcmlnaW5hbFZpZXdIZWlnaHQgPSBwYXJzZUludChSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcmlnaW5hbFBpY3R1cmVWaWV3U2l6ZS5oZWlnaHQpO1xyXG4gICAgdmFyIHNjYWxlWCA9IG9yaWdpblNYO1xyXG4gICAgdmFyIHNjYWxlWSA9IG9yaWdpblNZO1xyXG5cclxuICAgIGlmKEdyYXBoaWNzLmJveFdpZHRoID4gb3JpZ2luYWxWaWV3V2lkdGgpIHtcclxuICAgIHNjYWxlWCA9IEdyYXBoaWNzLmJveFdpZHRoIC8gb3JpZ2luYWxWaWV3V2lkdGg7XHJcbiAgICB9IGVsc2UgaWYoR3JhcGhpY3MuYm94V2lkdGggPCBvcmlnaW5hbFZpZXdXaWR0aCkge1xyXG4gICAgc2NhbGVYID0gb3JpZ2luYWxWaWV3V2lkdGggLyBHcmFwaGljcy5ib3hXaWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBzY2FsZVkgPSBHcmFwaGljcy5ib3hIZWlnaHQgLyBvcmlnaW5hbFZpZXdIZWlnaHQ7XHJcbiAgICBcclxuICAgIC8vIFBlcmZvcm0gcmUtc2NhbGUgYW5kIHJlLXBvc2l0aW9uLlxyXG4gICAgdGhpcy5zY2FsZS54ID0gc2NhbGVYO1xyXG4gICAgdGhpcy5zY2FsZS55ID0gc2NhbGVZO1xyXG5cclxuICAgIGlmKFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnBpY3R1cmVQb3NUeXBlID09PSBcIlZpcnR1YWwgQ29vcmRpbmF0ZXNcIikge1xyXG5cclxuICAgIHZhciBzdyA9IGJpdG1hcC53aWR0aCAqIHNjYWxlWDtcclxuICAgIHZhciBzaCA9IGJpdG1hcC5oZWlnaHQgKiBzY2FsZVk7XHJcbiAgICB2YXIgZHggPSB4ICogKHN3IC8gZHcpO1xyXG4gICAgdmFyIGR5ID0geSAqIChzaCAvIGRoKTtcclxuXHJcbiAgICB0aGlzLnggPSBNYXRoLmZsb29yKGR4KTtcclxuICAgIHRoaXMueSA9IE1hdGguZmxvb3IoZHkpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgdGhpcy54ID0gTWF0aC5mbG9vcih4KTtcclxuICAgIHRoaXMueSA9IE1hdGguZmxvb3IoeSk7XHJcblxyXG4gICAgfVxyXG5cclxufTtcclxuXHJcbnZhciBhbGlhc19TcHJpdGVfUGljdHVyZV91cGRhdGUgPSBTcHJpdGVfUGljdHVyZS5wcm90b3R5cGUudXBkYXRlO1xyXG5TcHJpdGVfUGljdHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBhbGlhc19TcHJpdGVfUGljdHVyZV91cGRhdGUuY2FsbCh0aGlzKTtcclxuICAgIGlmKHRoaXMudmlzaWJsZSAmJiBSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5pc0F1dG9TY2FsZWRQaWN0dXJlKSB7XHJcbiAgICB0aGlzLnVwZGF0ZUF1dG9TY2FsZSgpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy8jZW5kcmVnaW9uXHJcblxyXG4vLyNyZWdpb24gUmVzY2FsaW5nIEJhY2tncm91bmRcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNjZW5lX0Jhc2VcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5TY2VuZV9CYXNlLnByb3RvdHlwZS5yZXF1ZXN0U3RyZXRjaCA9IGZ1bmN0aW9uIChzcHJpdGUpIHtcclxuICAgIGlmKCFzcHJpdGUuYml0bWFwKSByZXR1cm47XHJcbiAgICB2YXIgYml0bWFwID0gc3ByaXRlLmJpdG1hcDtcclxuICAgIGlmKGJpdG1hcC53aWR0aCA8PSAwKSByZXR1cm47XHJcbiAgICBpZihiaXRtYXAuaGVpZ2h0IDw9IDApIHJldHVybjtcclxuICAgIHZhciBzY2FsZVggPSBHcmFwaGljcy5ib3hXaWR0aCAvIGJpdG1hcC53aWR0aDtcclxuICAgIHZhciBzY2FsZVkgPSBHcmFwaGljcy5ib3hIZWlnaHQgLyBiaXRtYXAuaGVpZ2h0O1xyXG4gICAgc3ByaXRlLnNjYWxlLnggPSAoc2NhbGVYID4gMS4wKSA/IHNjYWxlWCA6IDEuMDtcclxuICAgIHNwcml0ZS5zY2FsZS55ID0gKHNjYWxlWSA+IDEuMCkgPyBzY2FsZVkgOiAxLjA7XHJcbiAgICBzcHJpdGUueCA9IEdyYXBoaWNzLmJveFdpZHRoIC8gMjtcclxuICAgIHNwcml0ZS55ID0gR3JhcGhpY3MuYm94SGVpZ2h0IC8gMjtcclxuICAgIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcclxuICAgIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcclxufTtcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBTY2VuZV9NZW51QmFzZVxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnZhciBhbGlhc19TY2VuZV9NZW51QmFzZV9zdGFydCA9IFNjZW5lX01lbnVCYXNlLnByb3RvdHlwZS5zdGFydDtcclxuU2NlbmVfTWVudUJhc2UucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBhbGlhc19TY2VuZV9NZW51QmFzZV9zdGFydC5jYWxsKHRoaXMpO1xyXG4gICAgdGhpcy5yZXF1ZXN0U3RyZXRjaCh0aGlzLl9iYWNrZ3JvdW5kU3ByaXRlKTtcclxufTtcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBXaW5kb3dcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pZihSUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncy5kZWZhdWx0U2NyZWVuU2l6ZS54IDw9IDMyMCAmJiBcclxuICAgIFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLnNldHRpbmdzLmRlZmF1bHRTY3JlZW5TaXplLnkgPD0gMjQwKSB7XHJcbiAgICB2YXIgYWxpYXNfV2luZG93X0NvbW1hbmRfd2luZG93V2lkdGggPSBXaW5kb3dfQ29tbWFuZC5wcm90b3R5cGUud2luZG93V2lkdGg7XHJcbiAgICBXaW5kb3dfQ29tbWFuZC5wcm90b3R5cGUud2luZG93V2lkdGggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKGFsaWFzX1dpbmRvd19Db21tYW5kX3dpbmRvd1dpZHRoLmNhbGwodGhpcykpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdmFyIGFsaWFzX1dpbmRvd19Db21tYW5kX2xpbmVIZWlnaHQgPSBXaW5kb3dfQ29tbWFuZC5wcm90b3R5cGUubGluZUhlaWdodDtcclxuICAgIFdpbmRvd19Db21tYW5kLnByb3RvdHlwZS5saW5lSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoaWNzLmdldFZpcnR1YWxIZWlnaHQoYWxpYXNfV2luZG93X0NvbW1hbmRfbGluZUhlaWdodC5jYWxsKHRoaXMpKTtcclxuICAgIH07ICBcclxuICAgIFxyXG4gICAgdmFyIGFsaWFzX1dpbmRvd19CYXNlX3N0YW5kYXJkRm9udFNpemUgPSBXaW5kb3dfQmFzZS5wcm90b3R5cGUuc3RhbmRhcmRGb250U2l6ZTtcclxuICAgIFdpbmRvd19CYXNlLnByb3RvdHlwZS5zdGFuZGFyZEZvbnRTaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoaWNzLmdldFZpcnR1YWxIZWlnaHQoYWxpYXNfV2luZG93X0Jhc2Vfc3RhbmRhcmRGb250U2l6ZS5jYWxsKHRoaXMpKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHZhciBhbGlhc19XaW5kb3dfQmFzZV9zdGFuZGFyZFBhZGRpbmcgPSBXaW5kb3dfQmFzZS5wcm90b3R5cGUuc3RhbmRhcmRQYWRkaW5nO1xyXG4gICAgV2luZG93X0Jhc2UucHJvdG90eXBlLnN0YW5kYXJkUGFkZGluZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBHcmFwaGljcy5nZXRWaXJ0dWFsV2lkdGgoYWxpYXNfV2luZG93X0Jhc2Vfc3RhbmRhcmRQYWRkaW5nLmNhbGwodGhpcykpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdmFyIGFsaWFzX1dpbmRvd19TZWxlY3RhYmxlX3NwYWNpbmcgPSBXaW5kb3dfU2VsZWN0YWJsZS5wcm90b3R5cGUuc3BhY2luZztcclxuICAgIFdpbmRvd19TZWxlY3RhYmxlLnByb3RvdHlwZS5zcGFjaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoaWNzLmdldFZpcnR1YWxXaWR0aChhbGlhc19XaW5kb3dfU2VsZWN0YWJsZV9zcGFjaW5nLmNhbGwodGhpcykpO1xyXG4gICAgfTsgIFxyXG4gICAgXHJcbiAgICB2YXIgYWxpYXNfV2luZG93X09wdGlvbnNfd2luZG93V2lkdGggPSBXaW5kb3dfT3B0aW9ucy5wcm90b3R5cGUud2luZG93V2lkdGg7XHJcbiAgICBXaW5kb3dfT3B0aW9ucy5wcm90b3R5cGUud2luZG93V2lkdGggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKCBhbGlhc19XaW5kb3dfT3B0aW9uc193aW5kb3dXaWR0aC5jYWxsKHRoaXMpICk7XHJcbiAgICB9OyAgICAgICAgICAgICAgIFxyXG4gICAgXHJcbiAgICB2YXIgYWxpYXNfV2luZG93X09wdGlvbnNfc3RhdHVzV2lkdGggPSBXaW5kb3dfT3B0aW9ucy5wcm90b3R5cGUuc3RhdHVzV2lkdGg7XHJcbiAgICBXaW5kb3dfT3B0aW9ucy5wcm90b3R5cGUuc3RhdHVzV2lkdGggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKCBhbGlhc19XaW5kb3dfT3B0aW9uc19zdGF0dXNXaWR0aC5jYWxsKHRoaXMpICk7XHJcbiAgICB9OyAgICAgICAgICBcclxuICAgIFxyXG4gICAgY2xhc3MgV2luZG93X01lbnVDb21tYW5kSW1wbCBleHRlbmRzIFdpbmRvd19NZW51Q29tbWFuZCB7XHJcbiAgICAgICAgd2luZG93V2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoaWNzLmdldFZpcnR1YWxXaWR0aChzdXBlci53aW5kb3dXaWR0aCgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHdpbmRvdy5XaW5kb3dfTWVudUNvbW1hbmQgPSBXaW5kb3dfTWVudUNvbW1hbmRJbXBsOyAgIFxyXG4gICAgXHJcbiAgICBjbGFzcyBXaW5kb3dfTWVudVN0YXR1c0ltcGwgZXh0ZW5kcyBXaW5kb3dfTWVudVN0YXR1cyB7XHJcbiAgICAgICAgd2luZG93V2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoaWNzLmJveFdpZHRoIC0gR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKDI0MCk7XHJcbiAgICAgICAgfSAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB3aW5kb3cuV2luZG93X01lbnVTdGF0dXMgPSBXaW5kb3dfTWVudVN0YXR1c0ltcGw7ICAgIFxyXG4gICAgXHJcbiAgICBjbGFzcyBXaW5kb3dfR29sZEltcGwgZXh0ZW5kcyBXaW5kb3dfR29sZCB7XHJcbiAgICAgICAgd2luZG93V2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIEdyYXBoaWNzLmdldFZpcnR1YWxXaWR0aCggc3VwZXIud2luZG93V2lkdGgoKSApO1xyXG4gICAgICAgIH0gICAgXHJcbiAgICB9ICAgXHJcbiAgICBcclxuICAgIHdpbmRvdy5XaW5kb3dfR29sZCA9IFdpbmRvd19Hb2xkSW1wbDtcclxuICAgIFxyXG4gICAgY2xhc3MgV2luZG93X0dhbWVFbmRJbXBsIGV4dGVuZHMgV2luZG93X0dhbWVFbmQge1xyXG4gICAgICAgIHdpbmRvd1dpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiBHcmFwaGljcy5nZXRWaXJ0dWFsV2lkdGgoIHN1cGVyLndpbmRvd1dpZHRoKCkgKTtcclxuICAgICAgICB9ICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgd2luZG93LldpbmRvd19HYW1lRW5kID0gV2luZG93X0dhbWVFbmRJbXBsO1xyXG59XHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU2NlbmVfVGl0bGVcclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jbGFzcyBXaW5kb3dfVGl0bGVDb21tYW5kSW1wbCBleHRlbmRzIFdpbmRvd19UaXRsZUNvbW1hbmQge1xyXG5cclxuICAgIHVwZGF0ZVBsYWNlbWVudCgpIHtcclxuICAgIHRoaXMueCA9IChHcmFwaGljcy5ib3hXaWR0aCAtIHRoaXMud2lkdGgpIC8gMjtcclxuICAgIHRoaXMueSA9IEdyYXBoaWNzLmJveEhlaWdodCAtIHRoaXMuaGVpZ2h0IC0gR3JhcGhpY3MuZ2V0VmlydHVhbEhlaWdodCg5Nik7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93V2lkdGgoKSB7XHJcbiAgICByZXR1cm4gR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKHN1cGVyLndpbmRvd1dpZHRoKCkpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxud2luZG93LldpbmRvd19UaXRsZUNvbW1hbmQgPSBXaW5kb3dfVGl0bGVDb21tYW5kSW1wbDtcclxuXHJcbnZhciBhbGlhc19TY2VuZV9UaXRsZV9zdGFydCA9IFNjZW5lX1RpdGxlLnByb3RvdHlwZS5zdGFydDtcclxuU2NlbmVfVGl0bGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBhbGlhc19TY2VuZV9UaXRsZV9zdGFydC5jYWxsKHRoaXMpO1xyXG4gICAgdGhpcy5yZXF1ZXN0U3RyZXRjaCh0aGlzLl9iYWNrU3ByaXRlMSk7XHJcbiAgICB0aGlzLnJlcXVlc3RTdHJldGNoKHRoaXMuX2JhY2tTcHJpdGUyKTtcclxufTtcclxuXHJcblNjZW5lX1RpdGxlLnByb3RvdHlwZS5kcmF3R2FtZVRpdGxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgeCA9IDIwO1xyXG4gICAgdmFyIHkgPSBHcmFwaGljcy5oZWlnaHQgLyA0O1xyXG4gICAgdmFyIG1heFdpZHRoID0gR3JhcGhpY3Mud2lkdGggLSB4ICogMjtcclxuICAgIHZhciB0ZXh0ID0gJGRhdGFTeXN0ZW0uZ2FtZVRpdGxlO1xyXG5cclxuICAgIHRoaXMuX2dhbWVUaXRsZVNwcml0ZS5iaXRtYXAub3V0bGluZUNvbG9yID0gJ2JsYWNrJztcclxuICAgIHRoaXMuX2dhbWVUaXRsZVNwcml0ZS5iaXRtYXAub3V0bGluZVdpZHRoID0gR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKDgpO1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlLmJpdG1hcC5mb250U2l6ZSA9IEdyYXBoaWNzLmdldFZpcnR1YWxIZWlnaHQoNzIpO1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlLmJpdG1hcC5kcmF3VGV4dCh0ZXh0LCB4LCB5LCBtYXhXaWR0aCwgR3JhcGhpY3MuZ2V0VmlydHVhbFdpZHRoKDQ4KSwgJ2NlbnRlcicpO1xyXG59O1xyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNjZW5lX0dhbWVvdmVyXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIGFsaWFzX1NjZW5lX0dhbWVvdmVyX3N0YXJ0ID0gU2NlbmVfR2FtZW92ZXIucHJvdG90eXBlLnN0YXJ0O1xyXG5TY2VuZV9HYW1lb3Zlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcclxuICAgIGFsaWFzX1NjZW5lX0dhbWVvdmVyX3N0YXJ0LmNhbGwodGhpcyk7XHJcbiAgICB0aGlzLnJlcXVlc3RTdHJldGNoKHRoaXMuX2JhY2tTcHJpdGUpO1xyXG59O1xyXG5cclxuLy8jZW5kcmVnaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n')},function(module,exports){eval("//============================================================================\r\n// Game_Interpreter\r\n//============================================================================\r\n\r\nvar alias_Game_Interpreter_pluginCommand = Game_Interpreter.prototype.pluginCommand;\r\nGame_Interpreter.prototype.pluginCommand = function(command, args) {\r\n    alias_Game_Interpreter_pluginCommand.call(this, command, args);\r\n    if(command === \"ScreenManager\") {\r\n        switch(args[0]) {\r\n        case 'Start':\r\n            if(Utils.isNwjs()) {\r\n            SceneManager.push(ScreenManager);\r\n            }\r\n            break;\r\n        }\r\n    }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvMTVfR2FtZV9JbnRlcnByZXRlci5qcz83NDVkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBHYW1lX0ludGVycHJldGVyXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIGFsaWFzX0dhbWVfSW50ZXJwcmV0ZXJfcGx1Z2luQ29tbWFuZCA9IEdhbWVfSW50ZXJwcmV0ZXIucHJvdG90eXBlLnBsdWdpbkNvbW1hbmQ7XHJcbkdhbWVfSW50ZXJwcmV0ZXIucHJvdG90eXBlLnBsdWdpbkNvbW1hbmQgPSBmdW5jdGlvbihjb21tYW5kLCBhcmdzKSB7XHJcbiAgICBhbGlhc19HYW1lX0ludGVycHJldGVyX3BsdWdpbkNvbW1hbmQuY2FsbCh0aGlzLCBjb21tYW5kLCBhcmdzKTtcclxuICAgIGlmKGNvbW1hbmQgPT09IFwiU2NyZWVuTWFuYWdlclwiKSB7XHJcbiAgICAgICAgc3dpdGNoKGFyZ3NbMF0pIHtcclxuICAgICAgICBjYXNlICdTdGFydCc6XHJcbiAgICAgICAgICAgIGlmKFV0aWxzLmlzTndqcygpKSB7XHJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5wdXNoKFNjcmVlbk1hbmFnZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./lib/parameters.js\nvar parameters = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./lib/1_public.js\n\r\n\r\nwindow.Imported = Imported || {};\r\nwindow.Imported.RS_ScreenManager = true;\r\n\r\nwindow.RS = RS || {};\r\nwindow.RS.ScreenManager = RS.ScreenManager || {};\r\nwindow.RS.ScreenManager.Params = RS.ScreenManager.Params || {};\r\n\r\n\r\n\r\nRS.ScreenManager.jsonParse = function (str) {\r\n    var retData = JSON.parse(str, function (k, v) {\r\n    try { return RS.ScreenManager.jsonParse(v); } catch (e) { return v; }\r\n    });\r\n    return retData;\r\n};\r\n\r\nvar getTargetRegex = /(\\d+)[ ]x[ ](\\d+)/i;\r\n\r\n/**\r\n * @type {{resize: Boolean, autoScaling: Boolean, minWidth: Boolean, minHeight: Boolean, recreate: Boolean, allResolutions: Boolean, aspectRatio: Boolean, isAutoSyncManifest: Boolean}}\r\n */\r\nvar options = {};\r\nvar settings = {};\r\n\r\noptions.resize = Boolean(parameters["a" /* default */][\'isGraphicsRendererResize\'] === \'true\');\r\noptions.autoScaling = Boolean(parameters["a" /* default */][\'isGraphicsRendererResize\'] === \'true\');\r\noptions.minWidth = Boolean(parameters["a" /* default */][\'isMaintainingMinimumWidth\'] === \'true\');\r\noptions.minHeight = Boolean(parameters["a" /* default */][\'isMaintainingMinimumHeight\'] === \'true\');\r\noptions.recreate = Boolean(parameters["a" /* default */][\'isMaintainingMinimumHeight\'] === \'true\');\r\noptions.allResolutions = Boolean(parameters["a" /* default */][\'Use All Resolutions\'] === \'true\');\r\noptions.aspectRatio = Boolean(parameters["a" /* default */][\'Enable Custom Aspect Ratio\'] === \'true\');\r\noptions.isAutoSyncManifest = Boolean(parameters["a" /* default */][\'Auto Sync Manifest file\'] === \'true\');\r\n\r\nsettings.customAspectRatio = parameters["a" /* default */][\'Custom Aspect Ratio\'] || "16:9";\r\nsettings.customAspectRatio = settings.customAspectRatio.trim().split(":");\r\nsettings.ptCustomScreenSize = String(parameters["a" /* default */]["Default Screen Size"] || \'1280 x 720\').split(\' x \');\r\nsettings.defaultScreenSize = new Point(\r\n    (parseInt(settings.ptCustomScreenSize[0]) || 1280),\r\n    (parseInt(settings.ptCustomScreenSize[1]) || 720));\r\nsettings.pcGraphicsArray = [];\r\nsettings.pcGraphicsTempArray = RS.ScreenManager.jsonParse(parameters["a" /* default */]["PC"]);\r\nsettings.mobileGraphicsArray = RS.ScreenManager.jsonParse(parameters["a" /* default */]["Mobile"]);\r\nsettings.resolutionQualityOnMobile = RS.ScreenManager.jsonParse(parameters["a" /* default */]["Mobile Simple"]);\r\nsettings.state = "ready";\r\n\r\n// Parameters\r\nRS.ScreenManager.Params.settings = settings;\r\nRS.ScreenManager.Params.options = options;\r\nRS.ScreenManager.Params.fullscreenFlag = false;\r\nRS.ScreenManager.Params.isUsedNodeLibrary = Boolean(parameters["a" /* default */]["Bind Node Library"] === "true");\r\n\r\nRS.ScreenManager.Params.isAutoScaledPicture = Boolean(parameters["a" /* default */]["Scaled Picture"] === "true");\r\n\r\nRS.ScreenManager.Params.ignoreAutoScalePictures = RS.ScreenManager.jsonParse(parameters["a" /* default */]["Ignore Auto Scale"]);\r\n\r\nRS.ScreenManager.Params.originalPictureViewSize = RS.ScreenManager.jsonParse(parameters["a" /* default */]["Original View Size"]);\r\n\r\n/**\r\n * Screen Size : 1280, 720\r\n * Picture\'s Size : 816, 614,\r\n * Picture\'s Position : 816, 614\r\n * Actual Coordinates : 816, 614\r\n * Virtual Coordinates (Maintain ratio) : 1280, 720\r\n */\r\nRS.ScreenManager.Params.picturePosType = parameters["a" /* default */]["Picture Position Type"] || "Actual Coordinates";\r\n\r\n/**\r\n * if it is to true, it adds resolution select button in the option window.\r\n */\r\nRS.ScreenManager.Params.isValidOptionWindow = Utils.isMobileDevice() ? false : true;\r\n\r\nRS.ScreenManager.Params.isValidScaledBattleback = Boolean(parameters["a" /* default */]["Scaled Battleback"] === "true");\r\n\r\nRS.ScreenManager.Params.actorFunc = {\r\n    moveToStartPosition: RS.ScreenManager.jsonParse(parameters["a" /* default */]["ActorFunc.moveToStartPosition"]),\r\n    setActorHome: RS.ScreenManager.jsonParse(parameters["a" /* default */]["ActorFunc.setActorHome"]),\r\n    stepForward: RS.ScreenManager.jsonParse(parameters["a" /* default */]["ActorFunc.stepForward"]),\r\n    stepBack: RS.ScreenManager.jsonParse(parameters["a" /* default */]["ActorFunc.stepBack"]),\r\n    retreat: RS.ScreenManager.jsonParse(parameters["a" /* default */]["ActorFunc.retreat"]),\r\n};\n// EXTERNAL MODULE: ./lib/2_core.js\nvar _2_core = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./lib/3_localization.js\nvar _3_localization = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./lib/4_utils.js\nvar _4_utils = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./lib/5_loadDLL.js\nvar _5_loadDLL = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./lib/6_ScreenConfig.js\nvar _6_ScreenConfig = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./lib/7_Graphics.js\nvar _7_Graphics = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./lib/8_Scene_Boot.js\nvar _8_Scene_Boot = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./lib/9_SceneManager.js\nvar _9_SceneManager = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./lib/10_ScreenManager.js\nvar _10_ScreenManager = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./lib/11_Game_System.js\nvar _11_Game_System = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./lib/12_Window_Options.js\nvar _12_Window_Options = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./lib/13_Window_ResolutionList.js\nvar _13_Window_ResolutionList = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./lib/14_ResizeGraphicsObjects.js\nvar _14_ResizeGraphicsObjects = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./lib/15_Game_Interpreter.js\nvar _15_Game_Interpreter = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./lib/index.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvMV9wdWJsaWMuanM/OWEwNSIsIndlYnBhY2s6Ly8vLi9saWIvaW5kZXguanM/OWIwYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFc0M7O0FBRXRDO0FBQ0E7QUFDQSxTQUFTLHNDQUFzQyxFQUFFLFlBQVksVUFBVTtBQUN2RSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLDZCQUFVO0FBQ25DLDhCQUE4Qiw2QkFBVTtBQUN4QywyQkFBMkIsNkJBQVU7QUFDckMsNEJBQTRCLDZCQUFVO0FBQ3RDLDJCQUEyQiw2QkFBVTtBQUNyQyxpQ0FBaUMsNkJBQVU7QUFDM0MsOEJBQThCLDZCQUFVO0FBQ3hDLHFDQUFxQyw2QkFBVTs7QUFFL0MsNkJBQTZCLDZCQUFVO0FBQ3ZDO0FBQ0EscUNBQXFDLDZCQUFVO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELDZCQUFVO0FBQ3BFLDBEQUEwRCw2QkFBVTtBQUNwRSxnRUFBZ0UsNkJBQVU7QUFDMUU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsNkJBQVU7O0FBRTlELHNEQUFzRCw2QkFBVTs7QUFFaEUsNkVBQTZFLDZCQUFVOztBQUV2Riw2RUFBNkUsNkJBQVU7O0FBRXZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDZCQUFVOztBQUVuRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwREFBMEQsNkJBQVU7O0FBRXBFO0FBQ0Esb0RBQW9ELDZCQUFVO0FBQzlELDZDQUE2Qyw2QkFBVTtBQUN2RCw0Q0FBNEMsNkJBQVU7QUFDdEQseUNBQXlDLDZCQUFVO0FBQ25ELHdDQUF3Qyw2QkFBVTtBQUNsRCxFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pGdUI7QUFDRjtBQUNRO0FBQ1A7QUFDRTtBQUNLO0FBQ0o7QUFDRTtBQUNFO0FBQ0U7QUFDRjtBQUNHO0FBQ087QUFDQSIsImZpbGUiOiIyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxud2luZG93LkltcG9ydGVkID0gSW1wb3J0ZWQgfHwge307XHJcbndpbmRvdy5JbXBvcnRlZC5SU19TY3JlZW5NYW5hZ2VyID0gdHJ1ZTtcclxuXHJcbndpbmRvdy5SUyA9IFJTIHx8IHt9O1xyXG53aW5kb3cuUlMuU2NyZWVuTWFuYWdlciA9IFJTLlNjcmVlbk1hbmFnZXIgfHwge307XHJcbndpbmRvdy5SUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcyA9IFJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zIHx8IHt9O1xyXG5cclxuaW1wb3J0IHBhcmFtZXRlcnMgZnJvbSBcIi4vcGFyYW1ldGVyc1wiO1xyXG5cclxuUlMuU2NyZWVuTWFuYWdlci5qc29uUGFyc2UgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICB2YXIgcmV0RGF0YSA9IEpTT04ucGFyc2Uoc3RyLCBmdW5jdGlvbiAoaywgdikge1xyXG4gICAgdHJ5IHsgcmV0dXJuIFJTLlNjcmVlbk1hbmFnZXIuanNvblBhcnNlKHYpOyB9IGNhdGNoIChlKSB7IHJldHVybiB2OyB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXREYXRhO1xyXG59O1xyXG5cclxudmFyIGdldFRhcmdldFJlZ2V4ID0gLyhcXGQrKVsgXXhbIF0oXFxkKykvaTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7e3Jlc2l6ZTogQm9vbGVhbiwgYXV0b1NjYWxpbmc6IEJvb2xlYW4sIG1pbldpZHRoOiBCb29sZWFuLCBtaW5IZWlnaHQ6IEJvb2xlYW4sIHJlY3JlYXRlOiBCb29sZWFuLCBhbGxSZXNvbHV0aW9uczogQm9vbGVhbiwgYXNwZWN0UmF0aW86IEJvb2xlYW4sIGlzQXV0b1N5bmNNYW5pZmVzdDogQm9vbGVhbn19XHJcbiAqL1xyXG52YXIgb3B0aW9ucyA9IHt9O1xyXG52YXIgc2V0dGluZ3MgPSB7fTtcclxuXHJcbm9wdGlvbnMucmVzaXplID0gQm9vbGVhbihwYXJhbWV0ZXJzWydpc0dyYXBoaWNzUmVuZGVyZXJSZXNpemUnXSA9PT0gJ3RydWUnKTtcclxub3B0aW9ucy5hdXRvU2NhbGluZyA9IEJvb2xlYW4ocGFyYW1ldGVyc1snaXNHcmFwaGljc1JlbmRlcmVyUmVzaXplJ10gPT09ICd0cnVlJyk7XHJcbm9wdGlvbnMubWluV2lkdGggPSBCb29sZWFuKHBhcmFtZXRlcnNbJ2lzTWFpbnRhaW5pbmdNaW5pbXVtV2lkdGgnXSA9PT0gJ3RydWUnKTtcclxub3B0aW9ucy5taW5IZWlnaHQgPSBCb29sZWFuKHBhcmFtZXRlcnNbJ2lzTWFpbnRhaW5pbmdNaW5pbXVtSGVpZ2h0J10gPT09ICd0cnVlJyk7XHJcbm9wdGlvbnMucmVjcmVhdGUgPSBCb29sZWFuKHBhcmFtZXRlcnNbJ2lzTWFpbnRhaW5pbmdNaW5pbXVtSGVpZ2h0J10gPT09ICd0cnVlJyk7XHJcbm9wdGlvbnMuYWxsUmVzb2x1dGlvbnMgPSBCb29sZWFuKHBhcmFtZXRlcnNbJ1VzZSBBbGwgUmVzb2x1dGlvbnMnXSA9PT0gJ3RydWUnKTtcclxub3B0aW9ucy5hc3BlY3RSYXRpbyA9IEJvb2xlYW4ocGFyYW1ldGVyc1snRW5hYmxlIEN1c3RvbSBBc3BlY3QgUmF0aW8nXSA9PT0gJ3RydWUnKTtcclxub3B0aW9ucy5pc0F1dG9TeW5jTWFuaWZlc3QgPSBCb29sZWFuKHBhcmFtZXRlcnNbJ0F1dG8gU3luYyBNYW5pZmVzdCBmaWxlJ10gPT09ICd0cnVlJyk7XHJcblxyXG5zZXR0aW5ncy5jdXN0b21Bc3BlY3RSYXRpbyA9IHBhcmFtZXRlcnNbJ0N1c3RvbSBBc3BlY3QgUmF0aW8nXSB8fCBcIjE2OjlcIjtcclxuc2V0dGluZ3MuY3VzdG9tQXNwZWN0UmF0aW8gPSBzZXR0aW5ncy5jdXN0b21Bc3BlY3RSYXRpby50cmltKCkuc3BsaXQoXCI6XCIpO1xyXG5zZXR0aW5ncy5wdEN1c3RvbVNjcmVlblNpemUgPSBTdHJpbmcocGFyYW1ldGVyc1tcIkRlZmF1bHQgU2NyZWVuIFNpemVcIl0gfHwgJzEyODAgeCA3MjAnKS5zcGxpdCgnIHggJyk7XHJcbnNldHRpbmdzLmRlZmF1bHRTY3JlZW5TaXplID0gbmV3IFBvaW50KFxyXG4gICAgKHBhcnNlSW50KHNldHRpbmdzLnB0Q3VzdG9tU2NyZWVuU2l6ZVswXSkgfHwgMTI4MCksXHJcbiAgICAocGFyc2VJbnQoc2V0dGluZ3MucHRDdXN0b21TY3JlZW5TaXplWzFdKSB8fCA3MjApKTtcclxuc2V0dGluZ3MucGNHcmFwaGljc0FycmF5ID0gW107XHJcbnNldHRpbmdzLnBjR3JhcGhpY3NUZW1wQXJyYXkgPSBSUy5TY3JlZW5NYW5hZ2VyLmpzb25QYXJzZShwYXJhbWV0ZXJzW1wiUENcIl0pO1xyXG5zZXR0aW5ncy5tb2JpbGVHcmFwaGljc0FycmF5ID0gUlMuU2NyZWVuTWFuYWdlci5qc29uUGFyc2UocGFyYW1ldGVyc1tcIk1vYmlsZVwiXSk7XHJcbnNldHRpbmdzLnJlc29sdXRpb25RdWFsaXR5T25Nb2JpbGUgPSBSUy5TY3JlZW5NYW5hZ2VyLmpzb25QYXJzZShwYXJhbWV0ZXJzW1wiTW9iaWxlIFNpbXBsZVwiXSk7XHJcbnNldHRpbmdzLnN0YXRlID0gXCJyZWFkeVwiO1xyXG5cclxuLy8gUGFyYW1ldGVyc1xyXG5SUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG5SUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcHRpb25zID0gb3B0aW9ucztcclxuUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuZnVsbHNjcmVlbkZsYWcgPSBmYWxzZTtcclxuUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuaXNVc2VkTm9kZUxpYnJhcnkgPSBCb29sZWFuKHBhcmFtZXRlcnNbXCJCaW5kIE5vZGUgTGlicmFyeVwiXSA9PT0gXCJ0cnVlXCIpO1xyXG5cclxuUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMuaXNBdXRvU2NhbGVkUGljdHVyZSA9IEJvb2xlYW4ocGFyYW1ldGVyc1tcIlNjYWxlZCBQaWN0dXJlXCJdID09PSBcInRydWVcIik7XHJcblxyXG5SUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5pZ25vcmVBdXRvU2NhbGVQaWN0dXJlcyA9IFJTLlNjcmVlbk1hbmFnZXIuanNvblBhcnNlKHBhcmFtZXRlcnNbXCJJZ25vcmUgQXV0byBTY2FsZVwiXSk7XHJcblxyXG5SUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5vcmlnaW5hbFBpY3R1cmVWaWV3U2l6ZSA9IFJTLlNjcmVlbk1hbmFnZXIuanNvblBhcnNlKHBhcmFtZXRlcnNbXCJPcmlnaW5hbCBWaWV3IFNpemVcIl0pO1xyXG5cclxuLyoqXHJcbiAqIFNjcmVlbiBTaXplIDogMTI4MCwgNzIwXHJcbiAqIFBpY3R1cmUncyBTaXplIDogODE2LCA2MTQsXHJcbiAqIFBpY3R1cmUncyBQb3NpdGlvbiA6IDgxNiwgNjE0XHJcbiAqIEFjdHVhbCBDb29yZGluYXRlcyA6IDgxNiwgNjE0XHJcbiAqIFZpcnR1YWwgQ29vcmRpbmF0ZXMgKE1haW50YWluIHJhdGlvKSA6IDEyODAsIDcyMFxyXG4gKi9cclxuUlMuU2NyZWVuTWFuYWdlci5QYXJhbXMucGljdHVyZVBvc1R5cGUgPSBwYXJhbWV0ZXJzW1wiUGljdHVyZSBQb3NpdGlvbiBUeXBlXCJdIHx8IFwiQWN0dWFsIENvb3JkaW5hdGVzXCI7XHJcblxyXG4vKipcclxuICogaWYgaXQgaXMgdG8gdHJ1ZSwgaXQgYWRkcyByZXNvbHV0aW9uIHNlbGVjdCBidXR0b24gaW4gdGhlIG9wdGlvbiB3aW5kb3cuXHJcbiAqL1xyXG5SUy5TY3JlZW5NYW5hZ2VyLlBhcmFtcy5pc1ZhbGlkT3B0aW9uV2luZG93ID0gVXRpbHMuaXNNb2JpbGVEZXZpY2UoKSA/IGZhbHNlIDogdHJ1ZTtcclxuXHJcblJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmlzVmFsaWRTY2FsZWRCYXR0bGViYWNrID0gQm9vbGVhbihwYXJhbWV0ZXJzW1wiU2NhbGVkIEJhdHRsZWJhY2tcIl0gPT09IFwidHJ1ZVwiKTtcclxuXHJcblJTLlNjcmVlbk1hbmFnZXIuUGFyYW1zLmFjdG9yRnVuYyA9IHtcclxuICAgIG1vdmVUb1N0YXJ0UG9zaXRpb246IFJTLlNjcmVlbk1hbmFnZXIuanNvblBhcnNlKHBhcmFtZXRlcnNbXCJBY3RvckZ1bmMubW92ZVRvU3RhcnRQb3NpdGlvblwiXSksXHJcbiAgICBzZXRBY3RvckhvbWU6IFJTLlNjcmVlbk1hbmFnZXIuanNvblBhcnNlKHBhcmFtZXRlcnNbXCJBY3RvckZ1bmMuc2V0QWN0b3JIb21lXCJdKSxcclxuICAgIHN0ZXBGb3J3YXJkOiBSUy5TY3JlZW5NYW5hZ2VyLmpzb25QYXJzZShwYXJhbWV0ZXJzW1wiQWN0b3JGdW5jLnN0ZXBGb3J3YXJkXCJdKSxcclxuICAgIHN0ZXBCYWNrOiBSUy5TY3JlZW5NYW5hZ2VyLmpzb25QYXJzZShwYXJhbWV0ZXJzW1wiQWN0b3JGdW5jLnN0ZXBCYWNrXCJdKSxcclxuICAgIHJldHJlYXQ6IFJTLlNjcmVlbk1hbmFnZXIuanNvblBhcnNlKHBhcmFtZXRlcnNbXCJBY3RvckZ1bmMucmV0cmVhdFwiXSksXHJcbn07IiwiaW1wb3J0IFwiLi8xX3B1YmxpYy5qc1wiO1xyXG5pbXBvcnQgXCIuLzJfY29yZS5qc1wiO1xyXG5pbXBvcnQgXCIuLzNfbG9jYWxpemF0aW9uLmpzXCI7XHJcbmltcG9ydCBcIi4vNF91dGlscy5qc1wiO1xyXG5pbXBvcnQgXCIuLzVfbG9hZERMTC5qc1wiO1xyXG5pbXBvcnQgXCIuLzZfU2NyZWVuQ29uZmlnLmpzXCI7XHJcbmltcG9ydCBcIi4vN19HcmFwaGljcy5qc1wiO1xyXG5pbXBvcnQgXCIuLzhfU2NlbmVfQm9vdC5qc1wiO1xyXG5pbXBvcnQgXCIuLzlfU2NlbmVNYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCBcIi4vMTBfU2NyZWVuTWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgXCIuLzExX0dhbWVfU3lzdGVtLmpzXCI7XHJcbmltcG9ydCBcIi4vMTJfV2luZG93X09wdGlvbnMuanNcIjtcclxuaW1wb3J0IFwiLi8xM19XaW5kb3dfUmVzb2x1dGlvbkxpc3QuanNcIjtcclxuaW1wb3J0IFwiLi8xNF9SZXNpemVHcmFwaGljc09iamVjdHMuanNcIjtcclxuaW1wb3J0IFwiLi8xNV9HYW1lX0ludGVycHJldGVyLmpzXCI7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///20\n')}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFBT0EsSUFDdEQsRUFBUEUsR0FBNEIsaUJBQVRGLEVBQW1CLElBQUksSUFBSU0sS0FBT04sRUFBT3JCLEVBQW9CVSxFQUFFZSxFQUFJRSxFQUFLLFNBQVNBLEdBQU8sT0FBT04sRUFBTU0sSUFBUUMsS0FBSyxLQUFNRCxJQUM5SSxPQUFPRixHQUlSekIsRUFBb0I2QixFQUFJLFNBQVMxQixHQUNoQyxJQUFJUyxFQUFTVCxHQUFVQSxFQUFPcUIsV0FDN0IsV0FBd0IsT0FBT3JCLEVBQWdCLFNBQy9DLFdBQThCLE9BQU9BLEdBRXRDLE9BREFILEVBQW9CVSxFQUFFRSxFQUFRLElBQUtBLEdBQzVCQSxHQUlSWixFQUFvQmEsRUFBSSxTQUFTaUIsRUFBUUMsR0FBWSxPQUFPakIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLdUIsRUFBUUMsSUFHekcvQixFQUFvQmtDLEVBQUksR0FJakJsQyxFQUFvQkEsRUFBb0JtQyxFQUFJLEkiLCJmaWxlIjoiUlNfU2NyZWVuTWFuYWdlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyMCk7XG4iXSwic291cmNlUm9vdCI6IiJ9